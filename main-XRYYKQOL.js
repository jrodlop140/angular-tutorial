var OS=Object.defineProperty,FS=Object.defineProperties;var LS=Object.getOwnPropertyDescriptors;var nc=Object.getOwnPropertySymbols,VS=Object.getPrototypeOf,Sy=Object.prototype.hasOwnProperty,Ay=Object.prototype.propertyIsEnumerable,jS=Reflect.get;var Ty=(t,e,n)=>e in t?OS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})Sy.call(e,n)&&Ty(t,n,e[n]);if(nc)for(var n of nc(e))Ay.call(e,n)&&Ty(t,n,e[n]);return t},B=(t,e)=>FS(t,LS(e));var Ny=(t,e)=>{var n={};for(var r in t)Sy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&nc)for(var r of nc(t))e.indexOf(r)<0&&Ay.call(t,r)&&(n[r]=t[r]);return n};var br=(t,e,n)=>jS(VS(t),n,e);var m=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function My(t,e){return Object.is(t,e)}var be=null,rc=!1,ic=1,jn=Symbol("SIGNAL");function Z(t){let e=be;return be=t,e}function Ry(){return be}var ns={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function af(t){if(rc)throw new Error("");if(be===null)return;be.consumerOnSignalRead(t);let e=be.nextProducerIndex++;if(cc(be),e<be.producerNode.length&&be.producerNode[e]!==t&&ts(be)){let n=be.producerNode[e];ac(n,be.producerIndexOfThis[e])}be.producerNode[e]!==t&&(be.producerNode[e]=t,be.producerIndexOfThis[e]=ts(be)?Oy(t,be,e):0),be.producerLastReadVersion[e]=t.version}function US(){ic++}function xy(t){if(!(ts(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ic)){if(!t.producerMustRecompute(t)&&!lf(t)){t.dirty=!1,t.lastCleanEpoch=ic;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ic}}function ky(t){if(t.liveConsumerNode===void 0)return;let e=rc;rc=!0;try{for(let n of t.liveConsumerNode)n.dirty||BS(n)}finally{rc=e}}function Py(){return be?.consumerAllowSignalWrites!==!1}function BS(t){t.dirty=!0,ky(t),t.consumerMarkedDirty?.(t)}function sc(t){return t&&(t.nextProducerIndex=0),Z(t)}function cf(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ts(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ac(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lf(t){cc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xy(n),r!==n.version))return!0}return!1}function uf(t){if(cc(t),ts(t))for(let e=0;e<t.producerNode.length;e++)ac(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Oy(t,e,n){if(Fy(t),t.liveConsumerNode.length===0&&Ly(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Oy(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ac(t,e){if(Fy(t),t.liveConsumerNode.length===1&&Ly(t))for(let r=0;r<t.producerNode.length;r++)ac(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];cc(i),i.producerIndexOfThis[r]=e}}function ts(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function cc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Fy(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ly(t){return t.producerNode!==void 0}function Vy(t){let e=Object.create($S);e.computation=t;let n=()=>{if(xy(e),af(e),e.value===oc)throw e.error;return e.value};return n[jn]=e,n}var of=Symbol("UNSET"),sf=Symbol("COMPUTING"),oc=Symbol("ERRORED"),$S=B(I({},ns),{value:of,dirty:!0,error:null,equal:My,producerMustRecompute(t){return t.value===of||t.value===sf},producerRecomputeValue(t){if(t.value===sf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=sf;let n=sc(t),r;try{r=t.computation()}catch(i){r=oc,t.error=i}finally{cf(t,n)}if(e!==of&&e!==oc&&r!==oc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function HS(){throw new Error}var jy=HS;function Uy(){jy()}function By(t){jy=t}var WS=null;function $y(t){let e=Object.create(Wy);e.value=t;let n=()=>(af(e),e.value);return n[jn]=e,n}function df(t,e){Py()||Uy(),t.equal(t.value,e)||(t.value=e,zS(t))}function Hy(t,e){Py()||Uy(),df(t,e(t.value))}var Wy=B(I({},ns),{equal:My,value:void 0});function zS(t){t.version++,US(),ky(t),WS?.()}function F(t){return typeof t=="function"}function yi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var lc=yi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof lc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zy(o)}catch(s){e=e??[],s instanceof lc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new lc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tr(n,e)}remove(e){let{_finalizers:n}=this;n&&Tr(n,e),e instanceof t&&e._removeParent(this)}};me.EMPTY=(()=>{let t=new me;return t.closed=!0,t})();var ff=me.EMPTY;function uc(t){return t instanceof me||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function zy(t){F(t)?t():t.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _i={setTimeout(t,e,...n){let{delegate:r}=_i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=_i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function dc(t){_i.setTimeout(()=>{let{onUnhandledError:e}=At;if(e)e(t);else throw t})}function Sr(){}var Gy=hf("C",void 0,void 0);function qy(t){return hf("E",void 0,t)}function Yy(t){return hf("N",t,void 0)}function hf(t,e,n){return{kind:t,value:e,error:n}}var Ar=null;function Ei(t){if(At.useDeprecatedSynchronousErrorHandling){let e=!Ar;if(e&&(Ar={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ar;if(Ar=null,n)throw r}}else t()}function Ky(t){At.useDeprecatedSynchronousErrorHandling&&Ar&&(Ar.errorThrown=!0,Ar.error=t)}var Nr=class extends me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uc(e)&&e.add(this)):this.destination=YS}static create(e,n,r){return new Ii(e,n,r)}next(e){this.isStopped?mf(Yy(e),this):this._next(e)}error(e){this.isStopped?mf(qy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mf(Gy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GS=Function.prototype.bind;function pf(t,e){return GS.call(t,e)}var gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fc(r)}else fc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fc(n)}}},Ii=class extends Nr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&At.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pf(e.next,o),error:e.error&&pf(e.error,o),complete:e.complete&&pf(e.complete,o)}):i=e}this.destination=new gf(i)}};function fc(t){At.useDeprecatedSynchronousErrorHandling?Ky(t):dc(t)}function qS(t){throw t}function mf(t,e){let{onStoppedNotification:n}=At;n&&_i.setTimeout(()=>n(t,e))}var YS={closed:!0,next:Sr,error:qS,complete:Sr};var wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ue(t){return t}function rs(...t){return vf(t)}function vf(t){return t.length===0?Ue:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var V=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ZS(n)?n:new Ii(n,r,i);return Ei(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Zy(r),new r((i,o)=>{let s=new Ii({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[wi](){return this}pipe(...n){return vf(n)(this)}toPromise(n){return n=Zy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Zy(t){var e;return(e=t??At.Promise)!==null&&e!==void 0?e:Promise}function KS(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function ZS(t){return t&&t instanceof Nr||KS(t)&&uc(t)}function yf(t){return F(t?.lift)}function W(t){return e=>{if(yf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(t,e,n,r,i){return new _f(t,e,n,r,i)}var _f=class extends Nr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ci(){return W((t,e)=>{let n=null;t._refCount++;let r=U(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Di=class extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new me;let n=this.getSubject();e.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=me.EMPTY)}return e}refCount(){return Ci()(this)}};var Qy=yi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class t extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qy}next(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ff:(this.currentObservers=null,o.push(n),new me(()=>{this.currentObservers=null,Tr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return t.create=(e,n)=>new hc(e,n),t})(),hc=class extends Ae{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ff}};var Re=class extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ef={now(){return(Ef.delegate||Date).now()},delegate:void 0};var pc=class extends me{constructor(e,n){super()}schedule(e,n=0){return this}};var is={setInterval(t,e,...n){let{delegate:r}=is;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=is;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var bi=class extends pc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return is.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&is.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ti=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ti.now=Ef.now;var Si=class extends Ti{constructor(e,n=Ti.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ai=new Si(bi),If=Ai;var mc=class extends bi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var gc=class extends Si{};var wf=new gc(mc);var Be=new V(t=>t.complete());function vc(t){return t&&F(t.schedule)}function Cf(t){return t[t.length-1]}function yc(t){return F(Cf(t))?t.pop():void 0}function zt(t){return vc(Cf(t))?t.pop():void 0}function Jy(t,e){return typeof Cf(t)=="number"?t.pop():e}function _c(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function e_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Xy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(t){return this instanceof Mr?(this.v=t,this):new Mr(t)}function t_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(C){return new Promise(function(N,O){o.push([h,C,N,O])>1||c(h,C)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(C){f(o[0][3],C)}}function l(h){h.value instanceof Mr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function n_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xy=="function"?Xy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ec=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ic(t){return F(t?.then)}function wc(t){return F(t[wi])}function Cc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Dc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bc=QS();function Tc(t){return F(t?.[bc])}function Sc(t){return t_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mr(n.read());if(i)return yield Mr(void 0);yield yield Mr(r)}}finally{n.releaseLock()}})}function Ac(t){return F(t?.getReader)}function fe(t){if(t instanceof V)return t;if(t!=null){if(wc(t))return JS(t);if(Ec(t))return XS(t);if(Ic(t))return eA(t);if(Cc(t))return r_(t);if(Tc(t))return tA(t);if(Ac(t))return nA(t)}throw Dc(t)}function JS(t){return new V(e=>{let n=t[wi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XS(t){return new V(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eA(t){return new V(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,dc)})}function tA(t){return new V(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function r_(t){return new V(e=>{rA(t,e).catch(n=>e.error(n))})}function nA(t){return r_(Sc(t))}function rA(t,e){var n,r,i,o;return e_(this,void 0,void 0,function*(){try{for(n=n_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ze(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Un(t,e=0){return W((n,r)=>{n.subscribe(U(r,i=>Ze(r,t,()=>r.next(i),e),()=>Ze(r,t,()=>r.complete(),e),i=>Ze(r,t,()=>r.error(i),e)))})}function Bn(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function i_(t,e){return fe(t).pipe(Bn(e),Un(e))}function o_(t,e){return fe(t).pipe(Bn(e),Un(e))}function s_(t,e){return new V(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function a_(t,e){return new V(n=>{let r;return Ze(n,e,()=>{r=t[bc](),Ze(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Nc(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{Ze(n,e,()=>{let r=t[Symbol.asyncIterator]();Ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function c_(t,e){return Nc(Sc(t),e)}function l_(t,e){if(t!=null){if(wc(t))return i_(t,e);if(Ec(t))return s_(t,e);if(Ic(t))return o_(t,e);if(Cc(t))return Nc(t,e);if(Tc(t))return a_(t,e);if(Ac(t))return c_(t,e)}throw Dc(t)}function se(t,e){return e?l_(t,e):fe(t)}function M(...t){let e=zt(t);return se(t,e)}function Ni(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new V(e?i=>e.schedule(r,0,i):r)}function Df(t){return!!t&&(t instanceof V||F(t.lift)&&F(t.subscribe))}var gn=yi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function u_(t){return t instanceof Date&&!isNaN(t)}function x(t,e){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:iA}=Array;function oA(t,e){return iA(e)?t(...e):t(e)}function Mc(t){return x(e=>oA(t,e))}var{isArray:sA}=Array,{getPrototypeOf:aA,prototype:cA,keys:lA}=Object;function Rc(t){if(t.length===1){let e=t[0];if(sA(e))return{args:e,keys:null};if(uA(e)){let n=lA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function uA(t){return t&&typeof t=="object"&&aA(t)===cA}function xc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kc(...t){let e=zt(t),n=yc(t),{args:r,keys:i}=Rc(t);if(r.length===0)return se([],e);let o=new V(dA(r,e,i?s=>xc(i,s):Ue));return n?o.pipe(Mc(n)):o}function dA(t,e,n=Ue){return r=>{d_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)d_(e,()=>{let l=se(t[c],e),u=!1;l.subscribe(U(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function d_(t,e,n){t?Ze(n,t,e):e()}function f_(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=C=>l<r?p(C):c.push(C),p=C=>{o&&e.next(C),l++;let N=!1;fe(n(C,u++)).subscribe(U(e,O=>{i?.(O),o?h(O):e.next(O)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){let O=c.shift();s?Ze(e,s,()=>p(O)):p(O)}f()}catch(O){e.error(O)}}))};return t.subscribe(U(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ye(t,e,n=1/0){return F(e)?ye((r,i)=>x((o,s)=>e(r,o,i,s))(fe(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>f_(r,i,t,n)))}function os(t=1/0){return ye(Ue,t)}function h_(){return os(1)}function $n(...t){return h_()(se(t,zt(t)))}function Pc(t){return new V(e=>{fe(t()).subscribe(e)})}function bf(...t){let e=yc(t),{args:n,keys:r}=Rc(t),i=new V(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;fe(n[u]).subscribe(U(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?xc(r,a):a),o.complete())}))}});return e?i.pipe(Mc(e)):i}function p_(t=0,e,n=If){let r=-1;return e!=null&&(vc(e)?n=e:r=e),new V(i=>{let o=u_(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Tf(...t){let e=zt(t),n=Jy(t,1/0),r=t;return r.length?r.length===1?fe(r[0]):os(n)(se(r,e)):Be}function ht(t,e){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Hn(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(U(n,void 0,void 0,s=>{o=fe(t(s,Hn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function m_(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(U(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Rr(t,e){return F(e)?ye(t,e,1):ye(t,1)}function Wn(t){return W((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qe(t){return t<=0?()=>Be:W((e,n)=>{let r=0;e.subscribe(U(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function g_(){return W((t,e)=>{t.subscribe(U(e,Sr))})}function ss(t){return x(()=>t)}function Sf(t,e){return e?n=>$n(e.pipe(Qe(1),g_()),n.pipe(Sf(t))):ye((n,r)=>fe(t(n,r)).pipe(Qe(1),ss(n)))}function Af(t,e=Ai){let n=p_(t,e);return Sf(()=>n)}function Nf(t,e=Ue){return t=t??fA,W((n,r)=>{let i,o=!0;n.subscribe(U(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function fA(t,e){return t===e}function Oc(t=hA){return W((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hA(){return new gn}function Mi(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Nt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,o)=>t(i,o,r)):Ue,Qe(1),n?Wn(e):Oc(()=>new gn))}function Ri(t){return t<=0?()=>Be:W((e,n)=>{let r=[];e.subscribe(U(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Mf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,o)=>t(i,o,r)):Ue,Ri(1),n?Wn(e):Oc(()=>new gn))}function as(t,e){return W(m_(t,e,arguments.length>=2,!0))}function Rf(...t){let e=zt(t);return W((n,r)=>{(e?$n(t,n,e):$n(t,n)).subscribe(r)})}function $e(t,e){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(U(r,c=>{i?.unsubscribe();let l=0,u=o++;fe(t(c,u)).subscribe(i=U(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xf(t){return W((e,n)=>{fe(t).subscribe(U(n,()=>n.complete(),Sr)),!n.closed&&e.subscribe(n)})}function _e(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(U(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ue}var iE="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(wl(e,n)),this.code=e}};function wl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function _s(t){return{toString:t}.toString()}var Fc="__parameters__";function pA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function oE(t,e,n){return _s(()=>{let r=pA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Fc)?c[Fc]:Object.defineProperty(c,Fc,{value:[]})[Fc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yf=globalThis;function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function mA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function We(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function v_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var gA=ae({__forward_ref__:ae});function In(t){return t.__forward_ref__=In,t.toString=function(){return We(this())},t}function He(t){return sE(t)?t():t}function sE(t){return typeof t=="function"&&t.hasOwnProperty(gA)&&t.__forward_ref__===In}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cl(t){return y_(t,cE)||y_(t,lE)}function aE(t){return Cl(t)!==null}function y_(t,e){return t.hasOwnProperty(e)?t[e]:null}function vA(t){let e=t&&(t[cE]||t[lE]);return e||null}function __(t){return t&&(t.hasOwnProperty(E_)||t.hasOwnProperty(yA))?t[E_]:null}var cE=ae({\u0275prov:ae}),E_=ae({\u0275inj:ae}),lE=ae({ngInjectableDef:ae}),yA=ae({ngInjectorDef:ae}),T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uE(t){return t&&!!t.\u0275providers}var _A=ae({\u0275cmp:ae}),EA=ae({\u0275dir:ae}),IA=ae({\u0275pipe:ae}),wA=ae({\u0275mod:ae}),Kc=ae({\u0275fac:ae}),us=ae({__NG_ELEMENT_ID__:ae}),I_=ae({__NG_ENV_ID__:ae});function Li(t){return typeof t=="string"?t:t==null?"":String(t)}function CA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Li(t)}function DA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function Lh(t,e){throw new S(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),Kf;function dE(){return Kf}function pt(t){let e=Kf;return Kf=t,e}function fE(t,e,n){let r=Cl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;Lh(t,"Injector")}var bA={},ds=bA,Zf="__NG_DI_FLAG__",Zc="ngTempTokenPath",TA="ngTokenPath",SA=/\n/gm,AA="\u0275",w_="__source",Oi;function NA(){return Oi}function zn(t){let e=Oi;return Oi=t,e}function MA(t,e=$.Default){if(Oi===void 0)throw new S(-203,!1);return Oi===null?fE(t,void 0,e):Oi.get(t,e&$.Optional?null:void 0,e)}function P(t,e=$.Default){return(dE()||MA)(He(t),e)}function _(t,e=$.Default){return P(t,Dl(e))}function Dl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qf(t){let e=[];for(let n=0;n<t.length;n++){let r=He(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],c=RA(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(P(i,o))}else e.push(P(r))}return e}function hE(t,e){return t[Zf]=e,t.prototype[Zf]=e,t}function RA(t){return t[Zf]}function xA(t,e,n,r){let i=t[Zc];throw e[w_]&&i.unshift(e[w_]),t.message=kA(`
`+t.message,i,n,r),t[TA]=i,t[Zc]=null,t}function kA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AA?t.slice(2):t;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):We(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(SA,`
  `)}`}var Ge=hE(oE("Optional"),8);var pE=hE(oE("SkipSelf"),4);function Vi(t,e){let n=t.hasOwnProperty(Kc);return n?t[Kc]:null}function Vh(t,e){t.forEach(n=>Array.isArray(n)?Vh(n,e):e(n))}function mE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function PA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function OA(t,e,n){let r=Es(t,e);return r>=0?t[r|1]=n:(r=~r,PA(t,r,e,n)),r}function kf(t,e){let n=Es(t,e);if(n>=0)return t[n|1]}function Es(t,e){return FA(t,e,1)}function FA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ji={},rt=[],kr=new T(""),gE=new T("",-1),vE=new T(""),Jc=class{get(e,n=ds){if(n===ds){let r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return n}},yE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yE||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{}),qn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(qn||{});function LA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Jf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];VA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function _E(t){return t===3||t===4||t===6}function VA(t){return t.charCodeAt(0)===64}function fs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?C_(t,n,i,null,e[++r]):C_(t,n,i,null,null))}}return t}function C_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var EE="ng-template";function jA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function jh(t){return t.type===4&&t.value!==EE}function UA(t,e,n){let r=t.type===4&&!n?EE:t.value;return e===r}function BA(t,e,n){let r=4,i=t.attrs,o=i!==null?WA(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Mt(r)&&!Mt(c))return!1;if(s&&Mt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!UA(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;s=!0}}else if(r&8){if(i===null||!jA(t,i,c,n)){if(Mt(r))return!1;s=!0}}else{let l=e[++a],u=$A(c,i,jh(t),n);if(u===-1){if(Mt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Mt(r))return!1;s=!0}}}}return Mt(r)||s}function Mt(t){return(t&1)===0}function $A(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zA(e,t)}function HA(t,e,n=!1){for(let r=0;r<e.length;r++)if(BA(t,e[r],n))return!0;return!1}function WA(t){for(let e=0;e<t.length;e++){let n=t[e];if(_E(n))return e}return t.length}function zA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function D_(t,e){return t?":not("+e.trim()+")":e}function GA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mt(s)&&(e+=D_(o,i),i=""),r=s,o=o||!Mt(r);n++}return i!==""&&(e+=D_(o,i)),e}function qA(t){return t.map(GA).join(",")}function YA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Mt(i))break;i=o}r++}return{attrs:e,classes:n}}function J(t){return _s(()=>{let e=bE(t),n=B(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||rt,_:null,schemas:t.schemas||null,tView:null,id:""});TE(n);let r=t.dependencies;return n.directiveDefs=T_(r,!1),n.pipeDefs=T_(r,!0),n.id=QA(n),n})}function KA(t){return Pr(t)||IE(t)}function ZA(t){return t!==null}function Cn(t){return _s(()=>({type:t.type,bootstrap:t.bootstrap||rt,declarations:t.declarations||rt,imports:t.imports||rt,exports:t.exports||rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function b_(t,e){if(t==null)return ji;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=qn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==qn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ee(t){return _s(()=>{let e=bE(t);return TE(e),e})}function Pr(t){return t[_A]||null}function IE(t){return t[EA]||null}function wE(t){return t[IA]||null}function CE(t){let e=Pr(t)||IE(t)||wE(t);return e!==null?e.standalone:!1}function DE(t,e){let n=t[wA]||null;if(!n&&e===!0)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return n}function bE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ji,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:b_(t.inputs,e),outputs:b_(t.outputs),debugInfo:null}}function TE(t){t.features?.forEach(e=>e(t))}function T_(t,e){if(!t)return null;let n=e?wE:KA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ZA)}function QA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function st(t){return{\u0275providers:t}}function JA(...t){return{\u0275providers:SE(!0,t),\u0275fromNgModule:!0}}function SE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Vh(e,s=>{let a=s;Xf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&AE(i,o),n}function AE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Uh(i,o=>{e(o,r)})}}function Xf(t,e,n,r){if(t=He(t),!t)return!1;let i=null,o=__(t),s=!o&&Pr(t);if(!o&&!s){let c=t.ngModule;if(o=__(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Xf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Vh(o.imports,u=>{Xf(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&AE(l,e)}if(!a){let l=Vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:rt},i),e({provide:vE,useValue:i,multi:!0},i),e({provide:kr,useValue:()=>P(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Uh(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Uh(t,e){for(let n of t)uE(n)&&(n=n.\u0275providers),Array.isArray(n)?Uh(n,e):e(n)}var XA=ae({provide:String,useValue:ae});function NE(t){return t!==null&&typeof t=="object"&&XA in t}function eN(t){return!!(t&&t.useExisting)}function tN(t){return!!(t&&t.useFactory)}function Ui(t){return typeof t=="function"}function nN(t){return!!t.useClass}var bl=new T(""),Wc={},rN={},Pf;function Bh(){return Pf===void 0&&(Pf=new Jc),Pf}var gt=class{},hs=class extends gt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(e,s=>this.processProvider(s)),this.records.set(gE,xi(void 0,this)),i.has("environment")&&this.records.set(gt,xi(void 0,this));let o=this.records.get(bl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vE,rt,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=zn(this),r=pt(void 0),i;try{return e()}finally{zn(n),pt(r)}}get(e,n=ds,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(I_))return e[I_](this);r=Dl(r);let i,o=zn(this),s=pt(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=cN(e)&&Cl(e);l&&this.injectableDefInScope(l)?c=xi(eh(e),Wc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$.Self?Bh():this.parent;return n=r&$.Optional&&n===ds?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zc]=a[Zc]||[]).unshift(We(e)),o)throw a;return xA(a,e,"R3InjectorError",this.source)}else throw a}finally{pt(s),zn(o)}}resolveInjectorInitializers(){let e=Z(null),n=zn(this),r=pt(void 0),i;try{let o=this.get(kr,rt,$.Self);for(let s of o)s()}finally{zn(n),pt(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=He(e);let n=Ui(e)?e:He(e&&e.provide),r=oN(e);if(!Ui(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xi(void 0,Wc,!0),i.factory=()=>Qf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===Wc&&(n.value=rN,n.value=n.factory()),typeof n.value=="object"&&n.value&&aN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=He(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function eh(t){let e=Cl(t),n=e!==null?e.factory:Vi(t);if(n!==null)return n;if(t instanceof T)throw new S(204,!1);if(t instanceof Function)return iN(t);throw new S(204,!1)}function iN(t){if(t.length>0)throw new S(204,!1);let n=vA(t);return n!==null?()=>n.factory(t):()=>new t}function oN(t){if(NE(t))return xi(void 0,t.useValue);{let e=ME(t);return xi(e,Wc)}}function ME(t,e,n){let r;if(Ui(t)){let i=He(t);return Vi(i)||eh(i)}else if(NE(t))r=()=>He(t.useValue);else if(tN(t))r=()=>t.useFactory(...Qf(t.deps||[]));else if(eN(t))r=()=>P(He(t.useExisting));else{let i=He(t&&(t.useClass||t.provide));if(sN(t))r=()=>new i(...Qf(t.deps));else return Vi(i)||eh(i)}return r}function xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sN(t){return!!t.deps}function aN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cN(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function th(t,e){for(let n of t)Array.isArray(n)?th(n,e):n&&uE(n)?th(n.\u0275providers,e):e(n)}function Qt(t,e){t instanceof hs&&t.assertNotDestroyed();let n,r=zn(t),i=pt(void 0);try{return e()}finally{zn(r),pt(i)}}function lN(){return dE()!==void 0||NA()!=null}function uN(t){return typeof t=="function"}var ot=0,z=1,k=2,Fe=3,Rt=4,Ot=5,Kt=6,Xc=7,kt=8,Bi=9,Zt=10,ge=11,ps=12,S_=13,Zi=14,vt=15,$i=16,ki=17,Hi=18,Tl=19,RE=20,Gn=21,Of=22,mt=23,ze=25,xE=1,ms=6,vn=7,el=8,tl=9,it=10,nl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(nl||{});function xt(t){return Array.isArray(t)&&typeof t[xE]=="object"}function Jt(t){return Array.isArray(t)&&t[xE]===!0}function $h(t){return(t.flags&4)!==0}function Is(t){return t.componentOffset>-1}function Sl(t){return(t.flags&1)===1}function Yn(t){return!!t.template}function rl(t){return(t[k]&512)!==0}var nh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xt(){return PE}function PE(t){return t.type.prototype.ngOnChanges&&(t.setInput=fN),dN}Xt.ngInherit=!0;function dN(){let t=FE(this),e=t?.current;if(e){let n=t.previous;if(n===ji)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fN(t,e,n,r,i){let o=this.declaredInputs[r],s=FE(t)||hN(t,{previous:ji,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new nh(l&&l.currentValue,n,c===ji),kE(t,e,i,n)}var OE="__ngSimpleChanges__";function FE(t){return t[OE]||null}function hN(t,e){return t[OE]=e}var A_=null;var Gt=function(t,e,n){A_?.(t,e,n)},pN="svg",mN="math";function Pt(t){for(;Array.isArray(t);)t=t[ot];return t}function LE(t,e){return Pt(e[t])}function at(t,e){return Pt(e[t.index])}function VE(t,e){return t.data[e]}function Jn(t,e){let n=e[t];return xt(n)?n:n[ot]}function Hh(t){return(t[k]&128)===128}function gN(t){return Jt(t[Fe])}function Wi(t,e){return e==null?null:t[e]}function jE(t){t[ki]=0}function UE(t){t[k]&1024||(t[k]|=1024,Hh(t)&&Nl(t))}function vN(t,e){for(;t>0;)e=e[Zi],t--;return e}function Al(t){return!!(t[k]&9216||t[mt]?.dirty)}function rh(t){t[Zt].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),Al(t)&&Nl(t)}function Nl(t){t[Zt].changeDetectionScheduler?.notify(0);let e=Or(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!Hh(e)));)e=Or(e)}function BE(t,e){if((t[k]&256)===256)throw new S(911,!1);t[Gn]===null&&(t[Gn]=[]),t[Gn].push(e)}function yN(t,e){if(t[Gn]===null)return;let n=t[Gn].indexOf(e);n!==-1&&t[Gn].splice(n,1)}function Or(t){let e=t[Fe];return Jt(e)?e[Fe]:e}var H={lFrame:QE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $E=!1;function _N(){return H.lFrame.elementDepthCount}function EN(){H.lFrame.elementDepthCount++}function IN(){H.lFrame.elementDepthCount--}function HE(){return H.bindingsEnabled}function ws(){return H.skipHydrationRootTNode!==null}function wN(t){return H.skipHydrationRootTNode===t}function CN(t){H.skipHydrationRootTNode=t}function DN(){H.skipHydrationRootTNode=null}function oe(){return H.lFrame.lView}function ct(){return H.lFrame.tView}function yt(t){return H.lFrame.contextLView=t,t[kt]}function _t(t){return H.lFrame.contextLView=null,t}function qe(){let t=WE();for(;t!==null&&t.type===64;)t=t.parent;return t}function WE(){return H.lFrame.currentTNode}function bN(){let t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ur(t,e){let n=H.lFrame;n.currentTNode=t,n.isParent=e}function Wh(){return H.lFrame.isParent}function zE(){H.lFrame.isParent=!1}function GE(){return $E}function N_(t){$E=t}function zh(){let t=H.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function TN(){return H.lFrame.bindingIndex}function SN(t){return H.lFrame.bindingIndex=t}function Gh(){return H.lFrame.bindingIndex++}function qE(t){let e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function AN(){return H.lFrame.inI18n}function NN(t,e){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,ih(e)}function MN(){return H.lFrame.currentDirectiveIndex}function ih(t){H.lFrame.currentDirectiveIndex=t}function RN(t){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YE(t){H.lFrame.currentQueryIndex=t}function xN(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[Ot]:null}function KE(t,e,n){if(n&$.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=xN(o),i===null||(o=o[Zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=H.lFrame=ZE();return r.currentTNode=e,r.lView=t,!0}function qh(t){let e=ZE(),n=t[z];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZE(){let t=H.lFrame,e=t===null?null:t.child;return e===null?QE(t):e}function QE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function JE(){let t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var XE=JE;function Yh(){let t=JE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kN(t){return(H.lFrame.contextLView=vN(t,H.lFrame.contextLView))[kt]}function Br(){return H.lFrame.selectedIndex}function Fr(t){H.lFrame.selectedIndex=t}function eI(){let t=H.lFrame;return VE(t.tView,t.selectedIndex)}function tI(){return H.lFrame.currentNamespace}var nI=!0;function Ml(){return nI}function Xn(t){nI=t}function PN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=PE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Rl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function zc(t,e,n){rI(t,e,3,n)}function Gc(t,e,n,r){(t[k]&3)===n&&rI(t,e,n,r)}function Ff(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function rI(t,e,n,r){let i=r!==void 0?t[ki]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ki]+=65536),(a<o||o==-1)&&(ON(t,n,e,c),t[ki]=(t[ki]&4294901760)+c+2),c++}function M_(t,e){Gt(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),Gt(5,t,e)}}function ON(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[ki]>>16&&(t[k]&3)===e&&(t[k]+=16384,M_(a,o)):M_(a,o)}var Fi=-1,Lr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function FN(t){return t instanceof Lr}function LN(t){return(t.flags&8)!==0}function VN(t){return(t.flags&16)!==0}var Lf={},oh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Dl(r);let i=this.injector.get(e,Lf,r);return i!==Lf||n===Lf?i:this.parentInjector.get(e,n,r)}};function iI(t){return t!==Fi}function il(t){return t&32767}function jN(t){return t>>16}function ol(t,e){let n=jN(t),r=e;for(;n>0;)r=r[Zi],n--;return r}var sh=!0;function R_(t){let e=sh;return sh=t,e}var UN=256,oI=UN-1,sI=5,BN=0,qt={};function $N(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(us)&&(r=n[us]),r==null&&(r=n[us]=BN++);let i=r&oI,o=1<<i;e.data[t+(i>>sI)]|=o}function sl(t,e){let n=aI(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Vf(r.data,t),Vf(e,null),Vf(r.blueprint,null));let i=Kh(t,e),o=t.injectorIndex;if(iI(i)){let s=il(i),a=ol(i,e),c=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Kh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fI(i),r===null)return Fi;if(n++,i=i[Zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fi}function ah(t,e,n){$N(t,e,n)}function HN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(_E(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function cI(t,e,n){if(n&$.Optional||t!==void 0)return t;Lh(e,"NodeInjector")}function lI(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[Bi],o=pt(void 0);try{return i?i.get(e,r,n&$.Optional):fE(e,r,n&$.Optional)}finally{pt(o)}}return cI(r,e,n)}function uI(t,e,n,r=$.Default,i){if(t!==null){if(e[k]&2048&&!(r&$.Self)){let s=YN(t,e,n,r,qt);if(s!==qt)return s}let o=dI(t,e,n,r,qt);if(o!==qt)return o}return lI(e,n,r,i)}function dI(t,e,n,r,i){let o=GN(n);if(typeof o=="function"){if(!KE(e,t,r))return r&$.Host?cI(i,n,r):lI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))Lh(n);else return s}finally{XE()}}else if(typeof o=="number"){let s=null,a=aI(t,e),c=Fi,l=r&$.Host?e[vt][Ot]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?Kh(t,e):e[a+8],c===Fi||!k_(r,!1)?a=-1:(s=e[z],a=il(c),e=ol(c,e)));a!==-1;){let u=e[z];if(x_(o,a,u.data)){let d=WN(a,e,n,s,r,l);if(d!==qt)return d}c=e[a+8],c!==Fi&&k_(r,e[z].data[a+8]===l)&&x_(o,a,e)?(s=u,a=il(c),e=ol(c,e)):a=-1}}return i}function WN(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],c=r==null?Is(a)&&sh:r!=s&&(a.type&3)!==0,l=i&$.Host&&o===a,u=zN(a,s,n,c,l);return u!==null?zi(e,s,u,a):qt}function zN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Yn(h)&&h.type===n)return c}return null}function zi(t,e,n,r){let i=t[n],o=e.data;if(FN(i)){let s=i;s.resolving&&DA(CA(o[n]));let a=R_(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?pt(s.injectImpl):null,u=KE(t,r,$.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&PN(n,o[n],e)}finally{l!==null&&pt(l),R_(a),s.resolving=!1,XE()}}return i}function GN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(us)?t[us]:void 0;return typeof e=="number"?e>=0?e&oI:qN:e}function x_(t,e,n){let r=1<<t;return!!(n[e+(t>>sI)]&r)}function k_(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uI(this._tNode,this._lView,e,Dl(r),n)}};function qN(){return new xr(qe(),oe())}function er(t){return _s(()=>{let e=t.prototype.constructor,n=e[Kc]||ch(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Kc]||ch(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ch(t){return sE(t)?()=>{let e=ch(He(t));return e&&e()}:Vi(t)}function YN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=dI(o,s,n,r|$.Self,qt);if(a!==qt)return a;let c=o.parent;if(!c){let l=s[RE];if(l){let u=l.get(n,qt,r);if(u!==qt)return u}c=fI(s),s=s[Zi]}o=c}return i}function fI(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[Ot]:null}function Zh(t){return HN(qe(),t)}function P_(t,e=null,n=null,r){let i=hI(t,e,n,r);return i.resolveInjectorInitializers(),i}function hI(t,e=null,n=null,r,i=new Set){let o=[n||rt,JA(t)];return r=r||(typeof t=="object"?void 0:We(t)),new hs(o,e||Bh(),r||null,i)}var Le=class t{static{this.THROW_IF_NOT_FOUND=ds}static{this.NULL=new Jc}static create(e,n){if(Array.isArray(e))return P_({name:""},n,e,"");{let r=e.name??"";return P_({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=A({token:t,providedIn:"any",factory:()=>P(gE)})}static{this.__NG_ELEMENT_ID__=-1}};var KN=new T("");KN.__NG_ELEMENT_ID__=t=>{let e=qe();if(e===null)throw new S(204,!1);if(e.type&2)return e.value;if(t&$.Optional)return null;throw new S(204,!1)};var ZN="ngOriginalError";function jf(t){return t[ZN]}var pI=!0,mI=(()=>{class t{static{this.__NG_ELEMENT_ID__=QN}static{this.__NG_ENV_ID__=n=>n}}return t})(),lh=class extends mI{constructor(e){super(),this._lView=e}onDestroy(e){return BE(this._lView,e),()=>yN(this._lView,e)}};function QN(){return new lh(oe())}var $r=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})();var uh=class extends Ae{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,lN()&&(this.destroyRef=_(mI,{optional:!0})??void 0,this.pendingTasks=_($r,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},le=uh;function al(...t){}function gI(t){let e,n;function r(){t=al;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function O_(t){return queueMicrotask(()=>t()),()=>{t=al}}var Qh="isAngularZone",cl=Qh+"_ID",JN=0,te=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pI}=e;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XN,al,al);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XN={};function Jh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){gI(()=>{t.callbackScheduled=!1,dh(t),t.isCheckStableRunning=!0,Jh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),dh(t)}function tM(t){let e=()=>{eM(t)},n=JN++;t._inner=t._inner.fork({name:"angular",properties:{[Qh]:!0,[cl]:n,[cl+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(nM(c))return r.invokeTask(o,s,a,c);try{return F_(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),L_(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return F_(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rM(c)&&e(),L_(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,dh(t),Jh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function dh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function F_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function L_(t){t._nesting--,Jh(t)}var fh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nM(t){return vI(t,"__ignore_ng_zone__")}function rM(t){return vI(t,"__scheduler_tick__")}function vI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var yn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jf(e);for(;n&&jf(n);)n=jf(n);return n||null}},iM=new T("",{providedIn:"root",factory:()=>{let t=_(te),e=_(yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function oM(){return xl(qe(),oe())}function xl(t,e){return new Ft(at(t,e))}var Ft=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=oM}}return t})();var sM="ngSkipHydration",aM="ngskiphydration";function yI(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===aM)return!0}return!1}function _I(t){return t.hasAttribute(sM)}function ll(t){return(t.flags&128)===128}function cM(t){if(ll(t))return!0;let e=t.parent;for(;e;){if(ll(t)||yI(e))return!0;e=e.parent}return!1}var EI=new Map,lM=0;function uM(){return lM++}function dM(t){EI.set(t[Tl],t)}function hh(t){EI.delete(t[Tl])}var V_="__ngContext__";function Kn(t,e){xt(e)?(t[V_]=e[Tl],dM(e)):t[V_]=e}function II(t){return CI(t[ps])}function wI(t){return CI(t[Rt])}function CI(t){for(;t!==null&&!Jt(t);)t=t[Rt];return t}var ph;function DI(t){ph=t}function kl(){if(ph!==void 0)return ph;if(typeof document<"u")return document;throw new S(210,!1)}var Pl=new T("",{providedIn:"root",factory:()=>fM}),fM="ng",Xh=new T(""),Et=new T("",{providedIn:"platform",factory:()=>"unknown"});var ep=new T("",{providedIn:"root",factory:()=>kl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function hM(){let t=new Qi;return _(Et)==="browser"&&(t.store=pM(kl(),_(Pl))),t}var Qi=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=A({token:t,providedIn:"root",factory:hM})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function pM(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var bI="h",TI="b",mh=function(t){return t.FirstChild="f",t.NextSibling="n",t}(mh||{}),mM="e",gM="t",tp="c",SI="x",ul="r",vM="i",yM="n",AI="d";var _M="__nghData__",NI=_M,Uf="ngh",EM="nghm",MI=()=>null;function IM(t,e,n=!1){let r=t.getAttribute(Uf);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Qi,null,{optional:!0});u!==null&&(c=u.get(NI,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ol(l,0,t.nextSibling)),a?t.setAttribute(Uf,a):t.removeAttribute(Uf),l}function wM(){MI=IM}function np(t,e,n=!1){return MI(t,e,n)}function CM(t){let e=t._lView;return e[z].type===2?null:(rl(e)&&(e=e[ze]),e)}function DM(t){return t.textContent?.replace(/\s/gm,"")}function bM(t){let e=kl(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=DM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ol(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function gh(t,e){return t.segmentHeads?.[e]??null}function TM(t,e){let n=t.data,r=n[mM]?.[e]??null;return r===null&&n[tp]?.[e]&&(r=rp(t,e)),r}function RI(t,e){return t.data[tp]?.[e]??null}function rp(t,e){let n=RI(t,e)??[],r=0;for(let i of n)r+=i[ul]*(i[SI]??1);return r}function SM(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[AI];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Cs(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[AI];t.disconnectedNodes=n?new Set(n):null}return!!SM(t)?.has(e)}var Lc=new T(""),xI=!1,kI=new T("",{providedIn:"root",factory:()=>xI});var Vc;function AM(){if(Vc===void 0&&(Vc=null,Yf.trustedTypes))try{Vc=Yf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vc}function j_(t){return AM()?.createScriptURL(t)||t}var dl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iE})`}};function Ds(t){return t instanceof dl?t.changingThisBreaksApplicationSecurity:t}function ip(t,e){let n=NM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iE})`)}return n===e}function NM(t){return t instanceof dl&&t.getTypeName()||null}var MM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PI(t){return t=String(t),t.match(MM)?t:"unsafe:"+t}var Fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fl||{});function RM(t){let e=FI();return e?e.sanitize(Fl.URL,t)||"":ip(t,"URL")?Ds(t):PI(Li(t))}function xM(t){let e=FI();if(e)return j_(e.sanitize(Fl.RESOURCE_URL,t)||"");if(ip(t,"ResourceURL"))return j_(Ds(t));throw new S(904,!1)}function kM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?xM:RM}function OI(t,e,n){return kM(e,n)(t)}function FI(){let t=oe();return t&&t[Zt].sanitizer}var PM=/^>|^->|<!--|-->|--!>|<!-$/g,OM=/(<|>)/g,FM="\u200B$1\u200B";function LM(t){return t.replace(PM,e=>e.replace(OM,FM))}function VM(t){return t.ownerDocument.body}function LI(t){return t instanceof Function?t():t}function jc(t){return(t??_(Le)).get(Et)==="browser"}var _n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_n||{}),jM;function op(t,e){return jM(t,e)}function Pi(t,e,n,r,i){if(r!=null){let o,s=!1;Jt(r)?o=r:xt(r)&&(s=!0,r=r[ot]);let a=Pt(r);t===0&&n!==null?i==null?HI(e,n,a):fl(e,n,a,i||null,!0):t===1&&n!==null?fl(e,n,a,i||null,!0):t===2?cp(e,a,s):t===3&&e.destroyNode(a),o!=null&&eR(e,t,o,n,i)}}function VI(t,e){return t.createText(e)}function UM(t,e,n){t.setValue(e,n)}function jI(t,e){return t.createComment(LM(e))}function sp(t,e,n){return t.createElement(e,n)}function BM(t,e){UI(t,e),e[ot]=null,e[Ot]=null}function $M(t,e,n,r,i,o){r[ot]=i,r[Ot]=e,Vl(t,r,n,1,i,o)}function UI(t,e){e[Zt].changeDetectionScheduler?.notify(9),Vl(t,e,e[ge],2,null,null)}function HM(t){let e=t[ps];if(!e)return Bf(t[z],t);for(;e;){let n=null;if(xt(e))n=e[ps];else{let r=e[it];r&&(n=r)}if(!n){for(;e&&!e[Rt]&&e!==t;)xt(e)&&Bf(e[z],e),e=e[Fe];e===null&&(e=t),xt(e)&&Bf(e[z],e),n=e&&e[Rt]}e=n}}function WM(t,e,n,r){let i=it+r,o=n.length;r>0&&(n[i-1][Rt]=e),r<o-it?(e[Rt]=n[i],mE(n,it+r,e)):(n.push(e),e[Rt]=null),e[Fe]=n;let s=e[$i];s!==null&&n!==s&&BI(s,e);let a=e[Hi];a!==null&&a.insertView(t),rh(e),e[k]|=128}function BI(t,e){let n=t[tl],r=e[Fe];if(xt(r))t[k]|=nl.HasTransplantedViews;else{let i=r[Fe][vt];e[vt]!==i&&(t[k]|=nl.HasTransplantedViews)}n===null?t[tl]=[e]:n.push(e)}function ap(t,e){let n=t[tl],r=n.indexOf(e);n.splice(r,1)}function vh(t,e){if(t.length<=it)return;let n=it+e,r=t[n];if(r){let i=r[$i];i!==null&&i!==t&&ap(i,r),e>0&&(t[n-1][Rt]=r[Rt]);let o=Qc(t,it+e);BM(r[z],r);let s=o[Hi];s!==null&&s.detachView(o[z]),r[Fe]=null,r[Rt]=null,r[k]&=-129}return r}function $I(t,e){if(!(e[k]&256)){let n=e[ge];n.destroyNode&&Vl(t,e,n,3,null,null),HM(e)}}function Bf(t,e){if(e[k]&256)return;let n=Z(null);try{e[k]&=-129,e[k]|=256,e[mt]&&uf(e[mt]),GM(t,e),zM(t,e),e[z].type===1&&e[ge].destroy();let r=e[$i];if(r!==null&&Jt(e[Fe])){r!==e[Fe]&&ap(r,e);let i=e[Hi];i!==null&&i.detachView(t)}hh(e)}finally{Z(n)}}function zM(t,e){let n=t.cleanup,r=e[Xc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Xc]=null);let i=e[Gn];if(i!==null){e[Gn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function GM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Lr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Gt(4,a,c);try{c.call(a)}finally{Gt(5,a,c)}}else{Gt(4,i,o);try{o.call(i)}finally{Gt(5,i,o)}}}}}function qM(t,e,n){return YM(t,e.parent,n)}function YM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ot];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Yt.None||o===Yt.Emulated)return null}return at(r,n)}}function fl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HI(t,e,n){t.appendChild(e,n)}function U_(t,e,n,r,i){r!==null?fl(t,e,n,r,i):HI(t,e,n)}function WI(t,e){return t.parentNode(e)}function KM(t,e){return t.nextSibling(e)}function ZM(t,e,n){return JM(t,e,n)}function QM(t,e,n){return t.type&40?at(t,n):null}var JM=QM,B_;function Ll(t,e,n,r){let i=qM(t,r,e),o=e[ge],s=r.parent||e[Ot],a=ZM(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)U_(o,i,n[c],a,!1);else U_(o,i,n,a,!1);B_!==void 0&&B_(o,r,e,n,i)}function cs(t,e){if(e!==null){let n=e.type;if(n&3)return at(e,t);if(n&4)return yh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cs(t,r);{let i=t[e.index];return Jt(i)?yh(-1,i):Pt(i)}}else{if(n&128)return cs(t,e.next);if(n&32)return op(e,t)()||Pt(t[e.index]);{let r=zI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Or(t[vt]);return cs(i,r)}else return cs(t,e.next)}}}return null}function zI(t,e){if(e!==null){let r=t[vt][Ot],i=e.projection;return r.projection[i]}return null}function yh(t,e){let n=it+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return cs(r,i)}return e[vn]}function cp(t,e,n){t.removeChild(null,e,n)}function GI(t){t.textContent=""}function lp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Kn(Pt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)lp(t,e,n.child,r,i,o,!1),Pi(e,t,i,a,o);else if(c&32){let l=op(n,r),u;for(;u=l();)Pi(e,t,i,u,o);Pi(e,t,i,a,o)}else c&16?XM(t,e,r,n,i,o):Pi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Vl(t,e,n,r,i,o){lp(n,r,t.firstChild,e,i,o,!1)}function XM(t,e,n,r,i,o){let s=n[vt],c=s[Ot].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Pi(e,t,i,u,o)}else{let l=c,u=s[Fe];ll(r)&&(l.flags|=128),lp(t,e,l,u,i,o,!0)}}function eR(t,e,n,r,i){let o=n[vn],s=Pt(n);o!==s&&Pi(e,t,r,o,i);for(let a=it;a<n.length;a++){let c=n[a];Vl(c[z],c,t,e,r,o)}}function tR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:_n.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_n.Important),t.setStyle(n,r,i,o))}}function nR(t,e,n){t.setAttribute(e,"style",n)}function qI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function YI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Jf(t,e,r),i!==null&&qI(t,e,i),o!==null&&nR(t,e,o)}var Dn={};function w(t=1){KI(ct(),oe(),Br()+t,!1)}function KI(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&zc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Gc(e,o,0,n)}Fr(n)}function b(t,e=$.Default){let n=oe();if(n===null)return P(t,e);let r=qe();return uI(r,n,He(t),e)}function ZI(t,e,n,r,i,o){let s=Z(null);try{let a=null;i&qn.SignalBased&&(a=e[r][jn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&qn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):kE(e,a,r,o)}finally{Z(s)}}function rR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Fr(~i);else{let o=i,s=n[++r],a=n[++r];NN(s,o);let c=e[o];a(2,c)}}}finally{Fr(-1)}}function jl(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[ot]=i,d[k]=r|4|128|8|64,(l!==null||t&&t[k]&2048)&&(d[k]|=2048),jE(d),d[Fe]=d[Zi]=t,d[kt]=n,d[Zt]=s||t&&t[Zt],d[ge]=a||t&&t[ge],d[Bi]=c||t&&t[Bi]||null,d[Ot]=o,d[Tl]=uM(),d[Kt]=u,d[RE]=l,d[vt]=e.type==2?t[vt]:d,d}function bs(t,e,n,r,i){let o=t.data[e];if(o===null)o=iR(t,e,n,r,i),AN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=bN();o.injectorIndex=s===null?-1:s.injectorIndex}return Ur(o,!0),o}function iR(t,e,n,r,i){let o=WE(),s=Wh(),a=s?o:o&&o.parent,c=t.data[e]=uR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function QI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function JI(t,e,n,r,i){let o=Br(),s=r&2;try{Fr(-1),s&&e.length>ze&&KI(t,e,ze,!1),Gt(s?2:0,i),n(r,i)}finally{Fr(o),Gt(s?3:1,i)}}function up(t,e,n){if($h(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Z(r)}}}function dp(t,e,n){HE()&&(vR(t,e,n,at(n,e)),(n.flags&64)===64&&nw(t,e,n))}function fp(t,e,n=at){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function XI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hp(t,e,n,r,i,o,s,a,c,l,u){let d=ze+r,f=d+i,h=oR(d,f),p=typeof l=="function"?l():l;return h[z]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function oR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dn);return n}function sR(t,e,n,r){let o=r.get(kI,xI)||n===Yt.ShadowDom,s=t.selectRootElement(e,o);return aR(s),s}function aR(t){ew(t)}var ew=()=>null;function cR(t){_I(t)?GI(t):bM(t)}function lR(){ew=cR}function uR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ws()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=qn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?H_(r,n,l,a,c):H_(r,n,l,a)}return r}function H_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function dR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=$_(0,d.inputs,u,c,h),l=$_(1,d.outputs,u,l,p);let C=c!==null&&s!==null&&!jh(e)?AR(c,u,s):null;a.push(C)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function fR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function hR(t,e,n,r,i,o,s,a){let c=at(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(mp(t,n,u,r,i),Is(e)&&pR(n,e.index)):e.type&3?(r=fR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function pR(t,e){let n=Jn(e,t);n[k]&16||(n[k]|=64)}function pp(t,e,n,r){if(HE()){let i=r===null?null:{"":-1},o=_R(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&tw(t,e,n,s,i,a),i&&ER(n,r,i)}n.mergedAttrs=fs(n.mergedAttrs,n.attrs)}function tw(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ah(sl(n,e),t,r[l].type);wR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=QI(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=fs(n.mergedAttrs,u.hostAttrs),CR(t,n,e,c,u),IR(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}dR(t,n,o)}function mR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;gR(s)!=a&&s.push(a),s.push(n,r,o)}}function gR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Is(n)&&DR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||sl(n,e),Kn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=zi(e,t,a,n);if(Kn(l,e),s!==null&&SR(e,a-i,l,c,n,s),Yn(c)){let u=Jn(n.index,e);u[kt]=zi(e,t,a,n)}}}function nw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MN();try{Fr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];ih(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&yR(c,l)}}finally{Fr(-1),ih(s)}}function yR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _R(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(HA(e,s.selectors,!1))if(r||(r=[]),Yn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;_h(t,e,c)}else r.unshift(s),_h(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function _h(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ER(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}}function IR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yn(e)&&(n[""]=t)}}function wR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Vi(i.type,!0)),s=new Lr(o,Yn(i),b);t.blueprint[r]=s,n[r]=s,mR(t,e,r,QI(t,n,i.hostVars,Dn),i)}function DR(t,e,n){let r=at(e,t),i=XI(n),o=t[Zt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ul(t,jl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function bR(t,e,n,r,i,o){let s=at(t,e);TR(e[ge],s,o,t.value,n,r,i)}function TR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Li(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function SR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];ZI(r,n,c,l,u,d)}}function AR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function rw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function iw(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];YE(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function Ul(t,e){return t[ps]?t[S_][Rt]=e:t[ps]=e,t[S_]=e,e}function Eh(t,e,n){YE(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function NR(t){return t[Xc]??=[]}function MR(t){return t.cleanup??=[]}function ow(t,e){let n=t[Bi],r=n?n.get(yn,null):null;r&&r.handleError(e)}function mp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];ZI(u,l,r,a,c,i)}}function sw(t,e,n){let r=LE(e,t);UM(t[ge],r,n)}function RR(t,e){let n=Jn(e,t),r=n[z];xR(r,n);let i=n[ot];i!==null&&n[Kt]===null&&(n[Kt]=np(i,n[Bi])),gp(r,n,n[kt])}function xR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gp(t,e,n){qh(e);try{let r=t.viewQuery;r!==null&&Eh(1,r,n);let i=t.template;i!==null&&JI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Hi]?.finishViewCreation(t),t.staticContentQueries&&iw(t,e),t.staticViewQueries&&Eh(2,t.viewQuery,n);let o=t.components;o!==null&&kR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,Yh()}}function kR(t,e){for(let n=0;n<e.length;n++)RR(t,e[n])}function PR(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[k]&4096?4096:16,c=jl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[$i]=l;let u=t[Hi];return u!==null&&(c[Hi]=u.createEmbeddedView(o)),gp(o,c,n),c}finally{Z(i)}}function W_(t,e){return!e||e.firstChild===null||ll(t)}function OR(t,e,n,r=!0){let i=e[z];if(WM(i,e,t,n),r){let s=yh(n,t),a=e[ge],c=WI(a,t[vn]);c!==null&&$M(i,t[Ot],a,e,c,s)}let o=e[Kt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Pt(o)),Jt(o)&&FR(o,r);let s=n.type;if(s&8)hl(t,e,n.child,r);else if(s&32){let a=op(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=zI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Or(e[vt]);hl(c[z],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function FR(t,e){for(let n=it;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&hl(r[z],r,i,e)}t[vn]!==t[ot]&&e.push(t[vn])}var aw=[];function LR(t){return t[mt]??VR(t)}function VR(t){let e=aw.pop()??Object.create(UR);return e.lView=t,e}function jR(t){t.lView[mt]!==t&&(t.lView=null,aw.push(t))}var UR=B(I({},ns),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Nl(t.lView)},consumerOnSignalRead(){this.lView[mt]=this}});function BR(t){let e=t[mt]??Object.create($R);return e.lView=t,e}var $R=B(I({},ns),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Or(t.lView);for(;e&&!cw(e[z]);)e=Or(e);e&&UE(e)},consumerOnSignalRead(){this.lView[mt]=this}});function cw(t){return t.type!==2}var HR=100;function lw(t,e=!0,n=0){let r=t[Zt],i=r.rendererFactory,o=!1;o||i.begin?.();try{WR(t,n)}catch(s){throw e&&ow(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function WR(t,e){let n=GE();try{N_(!0),Ih(t,e);let r=0;for(;Al(t);){if(r===HR)throw new S(103,!1);r++,Ih(t,1)}}finally{N_(n)}}function zR(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Zt].inlineEffectRunner?.flush(),qh(e);let a=!0,c=null,l=null;o||(cw(t)?(l=LR(e),c=sc(l)):Ry()===null?(a=!1,l=BR(e),c=sc(l)):e[mt]&&(uf(e[mt]),e[mt]=null));try{jE(e),SN(t.bindingStartIndex),n!==null&&JI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&zc(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Gc(e,h,0,null),Ff(e,0)}if(s||GR(e),uw(e,0),t.contentQueries!==null&&iw(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&zc(e,h)}else{let h=t.contentHooks;h!==null&&Gc(e,h,1),Ff(e,1)}rR(t,e);let d=t.components;d!==null&&fw(e,d,0);let f=t.viewQuery;if(f!==null&&Eh(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&zc(e,h)}else{let h=t.viewHooks;h!==null&&Gc(e,h,2),Ff(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Of]){for(let h of e[Of])h();e[Of]=null}o||(e[k]&=-73)}catch(u){throw o||Nl(e),u}finally{l!==null&&(cf(l,c),a&&jR(l)),Yh()}}function uw(t,e){for(let n=II(t);n!==null;n=wI(n))for(let r=it;r<n.length;r++){let i=n[r];dw(i,e)}}function GR(t){for(let e=II(t);e!==null;e=wI(e)){if(!(e[k]&nl.HasTransplantedViews))continue;let n=e[tl];for(let r=0;r<n.length;r++){let i=n[r];UE(i)}}}function qR(t,e,n){let r=Jn(e,t);dw(r,n)}function dw(t,e){Hh(t)&&Ih(t,e)}function Ih(t,e){let r=t[z],i=t[k],o=t[mt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&lf(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)zR(r,t,r.template,t[kt]);else if(i&8192){uw(t,1);let a=r.components;a!==null&&fw(t,a,1)}}function fw(t,e,n){for(let r=0;r<e.length;r++)qR(t,e[r],n)}function vp(t,e){let n=GE()?64:1088;for(t[Zt].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=Or(t);if(rl(t)&&!r)return t;t=r}return null}var Vr=class{get rootNodes(){let e=this._lView,n=e[z];return hl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(Jt(e)){let n=e[el],r=n?n.indexOf(this):-1;r>-1&&(vh(e,r),Qc(n,r))}this._attachedToViewContainer=!1}$I(this._lView[z],this._lView)}onDestroy(e){BE(this._lView,e)}markForCheck(){vp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){rh(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,lw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rl(this._lView),n=this._lView[$i];n!==null&&!e&&ap(n,this._lView),UI(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let n=rl(this._lView),r=this._lView[$i];r!==null&&!n&&BI(r,this._lView),rh(this._lView)}},Bl=(()=>{class t{static{this.__NG_ELEMENT_ID__=ZR}}return t})(),YR=Bl,KR=class extends YR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=PR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Vr(i)}};function ZR(){return QR(qe(),oe())}function QR(t,e){return t.type&4?new KR(e,t,xl(t,e)):null}var JR=new RegExp(`^(\\d+)*(${TI}|${bI})*(.*)`);function XR(t){let e=t.match(JR),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function ex(t){return!t.prev&&t.parent?.type===8}function $f(t){return t.index-ze}function tx(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function $l(t,e,n,r){let i=$f(r),o=tx(t,i);if(o===void 0){let s=t.data[yM];if(s?.[i])o=rx(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(ex(r)){let l=$f(r.parent);o=gh(t,l)}else{let l=at(c,n);if(a)o=l.firstChild;else{let u=$f(c),d=gh(t,u);if(c.type===2&&d){let h=rp(t,u)+1;o=Hl(h,d)}else o=l.nextSibling}}}}return o}function Hl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function nx(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case mh.FirstChild:n=n.firstChild;break;case mh.NextSibling:n=n.nextSibling;break}}return n}function rx(t,e){let[n,...r]=XR(t),i;if(n===bI)i=e[vt][ot];else if(n===TI)i=VM(e[vt][ot]);else{let o=Number(n);i=Pt(e[o+ze])}return nx(i,r)}var ix=!1;function ox(t){ix=t}function sx(t){let e=t[Kt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ge];for(let o of r.values())ax(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function ax(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-ze);i&&cp(t,i,!1)}}function hw(t){let e=t[ms]??[],r=t[Fe][ge];for(let i of e)cx(i,r);t[ms]=rt}function cx(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ul];for(;n<i;){let o=r.nextSibling;cp(e,r,!1),r=o,n++}}}function pw(t){hw(t);let e=t[ot];xt(e)&&pl(e);for(let n=it;n<t.length;n++)pl(t[n])}function pl(t){sx(t);let e=t[z];for(let n=ze;n<e.bindingStartIndex;n++)if(Jt(t[n])){let r=t[n];pw(r)}else xt(t[n])&&pl(t[n])}function lx(t){let e=t._views;for(let n of e){let r=CM(n);r!==null&&r[ot]!==null&&(xt(r)?pl(r):pw(r))}}function ux(t,e){let n=[];for(let r of e)for(let i=0;i<(r[SI]??1);i++){let o={data:r,firstChild:null};r[ul]>0&&(o.firstChild=t,t=Hl(r[ul],t)),n.push(o)}return[t,n]}var mw=()=>null;function dx(t,e){let n=t[ms];return!e||n===null||n.length===0?null:n[0].data[vM]===e?n.shift():(hw(t),null)}function fx(){mw=dx}function z_(t,e){return mw(t,e)}var Gi=class{},Wl=new T("",{providedIn:"root",factory:()=>!1});var gw=new T(""),vw=new T(""),wh=class{},ml=class{};function hx(t){let e=Error(`No component factory found for ${We(t)}.`);return e[px]=t,e}var px="ngComponent";var Ch=class{resolveComponentFactory(e){throw hx(e)}},qi=class{static{this.NULL=new Ch}},Yi=class{},en=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mx()}}return t})();function mx(){let t=oe(),e=qe(),n=Jn(e.index,t);return(xt(n)?n:t)[ge]}var gx=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>null})}}return t})();function gl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=v_(i,a);else if(o==2){let c=a,l=e[++s];r=v_(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vl=class extends qi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pr(e);return new gs(n,this.ngModule)}};function G_(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:qn.None;e?n.push({propName:s,templateName:r,isSignal:(a&qn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function vx(t){let e=t.toLowerCase();return e==="svg"?pN:e==="math"?mN:null}var gs=class extends ml{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=G_(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return G_(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof gt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new oh(e,s):e,c=a.get(Yi,null);if(c===null)throw new S(407,!1);let l=a.get(gx,null),u=a.get(Gi,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?sR(f,r,this.componentDef.encapsulation,a):sp(f,h,vx(h)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let N=null;p!==null&&(N=np(p,a,!0));let O=hp(0,null,null,1,0,null,null,null,null,null,null),ue=jl(null,O,null,C,null,null,d,f,a,null,N);qh(ue);let de,Ie,St=null;try{let Me=this.componentDef,mn,Xo=null;Me.findHostDirectiveDefs?(mn=[],Xo=new Map,Me.findHostDirectiveDefs(Me,mn,Xo),mn.push(Me)):mn=[Me];let es=yx(ue,p);St=_x(es,p,Me,mn,ue,d,f),Ie=VE(O,ze),p&&wx(f,Me,p,r),n!==void 0&&Cx(Ie,this.ngContentSelectors,n),de=Ix(St,Me,mn,Xo,ue,[Dx]),gp(O,ue,null)}catch(Me){throw St!==null&&hh(St),hh(ue),Me}finally{Yh()}return new Dh(this.componentType,de,xl(Ie,ue),ue,Ie)}finally{Z(o)}}},Dh=class extends wh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;mp(o[z],o,i,e,n),this.previousInputValues.set(e,n);let s=Jn(this._tNode.index,o);vp(s,1)}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yx(t,e){let n=t[z],r=ze;return t[r]=e,bs(n,r,2,"#host",null)}function _x(t,e,n,r,i,o,s){let a=i[z];Ex(r,t,e,s);let c=null;e!==null&&(c=np(e,i[Bi]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=jl(i,XI(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&_h(a,t,r.length-1),Ul(i,d),i[t.index]=d}function Ex(t,e,n,r){for(let i of t)e.mergedAttrs=fs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gl(e,e.mergedAttrs,!0),n!==null&&YI(r,n,e))}function Ix(t,e,n,r,i,o){let s=qe(),a=i[z],c=at(s,i);tw(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=zi(i,a,d,s);Kn(f,i)}nw(a,i,s),c&&Kn(c,i);let l=zi(i,a,s.directiveStart+s.componentOffset,s);if(t[kt]=i[kt]=l,o!==null)for(let u of o)u(l,e);return up(a,s,i),l}function wx(t,e,n,r){if(r)Jf(t,n,["ng-version","18.2.11"]);else{let{attrs:i,classes:o}=YA(e.selectors[0]);i&&Jf(t,n,i),o&&o.length>0&&qI(t,n,o.join(" "))}}function Cx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Dx(){let t=qe();Rl(oe()[z],t)}var Ji=(()=>{class t{static{this.__NG_ELEMENT_ID__=bx}}return t})();function bx(){let t=qe();return Sx(t,oe())}var Tx=Ji,yw=class extends Tx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Kh(this._hostTNode,this._hostLView);if(iI(e)){let n=ol(e,this._hostLView),r=il(e),i=n[z].data[r+8];return new xr(i,n)}else return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=q_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-it}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=z_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,W_(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!uN(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new gs(Pr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let C=(s?l:this.parentInjector).get(gt,null);C&&(o=C)}let u=Pr(c.componentType??{}),d=z_(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,W_(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Fe],l=new yw(c,c[Ot],c[Fe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return OR(s,i,o,r),e.attachToViewContainerRef(),mE(Hf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=q_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);r&&(Qc(Hf(this._lContainer),n),$I(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);return r&&Qc(Hf(this._lContainer),n)!=null?new Vr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function q_(t){return t[el]}function Hf(t){return t[el]||(t[el]=[])}function Sx(t,e){let n,r=e[t.index];return Jt(r)?n=r:(n=rw(r,e,null,t),e[t.index]=n,Ul(e,n)),_w(n,e,t,r),new yw(n,t,e)}function Ax(t,e){let n=t[ge],r=n.createComment(""),i=at(e,t),o=WI(n,i);return fl(n,o,r,KM(n,i),!1),r}var _w=Ew,yp=()=>!1;function Nx(t,e,n){return yp(t,e,n)}function Ew(t,e,n,r){if(t[vn])return;let i;n.type&8?i=Pt(r):i=Ax(e,n),t[vn]=i}function Mx(t,e,n){if(t[vn]&&t[ms])return!0;let r=n[Kt],i=e.index-ze;if(!r||cM(e)||Cs(r,i))return!1;let s=gh(r,i),a=r.data[tp]?.[i],[c,l]=ux(s,a);return t[vn]=c,t[ms]=l,!0}function Rx(t,e,n,r){yp(t,n,e)||Ew(t,e,n,r)}function xx(){_w=Rx,yp=Mx}var Y_=new Set;function tr(t){Y_.has(t)||(Y_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ts(t,e){tr("NgSignals");let n=$y(t),r=n[jn];return e?.equal&&(r.equal=e.equal),n.set=i=>df(r,i),n.update=i=>Hy(r,i),n.asReadonly=kx.bind(n),n}function kx(){let t=this[jn];if(t.readonlyFn===void 0){let e=()=>this();e[jn]=t,t.readonlyFn=e}return t.readonlyFn}function Px(t){return Object.getPrototypeOf(t.prototype).constructor}function Lt(t){let e=Px(t.type),n=!0,r=[t];for(;e;){let i;if(Yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Uc(t.inputs),s.inputTransforms=Uc(t.inputTransforms),s.declaredInputs=Uc(t.declaredInputs),s.outputs=Uc(t.outputs);let a=i.hostBindings;a&&jx(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Lx(t,c),l&&Vx(t,l),Ox(t,i),mA(t.outputs,i.outputs),Yn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Lt&&(n=!1)}}e=Object.getPrototypeOf(e)}Fx(r)}function Ox(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Fx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fs(i.hostAttrs,n=fs(n,i.hostAttrs))}}function Uc(t){return t===ji?{}:t===rt?[]:t}function Lx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Vx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function jx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function _p(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Zn=class{},vs=class{};var bh=class extends Zn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vl(this);let o=DE(e);this._bootstrapComponents=LI(o.bootstrap),this._r3Injector=hI(e,n,[{provide:Zn,useValue:this},{provide:qi,useValue:this.componentFactoryResolver},...r],We(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Th=class extends vs{constructor(e){super(),this.moduleType=e}create(e){return new bh(this.moduleType,e,[])}};var yl=class extends Zn{constructor(e){super(),this.componentFactoryResolver=new vl(this),this.instance=null;let n=new hs([...e.providers,{provide:Zn,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],e.parent||Bh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ep(t,e,n=null){return new yl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Iw(t){return Bx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Ux(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Bx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ip(t,e,n){return t[e]=n}function Qn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function wp(t,e,n,r){let i=Qn(t,e,n);return Qn(t,e+1,r)||i}function $x(t,e,n,r,i){let o=wp(t,e,n,r);return Qn(t,e+2,i)||o}function Ss(t){return(t.flags&32)===32}function Hx(t,e,n,r,i,o,s,a,c){let l=e.consts,u=bs(e,t,4,s||null,a||null);pp(e,n,u,Wi(l,c)),Rl(e,u);let d=u.tView=hp(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Wx(t,e,n,r,i,o,s,a,c,l){let u=n+ze,d=e.firstCreatePass?Hx(u,e,t,r,i,o,s,a,c):e.data[u];Ur(d,!1);let f=ww(e,t,d,n);Ml()&&Ll(e,t,f,d),Kn(f,t);let h=rw(f,t,f,d);return t[u]=h,Ul(t,h),Nx(h,d,t),Sl(d)&&dp(e,t,d),c!=null&&fp(t,d,l),d}function he(t,e,n,r,i,o,s,a){let c=oe(),l=ct(),u=Wi(l.consts,o);return Wx(c,l,t,e,n,r,i,u,s,a),he}var ww=Cw;function Cw(t,e,n,r){return Xn(!0),e[ge].createComment("")}function zx(t,e,n,r){let i=e[Kt],o=!i||ws()||Ss(n)||Cs(i,r);if(Xn(o),o)return Cw(t,e,n,r);let s=i.data[gM]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=$l(i,t,e,n);Ol(i,r,a);let c=rp(i,r);return Hl(c,a)}function Gx(){ww=zx}var ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ls||{}),qx=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})(),K_=class t{constructor(){this.ngZone=_(te),this.scheduler=_(Gi),this.errorHandler=_(yn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ls.EarlyRead,ls.Write,ls.MixedReadWrite,ls.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}};function Hr(t,e,n,r){let i=oe(),o=Gh();if(Qn(i,o,e)){let s=ct(),a=eI();bR(a,i,t,e,n,r)}return Hr}function Yx(t,e,n,r){return Qn(t,Gh(),n)?e+Li(n)+r:Dn}function Kx(t,e,n,r,i,o){let s=TN(),a=wp(t,s,n,i);return qE(2),a?e+Li(n)+r+Li(i)+o:Dn}function Bc(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function Zx(t){return(t&2)==2}function Qx(t,e){return t&131071|e<<17}function Sh(t){return t|2}function Ki(t){return(t&131068)>>2}function Wf(t,e){return t&-131069|e<<2}function Jx(t){return(t&1)===1}function Ah(t){return t|1}function Xx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=jr(s),c=Ki(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Es(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=jr(t[a+1]);t[r+1]=Bc(f,a),f!==0&&(t[f+1]=Wf(t[f+1],r)),t[a+1]=Qx(t[a+1],r)}else t[r+1]=Bc(a,0),a!==0&&(t[a+1]=Wf(t[a+1],r)),a=r;else t[r+1]=Bc(c,0),a===0?a=r:t[c+1]=Wf(t[c+1],r),c=r;l&&(t[r+1]=Sh(t[r+1])),Z_(t,u,r,!0),Z_(t,u,r,!1),ek(e,u,t,r,o),s=Bc(a,c),o?e.classBindings=s:e.styleBindings=s}function ek(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Es(o,e)>=0&&(n[r+1]=Ah(n[r+1]))}function Z_(t,e,n,r){let i=t[n+1],o=e===null,s=r?jr(i):Ki(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];tk(c,e)&&(a=!0,t[s+1]=r?Ah(l):Sh(l)),s=r?jr(l):Ki(l)}a&&(t[n+1]=r?Sh(i):Ah(i))}function tk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Es(t,e)>=0:!1}function D(t,e,n){let r=oe(),i=Gh();if(Qn(r,i,e)){let o=ct(),s=eI();hR(o,s,r,t,e,r[ge],n,!1)}return D}function Q_(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";mp(t,n,o[s],s,r)}function zl(t,e){return nk(t,e,null,!0),zl}function nk(t,e,n,r){let i=oe(),o=ct(),s=qE(2);if(o.firstUpdatePass&&ik(o,t,s,r),e!==Dn&&Qn(i,s,e)){let a=o.data[Br()];lk(o,a,i,i[ge],t,i[s+1]=uk(e,n),r,s)}}function rk(t,e){return e>=t.expandoStartIndex}function ik(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Br()],s=rk(t,n);dk(o,r)&&e===null&&!s&&(e=!1),e=ok(i,o,e,r),Xx(i,o,e,n,s,r)}}function ok(t,e,n,r){let i=RN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=zf(null,t,e,n,r),n=ys(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=zf(i,t,e,n,r),o===null){let c=sk(t,e,r);c!==void 0&&Array.isArray(c)&&(c=zf(null,t,e,c[1],r),c=ys(c,e.attrs,r),ak(t,e,r,c))}else o=ck(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ki(r)!==0)return t[jr(r)]}function ak(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jr(i)]=r}function ck(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ys(r,s,n)}return ys(r,e.attrs,n)}function zf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ys(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),OA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lk(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Jx(l)?J_(c,e,n,i,Ki(l),s):void 0;if(!_l(u)){_l(o)||Zx(l)&&(o=J_(c,null,n,i,a,s));let d=LE(Br(),n);tR(r,s,d,i,o)}}function J_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Dn&&(f=d?rt:void 0);let h=d?kf(f,r):u===r?f:void 0;if(l&&!_l(h)&&(h=kf(c,r)),_l(h)&&(a=h,s))return a;let p=t[i+1];i=s?jr(p):Ki(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=kf(c,r))}return a}function _l(t){return t!==void 0}function uk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=We(Ds(t)))),t}function dk(t,e){return(t.flags&(e?8:16))!==0}function fk(t,e,n,r,i,o){let s=e.consts,a=Wi(s,i),c=bs(e,t,2,r,a);return pp(e,n,c,Wi(s,o)),c.attrs!==null&&gl(c,c.attrs,!1),c.mergedAttrs!==null&&gl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,r){let i=oe(),o=ct(),s=ze+t,a=i[ge],c=o.firstCreatePass?fk(s,o,i,e,n,r):o.data[s],l=Dw(o,i,c,a,e,t);i[s]=l;let u=Sl(c);return Ur(c,!0),YI(a,l,c),!Ss(c)&&Ml()&&Ll(o,i,l,c),_N()===0&&Kn(l,i),EN(),u&&(dp(o,i,c),up(o,c,i)),r!==null&&fp(i,c),g}function v(){let t=qe();Wh()?zE():(t=t.parent,Ur(t,!1));let e=t;wN(e)&&DN(),IN();let n=ct();return n.firstCreatePass&&(Rl(n,t),$h(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&LN(e)&&Q_(n,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VN(e)&&Q_(n,e,oe(),e.stylesWithoutHost,!1),v}function Y(t,e,n,r){return g(t,e,n,r),v(),Y}var Dw=(t,e,n,r,i,o)=>(Xn(!0),sp(r,i,tI()));function hk(t,e,n,r,i,o){let s=e[Kt],a=!s||ws()||Ss(n)||Cs(s,o);if(Xn(a),a)return sp(r,i,tI());let c=$l(s,t,e,n);return RI(s,o)&&Ol(s,o,c.nextSibling),s&&(yI(n)||_I(c))&&Is(n)&&(CN(n),GI(c)),c}function pk(){Dw=hk}function mk(t,e,n,r,i){let o=e.consts,s=Wi(o,r),a=bs(e,t,8,"ng-container",s);s!==null&&gl(a,s,!0);let c=Wi(o,i);return pp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Cp(t,e,n){let r=oe(),i=ct(),o=t+ze,s=i.firstCreatePass?mk(o,i,r,e,n):i.data[o];Ur(s,!0);let a=bw(i,r,s,t);return r[o]=a,Ml()&&Ll(i,r,a,s),Kn(a,r),Sl(s)&&(dp(i,r,s),up(i,s,r)),n!=null&&fp(r,s),Cp}function Dp(){let t=qe(),e=ct();return Wh()?zE():(t=t.parent,Ur(t,!1)),e.firstCreatePass&&(Rl(e,t),$h(t)&&e.queries.elementEnd(t)),Dp}var bw=(t,e,n,r)=>(Xn(!0),jI(e[ge],""));function gk(t,e,n,r){let i,o=e[Kt],s=!o||ws()||Cs(o,r)||Ss(n);if(Xn(s),s)return jI(e[ge],"");let a=$l(o,t,e,n),c=TM(o,r);return Ol(o,r,a),i=Hl(c,a),i}function vk(){bw=gk}function nr(){return oe()}var El="en-US";var yk=El;function _k(t){typeof t=="string"&&(yk=t.toLowerCase().replace(/_/g,"-"))}var Ek=(t,e,n)=>{};function ne(t,e,n,r){let i=oe(),o=ct(),s=qe();return wk(o,i,i[ge],s,t,e,r),ne}function Ik(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Xc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function wk(t,e,n,r,i,o,s){let a=Sl(r),l=t.firstCreatePass&&MR(t),u=e[kt],d=NR(e),f=!0;if(r.type&3||s){let C=at(r,e),N=s?s(C):C,O=d.length,ue=s?Ie=>s(Pt(Ie[r.index])):r.index,de=null;if(!s&&a&&(de=Ik(t,e,i,r.index)),de!==null){let Ie=de.__ngLastListenerFn__||de;Ie.__ngNextListenerFn__=o,de.__ngLastListenerFn__=o,f=!1}else{o=eE(r,e,u,o),Ek(C,i,o);let Ie=n.listen(N,i,o);d.push(o,Ie),l&&l.push(i,ue,O,O+1)}}else o=eE(r,e,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let C=p.length;if(C)for(let N=0;N<C;N+=2){let O=p[N],ue=p[N+1],St=e[O][ue].subscribe(o),Me=d.length;d.push(o,St),l&&l.push(i,r.index,Me,-(Me+1))}}}function X_(t,e,n,r){let i=Z(null);try{return Gt(6,e,n),n(r)!==!1}catch(o){return ow(t,o),!1}finally{Gt(7,e,n),Z(i)}}function eE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Jn(t.index,e):e;vp(s,5);let a=X_(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=X_(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Je(t=1){return kN(t)}function E(t,e=""){let n=oe(),r=ct(),i=t+ze,o=r.firstCreatePass?bs(r,i,1,e,null):r.data[i],s=Tw(r,n,o,e,t);n[i]=s,Ml()&&Ll(r,n,s,o),Ur(o,!1)}var Tw=(t,e,n,r,i)=>(Xn(!0),VI(e[ge],r));function Ck(t,e,n,r,i){let o=e[Kt],s=!o||ws()||Ss(n)||Cs(o,i);return Xn(s),s?VI(e[ge],r):$l(o,t,e,n)}function Dk(){Tw=Ck}function bp(t){return tn("",t,""),bp}function tn(t,e,n){let r=oe(),i=Yx(r,t,e,n);return i!==Dn&&sw(r,Br(),i),tn}function As(t,e,n,r,i){let o=oe(),s=Kx(o,t,e,n,r,i);return s!==Dn&&sw(o,Br(),s),As}function bk(t,e,n){let r=ct();if(r.firstCreatePass){let i=Yn(t);Nh(n,r.data,r.blueprint,i,!0),Nh(e,r.data,r.blueprint,i,!1)}}function Nh(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let o=0;o<t.length;o++)Nh(t[o],e,n,r,i);else{let o=ct(),s=oe(),a=qe(),c=Ui(t)?t:He(t.provide),l=ME(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ui(t)||!t.multi){let h=new Lr(l,i,b),p=qf(c,e,i?u:u+f,d);p===-1?(ah(sl(a,s),o,c),Gf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=qf(c,e,u+f,d),p=qf(c,e,u,u+f),C=h>=0&&n[h],N=p>=0&&n[p];if(i&&!N||!i&&!C){ah(sl(a,s),o,c);let O=Ak(i?Sk:Tk,n.length,i,r,l);!i&&N&&(n[p].providerFactory=O),Gf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=Sw(n[i?p:h],l,!i&&r);Gf(o,t,h>-1?h:p,O)}!i&&r&&N&&n[p].componentProviders++}}}function Gf(t,e,n,r){let i=Ui(e),o=nN(e);if(i||o){let c=(o?He(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Sw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Tk(t,e,n,r){return Mh(this.multi,[])}function Sk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=zi(n,n[z],this.providerFactory.index,r);o=a.slice(0,s),Mh(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Mh(i,o);return o}function Mh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Ak(t,e,n,r,i){let o=new Lr(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,Sw(o,i,r&&!n),o}function Wr(t,e=[]){return n=>{n.providersResolver=(r,i)=>bk(r,i?i(t):t,e)}}var Nk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=SE(!1,n.type),i=r.length>0?Ep([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=A({token:t,providedIn:"environment",factory:()=>new t(P(gt))})}}return t})();function X(t){tr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Nk).getOrCreateStandaloneInjector(t)}function Gl(t,e,n,r){return Mk(oe(),zh(),t,e,n,r)}function Xe(t,e,n,r,i){return Rk(oe(),zh(),t,e,n,r,i)}function Aw(t,e,n,r,i,o){return xk(oe(),zh(),t,e,n,r,i,o)}function Tp(t,e){let n=t[e];return n===Dn?void 0:n}function Mk(t,e,n,r,i,o){let s=e+n;return Qn(t,s,i)?Ip(t,s+1,o?r.call(o,i):r(i)):Tp(t,s+1)}function Rk(t,e,n,r,i,o,s){let a=e+n;return wp(t,a,i,o)?Ip(t,a+2,s?r.call(s,i,o):r(i,o)):Tp(t,a+2)}function xk(t,e,n,r,i,o,s,a){let c=e+n;return $x(t,c,i,o,s)?Ip(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Tp(t,c+3)}var En=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Nw=new En("18.2.11");var ql=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Mw=new T("");function zr(t){return!!t&&typeof t.then=="function"}function Rw(t){return!!t&&typeof t.subscribe=="function"}var xw=new T(""),kw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=_(xw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(zr(o))n.push(o);else if(Rw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xi=new T("");function kk(){By(()=>{throw new S(600,!1)})}function Pk(t){return t.isBoundToModule}var Ok=10;function Fk(t,e,n){try{let r=n();return zr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var nn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(iM),this.afterRenderManager=_(qx),this.zonelessEnabled=_(Wl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ae,this.afterTick=new Ae,this.componentTypes=[],this.components=[],this.isStable=_($r).hasPendingTasks.pipe(x(n=>!n)),this._injector=_(gt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof ml;if(!this._injector.get(kw).done){let f=!i&&CE(n),h=!1;throw new S(405,h)}let s;i?s=n:s=this._injector.get(qi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Pk(s)?void 0:this._injector.get(Zn),c=r||s.selector,l=s.create(Le.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Mw,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),qc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new S(101,!1);let n=Z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Z(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Yi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Ok;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Lk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Al(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;qc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Xi,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var $c;function Yl(t){$c??=new WeakMap;let e=$c.get(t);if(e)return e;let n=t.isStable.pipe(Nt(r=>r)).toPromise().then(()=>{});return $c.set(t,n),t.onDestroy(()=>$c?.delete(t)),n}function Lk(t,e,n,r){if(!n&&!Al(t))return;lw(t,e,n&&!r?0:1)}var Rh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Sp=(()=>{class t{compileModuleSync(n){return new Th(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=DE(n),o=LI(i.declarations).reduce((s,a)=>{let c=Pr(a);return c&&s.push(new gs(c)),s},[]);return new Rh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Vk=(()=>{class t{constructor(){this.zone=_(te),this.changeDetectionScheduler=_(Gi),this.applicationRef=_(nn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jk=new T("",{factory:()=>!1});function Pw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new te(B(I({},Fw()),{scheduleInRootZone:n})),[{provide:te,useFactory:t},{provide:kr,multi:!0,useFactory:()=>{let r=_(Vk,{optional:!0});return()=>r.initialize()}},{provide:kr,multi:!0,useFactory:()=>{let r=_(Uk);return()=>{r.initialize()}}},e===!0?{provide:gw,useValue:!0}:[],{provide:vw,useValue:n??pI}]}function Ow(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Pw({ngZoneFactory:()=>{let i=Fw(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&tr("NgZone_CoalesceEvent"),new te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return st([{provide:jk,useValue:!0},{provide:Wl,useValue:!1},r])}function Fw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Uk=(()=>{class t{constructor(){this.subscription=new me,this.initialized=!1,this.zone=_(te),this.pendingTasks=_($r)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bk=(()=>{class t{constructor(){this.appRef=_(nn),this.taskService=_($r),this.ngZone=_(te),this.zonelessEnabled=_(Wl),this.disableScheduling=_(gw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(cl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(vw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?O_:gI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(cl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,O_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $k(){return typeof $localize<"u"&&$localize.locale||El}var Ap=new T("",{providedIn:"root",factory:()=>_(Ap,$.Optional|$.SkipSelf)||$k()});var xh=new T("");function Hc(t){return!t.moduleRef}function Hk(t){let e=Hc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(te);return n.run(()=>{Hc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(yn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Hc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(xh);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(xh);s.add(o),t.moduleRef.onDestroy(()=>{qc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Fk(r,n,()=>{let o=e.get(kw);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ap,El);if(_k(s||El),Hc(t)){let a=e.get(nn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Wk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Wk(t,e){let n=t.injector.get(nn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new S(-403,!1);e.push(t)}var Yc=null;function zk(t=[],e){return Le.create({name:e,providers:[{provide:bl,useValue:"platform"},{provide:xh,useValue:new Set([()=>Yc=null])},...t]})}function Gk(t=[]){if(Yc)return Yc;let e=zk(t);return Yc=e,kk(),qk(e),e}function qk(t){t.get(Xh,null)?.forEach(n=>n())}var eo=(()=>{class t{static{this.__NG_ELEMENT_ID__=Yk}}return t})();function Yk(t){return Kk(qe(),oe(),(t&16)===16)}function Kk(t,e,n){if(Is(t)&&!n){let r=Jn(t.index,e);return new Vr(r,r)}else if(t.type&175){let r=e[vt];return new Vr(r,e)}return null}var kh=class{constructor(){}supports(e){return Iw(e)}create(e){return new Ph(e)}},Zk=(t,e)=>e,Ph=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Zk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<tE(r,i,o)?n:r,a=tE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Iw(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Ux(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Oh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Il),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Il),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Oh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Fh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Il=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Fh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nE(){return new Np([new kh])}var Np=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:nE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||nE()),deps:[[t,new pE,new Ge]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new S(901,!1)}}return t})();function Lw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Gk(r),o=[Pw({}),{provide:Gi,useExisting:Bk},...n||[]],s=new yl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Hk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var rE=!1;function Qk(){rE||(rE=!0,wM(),pk(),Dk(),vk(),Gx(),xx(),fx(),lR())}function Jk(t,e){return Yl(t)}function Vw(){return st([{provide:Lc,useFactory:()=>{let t=!0;return jc()&&(t=!!_(Qi,{optional:!0})?.get(NI,null)),t&&tr("NgHydration"),t}},{provide:kr,useValue:()=>{ox(!1),jc()&&_(Lc)&&(Xk(),Qk())},multi:!0},{provide:kI,useFactory:()=>jc()&&_(Lc)},{provide:Xi,useFactory:()=>{if(jc()&&_(Lc)){let t=_(nn),e=_(Le);return()=>{Jk(t,e).then(()=>{lx(t)})}}return()=>{}},multi:!0}])}function Xk(){let t=kl(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===EM){e=n;break}if(!e)throw new S(-507,!1)}function to(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ns(t,e){tr("NgSignals");let n=Vy(t);return e?.equal&&(n[jn].equal=e.equal),n}function bn(t){let e=Z(null);try{return t()}finally{Z(e)}}var Ww=null;function Tn(){return Ww}function zw(t){Ww??=t}var Kl=class{};var lt=new T(""),Gw=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(eP),providedIn:"platform"})}}return t})();var eP=(()=>{class t extends Gw{constructor(){super(),this._doc=_(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tn().getBaseHref(this._doc)}onPopState(n){let r=Tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function qw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function jw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Gr(t){return t&&t[0]!=="?"?"?"+t:t}var no=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(Yw),providedIn:"root"})}}return t})(),tP=new T(""),Yw=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Gr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Gr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(P(Gw),P(tP,8))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ms=(()=>{class t{constructor(n){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=iP(jw(Uw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Gr(r))}normalize(n){return t.stripTrailingSlash(rP(this._basePath,Uw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Gr}static{this.joinWithSlash=qw}static{this.stripTrailingSlash=jw}static{this.\u0275fac=function(r){return new(r||t)(P(no))}}static{this.\u0275prov=A({token:t,factory:()=>nP(),providedIn:"root"})}}return t})();function nP(){return new Ms(P(no))}function rP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Uw(t){return t.replace(/\/index.html$/,"")}function iP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function kp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Mp=/\s+/,Bw=[],rr=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Bw,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Mp):Bw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Mp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Mp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(b(Ft),b(en))}}static{this.\u0275dir=Ee({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Rp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kw=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Rp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$w(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$w(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(b(Ji),b(Bl),b(Np))}}static{this.\u0275dir=Ee({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function $w(t,e){t.context.$implicit=e.item}var rn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new xp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Hw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Hw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(b(Ji),b(Bl))}}static{this.\u0275dir=Ee({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),xp=class{constructor(){this.$implicit=null,this.ngIf=null}};function Hw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${We(e)}'.`)}var Te=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Cn({type:t})}static{this.\u0275inj=wn({})}}return t})(),Zw="browser",oP="server";function Rs(t){return t===oP}var Zl=class{};var Jl=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var iC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(iC||{}),Pp=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Jl,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Xl=class t extends Pp{constructor(e={}){super(e),this.type=iC.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var sP=new T("");var aP=new T(""),Qw="b",Jw="h",Xw="s",eC="st",tC="u",nC="rt",Ql=new T(""),cP=["GET","HEAD"];function lP(t,e){let h=_(Ql),{isCacheActive:n}=h,r=Ny(h,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!cP.includes(o)||!r.includeRequestsWithAuthHeaders&&uP(t)||r.filter?.(t)===!1)return e(t);let s=_(Qi),a=_(aP,{optional:!0}),c=Rs(_(Et));if(a&&!c)throw new S(2803,!1);let l=c&&a?pP(t.url,a):t.url,u=fP(t,l),d=s.get(u,null),f=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(f=i.includeHeaders),d){let{[Qw]:p,[nC]:C,[Jw]:N,[Xw]:O,[eC]:ue,[tC]:de}=d,Ie=p;switch(C){case"arraybuffer":Ie=new TextEncoder().encode(p).buffer;break;case"blob":Ie=new Blob([p]);break}let St=new Jl(N);return M(new Xl({body:Ie,headers:St,status:O,statusText:ue,url:de}))}return e(t).pipe(_e(p=>{p instanceof Xl&&c&&s.set(u,{[Qw]:p.body,[Jw]:dP(p.headers,f),[Xw]:p.status,[eC]:p.statusText,[tC]:l,[nC]:t.responseType})}))}function uP(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function dP(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function rC(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function fP(t,e){let{params:n,method:r,responseType:i}=t,o=rC(n),s=t.serializeBody();s instanceof URLSearchParams?s=rC(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=hP(a);return c}function hP(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function oC(t){return[{provide:Ql,useFactory:()=>(tr("NgHttpTransferCache"),I({isCacheActive:!0},t))},{provide:sP,useValue:lP,multi:!0,deps:[Qi,Ql]},{provide:Xi,multi:!0,useFactory:()=>{let e=_(nn),n=_(Ql);return()=>{Yl(e).then(()=>{n.isCacheActive=!1})}}}]}function pP(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Lp=class extends Kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vp=class t extends Lp{static makeCurrent(){zw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mP();return n==null?null:gP(n)}resetBaseElement(){xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kp(document.cookie,e)}},xs=null;function mP(){return xs=xs||document.querySelector("base"),xs?xs.getAttribute("href"):null}function gP(t){return new URL(t,document.baseURI).pathname}var vP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),jp=new T(""),lC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(P(jp),P(te))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),eu=class{constructor(e){this._doc=e}},Op="ng-app-id",uC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rs(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Op}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Op),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Op,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(P(lt),P(Pl),P(ep,8),P(Et))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Fp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$p=/%COMP%/g,dC="%COMP%",yP=`_nghost-${dC}`,_P=`_ngcontent-${dC}`,EP=!0,IP=new T("",{providedIn:"root",factory:()=>EP});function wP(t){return _P.replace($p,t)}function CP(t){return yP.replace($p,t)}function fC(t,e){return e.map(n=>n.replace($p,t))}var sC=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Rs(a),this.defaultRenderer=new ks(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yt.ShadowDom&&(r=B(I({},r),{encapsulation:Yt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof tu?i.applyToHost(n):i instanceof Ps&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Yt.Emulated:o=new tu(c,l,r,this.appId,u,s,a,d);break;case Yt.ShadowDom:return new Up(c,l,n,r,s,a,this.nonce,d);default:o=new Ps(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(P(lC),P(uC),P(Pl),P(IP),P(lt),P(Et),P(te),P(ep))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),ks=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Fp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Fp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Fp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_n.DashCase|_n.Important)?e.style.setProperty(n,r,i&_n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Tn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function aC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Up=class extends ks{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fC(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ps=class extends ks{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?fC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},tu=class extends Ps{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=wP(l),this.hostAttr=CP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},DP=(()=>{class t extends eu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(P(lt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),cC=["alt","control","meta","shift"],bP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SP=(()=>{class t extends eu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=bP[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cC.forEach(s=>{if(s!==i){let a=TP[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(P(lt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})();function hC(t,e){return Lw(I({rootComponent:t},AP(e)))}function AP(t){return{appProviders:[...kP,...t?.providers??[]],platformProviders:xP}}function NP(){Vp.makeCurrent()}function MP(){return new yn}function RP(){return DI(document),document}var xP=[{provide:Et,useValue:Zw},{provide:Xh,useValue:NP,multi:!0},{provide:lt,useFactory:RP,deps:[]}];var kP=[{provide:bl,useValue:"root"},{provide:yn,useFactory:MP,deps:[]},{provide:jp,useClass:DP,multi:!0,deps:[lt,te,Et]},{provide:jp,useClass:SP,multi:!0,deps:[lt]},sC,uC,lC,{provide:Yi,useExisting:sC},{provide:Zl,useClass:vP,deps:[]},[]];var pC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(P(lt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bp=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Bp||{});function mC(...t){let e=[],n=new Set,r=n.has(Bp.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return st([[],Vw(),n.has(Bp.NoHttpTransferCache)||r?[]:oC({}),e])}var j="primary",Zs=Symbol("RouteTitle"),qp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function co(t){return new qp(t)}function OP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function FP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?Yp(t):void 0,r=e?Yp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!CC(t[i],e[i]))return!1;return!0}function Yp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function CC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function DC(t){return t.length>0?t[t.length-1]:null}function or(t){return Df(t)?t:zr(t)?se(Promise.resolve(t)):M(t)}var LP={exact:TC,subset:SC},bC={exact:VP,subset:jP,ignored:()=>!0};function gC(t,e,n){return LP[n.paths](t.root,e.root,n.matrixParams)&&bC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VP(t,e){return on(t,e)}function TC(t,e,n){if(!Kr(t.segments,e.segments)||!iu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!TC(t.children[r],e.children[r],n))return!1;return!0}function jP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CC(t[n],e[n]))}function SC(t,e,n){return AC(t,e,e.segments,n)}function AC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Kr(i,n)||e.hasChildren()||!iu(i,n,r))}else if(t.segments.length===n.length){if(!Kr(t.segments,n)||!iu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!SC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Kr(t.segments,i)||!iu(t.segments,i,r)||!t.children[j]?!1:AC(t.children[j],e,o,r)}}function iu(t,e,n){return e.every((r,i)=>bC[n](t[i].parameters,r.parameters))}var An=class{constructor(e=new ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){return $P.serialize(this)}},ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ou(this)}},Yr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=co(this.parameters),this._parameterMap}toString(){return MC(this)}};function UP(t,e){return Kr(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function Kr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function BP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===j&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==j&&(n=n.concat(e(i,r)))}),n}var Em=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new Bs,providedIn:"root"})}}return t})(),Bs=class{parse(e){let n=new Zp(e);return new An(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Os(e.root,!0)}`,r=zP(e.queryParams),i=typeof e.fragment=="string"?`#${HP(e.fragment)}`:"";return`${n}${r}${i}`}},$P=new Bs;function ou(t){return t.segments.map(e=>MC(e)).join("/")}function Os(t,e){if(!t.hasChildren())return ou(t);if(e){let n=t.children[j]?Os(t.children[j],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Os(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=BP(t,(r,i)=>i===j?[Os(t.children[j],!1)]:[`${i}:${Os(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[j]!=null?`${ou(t)}/${n[0]}`:`${ou(t)}/(${n.join("//")})`}}function NC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nu(t){return NC(t).replace(/%3B/gi,";")}function HP(t){return encodeURI(t)}function Kp(t){return NC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function su(t){return decodeURIComponent(t)}function vC(t){return su(t.replace(/\+/g,"%20"))}function MC(t){return`${Kp(t.path)}${WP(t.parameters)}`}function WP(t){return Object.entries(t).map(([e,n])=>`;${Kp(e)}=${Kp(n)}`).join("")}function zP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${nu(n)}=${nu(i)}`).join("&"):`${nu(n)}=${nu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var GP=/^[^\/()?;#]+/;function Hp(t){let e=t.match(GP);return e?e[0]:""}var qP=/^[^\/()?;=#]+/;function YP(t){let e=t.match(qP);return e?e[0]:""}var KP=/^[^=?&#]+/;function ZP(t){let e=t.match(KP);return e?e[0]:""}var QP=/^[^&#]+/;function JP(t){let e=t.match(QP);return e?e[0]:""}var Zp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[j]=new ee(e,n)),r}parseSegment(){let e=Hp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Yr(su(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=YP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Hp(this.remaining);i&&(r=i,this.capture(r))}e[su(n)]=su(r)}parseQueryParam(e){let n=ZP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=JP(this.remaining);s&&(r=s,this.capture(r))}let i=vC(n),o=vC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function RC(t){return t.segments.length>0?new ee([],{[j]:t}):t}function xC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=xC(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ee(t.segments,e);return XP(n)}function XP(t){if(t.numberOfChildren===1&&t.children[j]){let e=t.children[j];return new ee(t.segments.concat(e.segments),e.children)}return t}function Zr(t){return t instanceof An}function eO(t,e,n=null,r=null){let i=kC(t);return PC(i,e,n,r)}function kC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=RC(r);return e??i}function PC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Wp(i,i,i,n,r);let o=tO(e);if(o.toRoot())return Wp(i,i,new ee([],{}),n,r);let s=nO(o,i,t),a=s.processChildren?Vs(s.segmentGroup,s.index,o.commands):FC(s.segmentGroup,s.index,o.commands);return Wp(i,s.segmentGroup,a,n,r)}function au(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $s(t){return typeof t=="object"&&t!=null&&t.outlets}function Wp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=OC(t,e,n);let a=RC(xC(s));return new An(a,o,i)}function OC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=OC(o,e,n)}),new ee(t.segments,r)}var cu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&au(r[0]))throw new S(4003,!1);let i=r.find($s);if(i&&i!==DC(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new cu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cu(n,e,r)}var oo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nO(t,e,n){if(t.isAbsolute)return new oo(e,!0,0);if(!n)return new oo(e,!1,NaN);if(n.parent===null)return new oo(n,!0,0);let r=au(t.commands[0])?0:1,i=n.segments.length-1+r;return rO(n,i,t.numberOfDoubleDots)}function rO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new oo(r,!1,i-o)}function iO(t){return $s(t[0])?t[0].outlets:{[j]:t}}function FC(t,e,n){if(t??=new ee([],{}),t.segments.length===0&&t.hasChildren())return Vs(t,e,n);let r=oO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ee(t.segments.slice(0,r.pathIndex),{});return o.children[j]=new ee(t.segments.slice(r.pathIndex),t.children),Vs(o,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?Qp(t,e,n):r.match?Vs(t,0,i):Qp(t,e,n)}function Vs(t,e,n){if(n.length===0)return new ee(t.segments,{});{let r=iO(n),i={};if(Object.keys(r).some(o=>o!==j)&&t.children[j]&&t.numberOfChildren===1&&t.children[j].segments.length===0){let o=Vs(t.children[j],e,n);return new ee(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=FC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(t.segments,i)}}function oO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if($s(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!_C(c,l,s))return o;r+=2}else{if(!_C(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Qp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if($s(o)){let c=sO(o.outlets);return new ee(r,c)}if(i===0&&au(n[0])){let c=t.segments[e];r.push(new Yr(c.path,yC(n[0]))),i++;continue}let s=$s(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&au(a)?(r.push(new Yr(s,yC(a))),i+=2):(r.push(new Yr(s,{})),i++)}return new ee(r,{})}function sO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Qp(new ee([],{}),0,r))}),e}function yC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _C(t,e,n){return t==n.path&&on(e,n.parameters)}var js="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),It=class{constructor(e,n){this.id=e,this.url=n}},Hs=class extends It{constructor(e,n,r="imperative",i=null){super(e,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ir=class extends It{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(dt||{}),Jp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jp||{}),Sn=class extends It{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qr=class extends It{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},Ws=class extends It{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lu=class extends It{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xp=class extends It{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},em=class extends It{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tm=class extends It{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nm=class extends It{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rm=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},im=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},om=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sm=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},am=class{constructor(e){this.snapshot=e,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cm=class{constructor(e){this.snapshot=e,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zs=class{},lo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function aO(t,e){return t.providers&&!t._injector&&(t._injector=Ep(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Vt(t){return t.outlet||j}function cO(t,e){let n=t.filter(r=>Vt(r)===e);return n.push(...t.filter(r=>Vt(r)!==e)),n}function Qs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lm=class{get injector(){return Qs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new gu(this.rootInjector),this.attachRef=null}},gu=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new lm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(P(gt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=um(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=um(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=dm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dm(e,this._root).map(n=>n.value)}};function um(t,e){if(t===e.value)return e;for(let n of e.children){let r=um(t,n);if(r)return r}return null}function dm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=dm(t,n);if(r.length)return r.unshift(e),r}return[]}var ut=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function io(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var du=class extends uu{constructor(e,n){super(e),this.snapshot=n,Im(this,e)}toString(){return this.snapshot.toString()}};function LC(t){let e=lO(t),n=new Re([new Yr("",{})]),r=new Re({}),i=new Re({}),o=new Re({}),s=new Re(""),a=new Nn(n,r,o,s,i,j,t,e.root);return a.snapshot=e.root,new du(new ut(a,[]),e)}function lO(t){let e={},n={},r={},i="",o=new so([],e,r,i,n,j,t,null,{});return new hu("",new ut(o,[]))}var Nn=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(x(l=>l[Zs]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(x(e=>co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(x(e=>co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fu(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&jC(i)&&(r.resolve[Zs]=i.title),r}var so=class{get title(){return this.data?.[Zs]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},hu=class extends uu{constructor(e,n){super(n),this.url=e,Im(this,n)}toString(){return VC(this._root)}};function Im(t,e){e.value._routerState=t,e.children.forEach(n=>Im(t,n))}function VC(t){let e=t.children.length>0?` { ${t.children.map(VC).join(", ")} } `:"";return`${t.value}${e}`}function zp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),FP(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fm(t,e){let n=on(t.params,e.params)&&UP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||fm(t.parent,e.parent))}function jC(t){return typeof t.title=="string"||t.title===null}var Js=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=_(gu),this.location=_(Ji),this.changeDetector=_(eo),this.inputBinder=_(wm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new hm(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ee({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xt]})}}return t})(),hm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Nn?this.route:e===gu?this.childContexts:this.parent.get(e,n)}},wm=new T("");function uO(t,e,n){let r=Gs(t,e._root,n?n._root:void 0);return new du(r,e)}function Gs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=dO(t,e,n);return new ut(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gs(t,a)),s}}let r=fO(e.value),i=e.children.map(o=>Gs(t,o));return new ut(r,i)}}function dO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Gs(t,r,i);return Gs(t,r)})}function fO(t){return new Nn(new Re(t.url),new Re(t.params),new Re(t.queryParams),new Re(t.fragment),new Re(t.data),t.outlet,t.component,t)}var qs=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},UC="ngNavigationCancelingError";function pu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BC(!1,dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function BC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UC]=!0,n.cancellationCode=e,n}function hO(t){return $C(t)&&Zr(t.url)}function $C(t){return!!t&&t[UC]}var pO=(t,e,n,r)=>x(i=>(new pm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),pm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=io(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=io(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=io(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=io(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new sm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(zp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},mu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ao=class{constructor(e,n){this.component=e,this.route=n}};function mO(t,e,n){let r=t._root,i=e?e._root:null;return Fs(r,i,n,[r.value])}function gO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aE(t)?t:e.get(t):r}function Fs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=io(e);return t.children.forEach(s=>{vO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Us(a,n.getContext(s),i)),i}function vO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=yO(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new mu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fs(t,e,a?a.children:null,r,i):Fs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ao(a.outlet.component,s))}else s&&Us(e,a,i),i.canActivateChecks.push(new mu(r)),o.component?Fs(t,null,a?a.children:null,r,i):Fs(t,null,n,r,i);return i}function yO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Kr(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fm(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!fm(t,e)}}function Us(t,e,n){let r=io(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Us(s,e.children.getContext(o),n):Us(s,null,n):Us(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ao(e.outlet.component,i)):n.canDeactivateChecks.push(new ao(null,i)):n.canDeactivateChecks.push(new ao(null,i))}function Xs(t){return typeof t=="function"}function _O(t){return typeof t=="boolean"}function EO(t){return t&&Xs(t.canLoad)}function IO(t){return t&&Xs(t.canActivate)}function wO(t){return t&&Xs(t.canActivateChild)}function CO(t){return t&&Xs(t.canDeactivate)}function DO(t){return t&&Xs(t.canMatch)}function HC(t){return t instanceof gn||t?.name==="EmptyError"}var ru=Symbol("INITIAL_VALUE");function uo(){return $e(t=>kc(t.map(e=>e.pipe(Qe(1),Rf(ru)))).pipe(x(e=>{for(let n of e)if(n!==!0){if(n===ru)return ru;if(n===!1||bO(n))return n}return!0}),ht(e=>e!==ru),Qe(1)))}function bO(t){return Zr(t)||t instanceof qs}function TO(t,e){return ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(B(I({},n),{guardsResult:!0})):SO(s,r,i,t).pipe(ye(a=>a&&_O(a)?AO(r,o,t,e):M(a)),x(a=>B(I({},n),{guardsResult:a})))})}function SO(t,e,n,r){return se(t).pipe(ye(i=>kO(i.component,i.route,n,e,r)),Nt(i=>i!==!0,!0))}function AO(t,e,n,r){return se(e).pipe(Rr(i=>$n(MO(i.route.parent,r),NO(i.route,r),xO(t,i.path,n),RO(t,i.route,n))),Nt(i=>i!==!0,!0))}function NO(t,e){return t!==null&&e&&e(new am(t)),M(!0)}function MO(t,e){return t!==null&&e&&e(new om(t)),M(!0)}function RO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>Pc(()=>{let s=Qs(e)??n,a=fo(o,s),c=IO(a)?a.canActivate(e,t):Qt(s,()=>a(e,t));return or(c).pipe(Nt())}));return M(i).pipe(uo())}function xO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>gO(s)).filter(s=>s!==null).map(s=>Pc(()=>{let a=s.guards.map(c=>{let l=Qs(s.node)??n,u=fo(c,l),d=wO(u)?u.canActivateChild(r,t):Qt(l,()=>u(r,t));return or(d).pipe(Nt())});return M(a).pipe(uo())}));return M(o).pipe(uo())}function kO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let c=Qs(e)??i,l=fo(a,c),u=CO(l)?l.canDeactivate(t,e,n,r):Qt(c,()=>l(t,e,n,r));return or(u).pipe(Nt())});return M(s).pipe(uo())}function PO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=fo(s,t),c=EO(a)?a.canLoad(e,n):Qt(t,()=>a(e,n));return or(c)});return M(o).pipe(uo(),WC(r))}function WC(t){return rs(_e(e=>{if(typeof e!="boolean")throw pu(t,e)}),x(e=>e===!0))}function OO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=fo(s,t),c=DO(a)?a.canMatch(e,n):Qt(t,()=>a(e,n));return or(c)});return M(o).pipe(uo(),WC(r))}var Ys=class{constructor(e){this.segmentGroup=e||null}},Ks=class extends Error{constructor(e){super(),this.urlTree=e}};function ro(t){return Ni(new Ys(t))}function FO(t){return Ni(new S(4e3,!1))}function LO(t){return Ni(BC(!1,dt.GuardRejected))}var mm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[j])return FO(`${e.redirectTo}`);i=i.children[j]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:p,title:C}=i,N=Qt(o,()=>a({params:h,data:p,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:C}));if(N instanceof An)throw new Ks(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ks(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new An(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ee(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VO(t,e,n,r,i){let o=zC(t,e,n);return o.matched?(r=aO(e,r),OO(r,e,n,i).pipe(x(s=>s===!0?o:I({},gm)))):M(o)}function zC(t,e,n){if(e.path==="**")return jO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},gm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||OP)(n,t,e);if(!i)return I({},gm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jO(t){return{matched:!0,parameters:t.length>0?DC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function EC(t,e,n,r){return n.length>0&&$O(t,n,r)?{segmentGroup:new ee(e,BO(r,new ee(n,t.children))),slicedSegments:[]}:n.length===0&&HO(t,n,r)?{segmentGroup:new ee(t.segments,UO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:n}}function UO(t,e,n,r){let i={};for(let o of n)if(vu(t,e,o)&&!r[Vt(o)]){let s=new ee([],{});i[Vt(o)]=s}return I(I({},r),i)}function BO(t,e){let n={};n[j]=e;for(let r of t)if(r.path===""&&Vt(r)!==j){let i=new ee([],{});n[Vt(r)]=i}return n}function $O(t,e,n){return n.some(r=>vu(t,e,r)&&Vt(r)!==j)}function HO(t,e,n){return n.some(r=>vu(t,e,r))}function vu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function WO(t,e,n){return e.length===0&&!t.children[n]}var vm=class{};function zO(t,e,n,r,i,o,s="emptyOnly"){return new ym(t,e,n,r,i,s,o).recognize()}var GO=31,ym=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=EC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(x(({children:n,rootSnapshot:r})=>{let i=new ut(r,n),o=new hu("",i),s=eO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new so([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,j,n).pipe(x(r=>({children:r,rootSnapshot:n})),Hn(r=>{if(r instanceof Ks)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ys?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(x(s=>s instanceof ut?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return se(o).pipe(Rr(s=>{let a=r.children[s],c=cO(n,s);return this.processSegmentGroup(e,c,a,s,i)}),as((s,a)=>(s.push(...a),s)),Wn(null),Mf(),ye(s=>{if(s===null)return ro(r);let a=GC(s);return qO(a),M(a)}))}processSegment(e,n,r,i,o,s,a){return se(n).pipe(Rr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Hn(l=>{if(l instanceof Ys)return M(null);throw l}))),Nt(c=>!!c),Hn(c=>{if(HC(c))return WO(r,i,o)?M(new vm):ro(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Vt(r)!==s&&(s===j||!vu(i,o,r))?ro(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ro(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=zC(n,i,o);if(!c)return ro(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GO&&(this.allowRedirects=!1));let h=new so(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,IC(i),Vt(i),i.component??i._loadedComponent??null,i,wC(i)),p=fu(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let C=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,C).pipe(ye(N=>this.processSegment(e,r,n,N.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=VO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe($e(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($e(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new so(f,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,IC(r),Vt(r),r.component??r._loadedComponent??null,r,wC(r)),C=fu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(C.params),p.data=Object.freeze(C.data);let{segmentGroup:N,slicedSegments:O}=EC(n,f,h,l);if(O.length===0&&N.hasChildren())return this.processChildren(u,l,N,p).pipe(x(de=>new ut(p,de)));if(l.length===0&&O.length===0)return M(new ut(p,[]));let ue=Vt(r)===o;return this.processSegment(u,l,N,O,ue?j:o,!0,p).pipe(x(de=>new ut(p,de instanceof ut?[de]:[])))}))):ro(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):PO(e,n,r,this.urlSerializer).pipe(ye(i=>i?this.configLoader.loadChildren(e,n).pipe(_e(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):LO(n))):M({routes:[],injector:e})}};function qO(t){t.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function YO(t){let e=t.value.routeConfig;return e&&e.path===""}function GC(t){let e=[],n=new Set;for(let r of t){if(!YO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=GC(r.children);e.push(new ut(r.value,i))}return e.filter(r=>!n.has(r))}function IC(t){return t.data||{}}function wC(t){return t.resolve||{}}function KO(t,e,n,r,i,o){return ye(s=>zO(t,e,n,r,s.extractedUrl,i,o).pipe(x(({state:a,tree:c})=>B(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function ZO(t,e){return ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of qC(c))s.add(l);let a=0;return se(s).pipe(Rr(c=>o.has(c)?QO(c,r,t,e):(c.data=fu(c,c.parent,t).resolve,M(void 0))),_e(()=>a++),Ri(1),ye(c=>a===s.size?M(n):Be))})}function qC(t){let e=t.children.map(n=>qC(n)).flat();return[t,...e]}function QO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!jC(i)&&(o[Zs]=i.title),JO(o,t,e,r).pipe(x(s=>(t._resolvedData=s,t.data=fu(t,t.parent,n).resolve,null)))}function JO(t,e,n,r){let i=Yp(t);if(i.length===0)return M({});let o={};return se(i).pipe(ye(s=>XO(t[s],e,n,r).pipe(Nt(),_e(a=>{if(a instanceof qs)throw pu(new Bs,a);o[s]=a}))),Ri(1),ss(o),Hn(s=>HC(s)?Be:Ni(s)))}function XO(t,e,n,r){let i=Qs(e)??r,o=fo(t,i),s=o.resolve?o.resolve(e,n):Qt(i,()=>o(e,n));return or(s)}function Gp(t){return $e(e=>{let n=t(e);return n?se(n).pipe(x(()=>e)):M(e)})}var YC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[Zs]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(e1),providedIn:"root"})}}return t})(),e1=(()=>{class t extends YC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(P(pC))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cm=new T("",{providedIn:"root",factory:()=>({})}),t1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=J({type:t,selectors:[["ng-component"]],standalone:!0,features:[X],decls:1,vars:0,template:function(r,i){r&1&&Y(0,"router-outlet")},dependencies:[Js],encapsulation:2})}}return t})();function Dm(t){let e=t.children&&t.children.map(Dm),n=e?B(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=t1),n}var bm=new T(""),n1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(Sp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return M(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=or(n.loadComponent()).pipe(x(KC),_e(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Mi(()=>{this.componentLoaders.delete(n)})),i=new Di(r,()=>new Ae).pipe(Ci());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return M({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=r1(r,this.compiler,n,this.onLoadEndListener).pipe(Mi(()=>{this.childrenLoaders.delete(r)})),s=new Di(o,()=>new Ae).pipe(Ci());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function r1(t,e,n,r){return or(t.loadChildren()).pipe(x(KC),ye(i=>i instanceof vs||Array.isArray(i)?M(i):se(e.compileModuleAsync(i))),x(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(bm,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dm),injector:o}}))}function i1(t){return t&&typeof t=="object"&&"default"in t}function KC(t){return i1(t)?t.default:t}var Tm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(o1),providedIn:"root"})}}return t})(),o1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),s1=new T("");var a1=new T(""),c1=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.transitionAbortSubject=new Ae,this.configLoader=_(n1),this.environmentInjector=_(gt),this.urlSerializer=_(Em),this.rootContexts=_(gu),this.location=_(Ms),this.inputBindingEnabled=_(wm,{optional:!0})!==null,this.titleStrategy=_(YC),this.options=_(Cm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(Tm),this.createViewTransition=_(s1,{optional:!0}),this.navigationErrorHandler=_(a1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let n=i=>this.events.next(new rm(i)),r=i=>this.events.next(new im(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(B(I(I({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Re({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:js,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ht(o=>o.id!==0),x(o=>B(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$e(o=>{let s=!1,a=!1;return M(o).pipe($e(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",dt.SupersededByNewNavigation),Be;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?B(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Qr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Jp.IgnoredSameUrlNavigation)),c.resolve(!1),Be}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe($e(d=>{let f=this.transitions?.getValue();return this.events.next(new Hs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Be:Promise.resolve(d)}),KO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=B(I({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new lu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:C}=c,N=new Hs(d,this.urlSerializer.serialize(f),h,p);this.events.next(N);let O=LC(this.rootComponentType).snapshot;return this.currentTransition=o=B(I({},c),{targetSnapshot:O,urlAfterRedirects:f,extras:B(I({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,M(o)}else{let d="";return this.events.next(new Qr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Jp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Be}}),_e(c=>{let l=new Xp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),x(c=>(this.currentTransition=o=B(I({},c),{guards:mO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),TO(this.environmentInjector,c=>this.events.next(c)),_e(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw pu(this.urlSerializer,c.guardsResult);let l=new em(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ht(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",dt.GuardRejected),!1)),Gp(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(_e(l=>{let u=new tm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),$e(l=>{let u=!1;return M(l).pipe(ZO(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",dt.NoDataFromResolver)}}))}),_e(l=>{let u=new nm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Gp(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(_e(f=>{u.component=f}),x(()=>{})));for(let f of u.children)d.push(...l(f));return d};return kc(l(c.targetSnapshot.root)).pipe(Wn(null),Qe(1))}),Gp(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?se(u).pipe(x(()=>o)):M(o)}),x(c=>{let l=uO(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=B(I({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),_e(()=>{this.events.next(new zs)}),pO(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qe(1),_e({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ir(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),xf(this.transitionAbortSubject.pipe(_e(c=>{throw c}))),Mi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",dt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(c=>{if(a=!0,$C(c))this.events.next(new Sn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),hO(c)?this.events.next(new lo(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ws(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof qs){let{message:d,cancellationCode:f}=pu(this.urlSerializer,u);this.events.next(new Sn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new lo(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Be}))}))}cancelNavigationTransition(n,r,i){let o=new Sn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function l1(t){return t!==js}var u1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(d1),providedIn:"root"})}}return t})(),_m=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},d1=(()=>{class t extends _m{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(f1),providedIn:"root"})}}return t})(),f1=(()=>{class t extends ZC{constructor(){super(...arguments),this.location=_(Ms),this.urlSerializer=_(Em),this.options=_(Cm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(Tm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=LC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Hs)this.stateMemento=this.createStateMemento();else if(n instanceof Qr)this.rawUrlTree=r.initialUrl;else if(n instanceof lu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof zs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Sn&&(n.code===dt.GuardRejected||n.code===dt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ws?this.restoreHistory(r,!0):n instanceof ir&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof An?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=I(I({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=I(I({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ls=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ls||{});function h1(t,e){t.events.pipe(ht(n=>n instanceof ir||n instanceof Sn||n instanceof Ws||n instanceof Qr),x(n=>n instanceof ir||n instanceof Qr?Ls.COMPLETE:(n instanceof Sn?n.code===dt.Redirect||n.code===dt.SupersededByNewNavigation:!1)?Ls.REDIRECTING:Ls.FAILED),ht(n=>n!==Ls.REDIRECTING),Qe(1)).subscribe(()=>{e()})}function p1(t){throw t}var m1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(ql),this.stateManager=_(ZC),this.options=_(Cm,{optional:!0})||{},this.pendingTasks=_($r),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(c1),this.urlSerializer=_(Em),this.location=_(Ms),this.urlHandlingStrategy=_(Tm),this._events=new Ae,this.errorHandler=this.options.errorHandler||p1,this.navigated=!1,this.routeReuseStrategy=_(u1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(bm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(wm,{optional:!0}),this.eventsSubscription=new me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Sn&&r.code!==dt.Redirect&&r.code!==dt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ir)this.navigated=!0;else if(r instanceof lo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||l1(i.source)},s);this.scheduleNavigation(a,js,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}y1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),js,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Dm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=kC(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return PC(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Zr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,js,null,r)}navigate(n,r={skipLocationChange:!1}){return v1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},m1):r===!1?i=I({},g1):i=r,Zr(n))return gC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return gC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return h1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function v1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function y1(t){return!(t instanceof zs)&&!(t instanceof lo)}var ho=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Ae,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:OI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(b(jt),b(Nn),Zh("tabindex"),b(en),b(Ft),b(no))}}static{this.\u0275dir=Ee({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ne("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Hr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",to],skipLocationChange:[2,"skipLocationChange","skipLocationChange",to],replaceUrl:[2,"replaceUrl","replaceUrl",to],routerLink:"routerLink"},standalone:!0,features:[_p,Xt]})}}return t})();var _1=new T("");function QC(t,...e){return st([{provide:bm,multi:!0,useValue:t},[],{provide:Nn,useFactory:E1,deps:[jt]},{provide:Xi,multi:!0,useFactory:I1},e.map(n=>n.\u0275providers)])}function E1(t){return t.routerState.root}function I1(){let t=_(Le);return e=>{let n=t.get(nn);if(e!==n.components[0])return;let r=t.get(jt),i=t.get(w1);t.get(C1)===1&&r.initialNavigation(),t.get(D1,null,$.Optional)?.setUpPreloading(),t.get(_1,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var w1=new T("",{factory:()=>new Ae}),C1=new T("",{providedIn:"root",factory:()=>1});var D1=new T("");var Am={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(t,e){if(!t)throw Jr(e)},Jr=function(t){return new Error("Firebase Database ("+Am.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var XC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},b1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Nm;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Nm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Rm=function(t){let e=XC(t);return _u.encodeByteArray(e,!0)},ta=function(t){return Rm(t).replace(/\./g,"")},na=function(t){try{return _u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eD(t){return tD(void 0,t)}function tD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!T1(n)||(t[n]=tD(t[n],e[n]));return t}function T1(t){return t!=="__proto__"}function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var A1=()=>S1().__FIREBASE_DEFAULTS__,N1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&na(t[1]);return e&&JSON.parse(e)},xm=()=>{try{return A1()||N1()||M1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},km=t=>{var e,n;return(n=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nD=t=>{let e=km(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pm=()=>{var t;return(t=xm())===null||t===void 0?void 0:t.config},Om=t=>{var e;return(e=xm())===null||e===void 0?void 0:e[`_${t}`]};var sr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function rD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ta(JSON.stringify(n)),ta(JSON.stringify(s)),""].join(".")}function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ra(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function iD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Eu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sD(){let t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sn(){return Am.NODE_CLIENT===!0||Am.NODE_ADMIN===!0}function aD(){try{return typeof indexedDB=="object"}catch{return!1}}function cD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var R1="FirebaseError",Ut=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}},Mn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?x1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ut(i,a,r)}};function x1(t,e){return t.replace(k1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var k1=/\{\$([^}]+)}/g;function po(t){return JSON.parse(t)}function we(t){return JSON.stringify(t)}var lD=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=po(na(o[0])||""),n=po(na(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var uD=function(t){let e=lD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},dD=function(t){let e=lD(t).claims;return typeof e=="object"&&e.admin===!0};function an(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ia(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oa(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(JC(o)&&JC(s)){if(!mo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function JC(t){return t!==null&&typeof t=="object"}function ar(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function go(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var yu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function fD(t,e){let n=new Mm(t,e);return n.subscribe.bind(n)}var Mm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sm),i.error===void 0&&(i.error=Sm),i.complete===void 0&&(i.complete=Sm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function P1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sm(){}function Iu(t,e){return`${t} failed: ${e} argument `}var hD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sa=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var d6=4*60*60*1e3;function ke(t){return t&&t._delegate?t._delegate:t}var wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ei="[DEFAULT]";var wu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new sr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F1(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O1(t){return t===ei?void 0:t}function F1(t){return t.instantiationMode==="EAGER"}var aa=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var L1=[],re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(re||{}),V1={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},j1=re.INFO,U1={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},B1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=U1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cr=class{constructor(e){this.name=e,this._logLevel=j1,this._logHandler=B1,this._userLogHandler=null,L1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var $1=(t,e)=>e.some(n=>t instanceof n),pD,mD;function H1(){return pD||(pD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W1(){return mD||(mD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gD=new WeakMap,Lm=new WeakMap,vD=new WeakMap,Fm=new WeakMap,jm=new WeakMap;function z1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(cn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gD.set(n,t)}).catch(()=>{}),jm.set(e,t),e}function G1(t){if(Lm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Lm.set(t,e)}var Vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yD(t){Vm=t(Vm)}function q1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cu(this),e,...n);return vD.set(r,e.sort?e.sort():[e]),cn(r)}:W1().includes(t)?function(...e){return t.apply(Cu(this),e),cn(gD.get(this))}:function(...e){return cn(t.apply(Cu(this),e))}}function Y1(t){return typeof t=="function"?q1(t):(t instanceof IDBTransaction&&G1(t),$1(t,H1())?new Proxy(t,Vm):t)}function cn(t){if(t instanceof IDBRequest)return z1(t);if(Fm.has(t))return Fm.get(t);let e=Y1(t);return e!==t&&(Fm.set(t,e),jm.set(e,t)),e}var Cu=t=>jm.get(t);function ED(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=cn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(cn(s.result),c.oldVersion,c.newVersion,cn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var K1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],Um=new Map;function _D(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Z1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K1.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Um.set(e,o),o}yD(t=>B(I({},t),{get:(e,n,r)=>_D(e,n)||t.get(e,n,r),has:(e,n)=>!!_D(e,n)||t.has(e,n)}));var $m=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Q1(t){let e=t.getComponent();return e?.type==="VERSION"}var Hm="@firebase/app",ID="0.10.13";var Rn=new cr("@firebase/app"),J1="@firebase/app-compat",X1="@firebase/analytics-compat",eF="@firebase/analytics",tF="@firebase/app-check-compat",nF="@firebase/app-check",rF="@firebase/auth",iF="@firebase/auth-compat",oF="@firebase/database",sF="@firebase/data-connect",aF="@firebase/database-compat",cF="@firebase/functions",lF="@firebase/functions-compat",uF="@firebase/installations",dF="@firebase/installations-compat",fF="@firebase/messaging",hF="@firebase/messaging-compat",pF="@firebase/performance",mF="@firebase/performance-compat",gF="@firebase/remote-config",vF="@firebase/remote-config-compat",yF="@firebase/storage",_F="@firebase/storage-compat",EF="@firebase/firestore",IF="@firebase/vertexai-preview",wF="@firebase/firestore-compat",CF="firebase",DF="10.14.1";var Wm="[DEFAULT]",bF={[Hm]:"fire-core",[J1]:"fire-core-compat",[eF]:"fire-analytics",[X1]:"fire-analytics-compat",[nF]:"fire-app-check",[tF]:"fire-app-check-compat",[rF]:"fire-auth",[iF]:"fire-auth-compat",[oF]:"fire-rtdb",[sF]:"fire-data-connect",[aF]:"fire-rtdb-compat",[cF]:"fire-fn",[lF]:"fire-fn-compat",[uF]:"fire-iid",[dF]:"fire-iid-compat",[fF]:"fire-fcm",[hF]:"fire-fcm-compat",[pF]:"fire-perf",[mF]:"fire-perf-compat",[gF]:"fire-rc",[vF]:"fire-rc-compat",[yF]:"fire-gcs",[_F]:"fire-gcs-compat",[EF]:"fire-fst",[wF]:"fire-fst-compat",[IF]:"fire-vertex","fire-js":"fire-js",[CF]:"fire-js-all"};var ca=new Map,TF=new Map,zm=new Map;function wD(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ur(t){let e=t.name;if(zm.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(let n of ca.values())wD(n,t);for(let n of TF.values())wD(n,t);return!0}function ua(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ct(t){return t.settings!==void 0}var SF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Mn("app","Firebase",SF);var Gm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}};var dr=DF;function Km(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Wm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=Pm()),!n)throw lr.create("no-options");let o=ca.get(i);if(o){if(mo(n,o.options)&&mo(r,o.config))return o;throw lr.create("duplicate-app",{appName:i})}let s=new aa(i);for(let c of zm.values())s.addComponent(c);let a=new Gm(n,r,s);return ca.set(i,a),a}function yo(t=Wm){let e=ca.get(t);if(!e&&t===Wm&&Pm())return Km();if(!e)throw lr.create("no-app",{appName:t});return e}function Du(){return Array.from(ca.values())}function Ce(t,e,n){var r;let i=(r=bF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(a.join(" "));return}ur(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var AF="firebase-heartbeat-database",NF=1,la="firebase-heartbeat-store",Bm=null;function TD(){return Bm||(Bm=ED(AF,NF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(la)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Bm}function MF(t){return m(this,null,function*(){try{let n=(yield TD()).transaction(la),r=yield n.objectStore(la).get(SD(t));return yield n.done,r}catch(e){if(e instanceof Ut)Rn.warn(e.message);else{let n=lr.create("idb-get",{originalErrorMessage:e?.message});Rn.warn(n.message)}}})}function CD(t,e){return m(this,null,function*(){try{let r=(yield TD()).transaction(la,"readwrite");yield r.objectStore(la).put(e,SD(t)),yield r.done}catch(n){if(n instanceof Ut)Rn.warn(n.message);else{let r=lr.create("idb-set",{originalErrorMessage:n?.message});Rn.warn(r.message)}}})}function SD(t){return`${t.name}!${t.options.appId}`}var RF=1024,xF=30*24*60*60*1e3,qm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ym(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=xF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rn.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=DD(),{heartbeatsToSend:r,unsentEntries:i}=kF(this._heartbeatsCache.heartbeats),o=ta(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Rn.warn(n),""}})}};function DD(){return new Date().toISOString().substring(0,10)}function kF(t,e=RF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),bD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ym=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return aD()?cD().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield MF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function bD(t){return ta(JSON.stringify({version:2,heartbeats:t})).length}function PF(t){ur(new wt("platform-logger",e=>new $m(e),"PRIVATE")),ur(new wt("heartbeat",e=>new qm(e),"PRIVATE")),Ce(Hm,ID,t),Ce(Hm,ID,"esm2017"),Ce("fire-js","")}PF("");var OF="firebase",FF="10.14.1";Ce(OF,FF,"app");var ni=new En("ANGULARFIRE2_VERSION");function Tu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var da=(t,e)=>{let n=e?[e]:Du(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Eo=class{constructor(){return da(LF)}},LF="app-check";function _o(){}var bu=class{zone;delegate;constructor(e,n=wf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Zm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_o,{},_o,_o)),n.pipe(_e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Io=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bu(Zone.current)),this.insideAngular=n.run(()=>new bu(Zone.current,Ai)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(P(te))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Su(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function VF(t){return Su().ngZone.runOutsideAngular(()=>t())}function ti(t){return Su().ngZone.run(()=>t())}function jF(t){return UF(Su())(t)}function UF(t){return function(n){return n=n.lift(new Zm(t.ngZone)),n.pipe(Bn(t.outsideAngular),Un(t.insideAngular))}}var BF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ti(()=>t.apply(void 0,r))},Pe=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ti(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_o,{},_o,_o))),r[o]=BF(r[o],n));let i=VF(()=>t.apply(this,r));if(!e)if(i instanceof V){let o=Su();return i.pipe(Bn(o.outsideAngular),Un(o.insideAngular))}else return ti(()=>i);return i instanceof V?i.pipe(jF):i instanceof Promise?ti(()=>new Promise((o,s)=>i.then(a=>ti(()=>o(a)),a=>ti(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ti(()=>i)};var xn=class{constructor(e){return e}},ri=class{constructor(){return Du()}};function $F(t){return t&&t.length===1?t[0]:new xn(yo())}var Qm=new T("angularfire2._apps"),HF={provide:xn,useFactory:$F,deps:[[new Ge,Qm]]},WF={provide:ri,deps:[[new Ge,Qm]]};function zF(t){return(e,n)=>{let r=n.get(Et);Ce("angularfire",ni.full,"core"),Ce("angularfire",ni.full,"app"),Ce("angular",Nw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new xn(i)}}function AD(t,...e){return st([HF,WF,{provide:Qm,useFactory:zF(t),multi:!0,deps:[te,Le,Io,...e]}])}var ND=Pe(Km,!0);function GD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qD=GD,YD=new Mn("auth","Firebase",GD());var ku=new cr("@firebase/auth");function GF(t,...e){ku.logLevel<=re.WARN&&ku.warn(`Auth (${dr}): ${t}`,...e)}function Nu(t,...e){ku.logLevel<=re.ERROR&&ku.error(`Auth (${dr}): ${t}`,...e)}function Dt(t,...e){throw yg(t,...e)}function Bt(t,...e){return yg(t,...e)}function vg(t,e,n){let r=Object.assign(Object.assign({},qD()),{[e]:n});return new Mn("auth","Firebase",r).create(e,{appName:t.name})}function On(t){return vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qF(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dt(t,"argument-error"),vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YD.create(t,...e)}function R(t,e,...n){if(!t)throw yg(e,...n)}function kn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Nu(e),new Error(e)}function Fn(t,e){t||kn(e)}function eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YF(){return MD()==="http:"||MD()==="https:"}function MD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function KF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YF()||oD()||"connection"in navigator)?navigator.onLine:!0}function ZF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ii=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fn(n>e,"Short delay should be less than long delay!"),this.isMobile=ra()||Eu()}get(){return KF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _g(t,e){Fn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Pu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var QF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var JF=new ii(3e4,6e4);function hr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function pr(o,s,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return KD(t,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=ar(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return iD()||(h.referrerPolicy="no-referrer"),Pu.fetch()(ZD(t,t.config.apiHost,n,d),h)}))})}function KD(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},QF),e);try{let i=new tg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Au(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Au(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw vg(t,u,l);Dt(t,u)}}catch(i){if(i instanceof Ut)throw i;Dt(t,"network-request-failed",{message:String(i)})}})}function _a(o,s,a,c){return m(this,arguments,function*(t,e,n,r,i={}){let l=yield pr(t,e,n,r,i);return"mfaPendingCredential"in l&&Dt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ZD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?_g(t.config,i):`${t.config.apiScheme}://${i}`}function XF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var tg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bt(this.auth,"network-request-failed")),JF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Au(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Bt(t,e,r);return i.customData._tokenResponse=n,i}function RD(t){return t!==void 0&&t.enterprise!==void 0}var ng=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function eL(t,e){return m(this,null,function*(){return pr(t,"GET","/v2/recaptchaConfig",hr(t,e))})}function tL(t,e){return m(this,null,function*(){return pr(t,"POST","/v1/accounts:delete",e)})}function QD(t,e){return m(this,null,function*(){return pr(t,"POST","/v1/accounts:lookup",e)})}function fa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Eg(t,e=!1){return m(this,null,function*(){let n=ke(t),r=yield n.getIdToken(e),i=Ig(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fa(Jm(i.auth_time)),issuedAtTime:fa(Jm(i.iat)),expirationTime:fa(Jm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Jm(t){return Number(t)*1e3}function Ig(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{let i=na(n);return i?JSON.parse(i):(Nu("Failed to decode base64 JWT payload"),null)}catch(i){return Nu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xD(t){let e=Ig(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pa(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ut&&nL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function nL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var rg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ma=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ou(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield pa(t,QD(n,{idToken:r}));R(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JD(o.providerUserInfo):[],a=rL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ma(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function wg(t){return m(this,null,function*(){let e=ke(t);yield Ou(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function rL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JD(t){return t.map(e=>{var{providerId:n}=e,r=_c(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iL(t,e){return m(this,null,function*(){let n=yield KD(t,{},()=>m(this,null,function*(){let r=ar({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ZD(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function oL(t,e){return m(this,null,function*(){return pr(t,"POST","/v2/accounts:revokeToken",hr(t,e))})}var ha=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");let n=xD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield iL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(R(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(R(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kn("not implemented")}};function fr(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Co=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=_c(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ma(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield pa(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Eg(this,e)}reload(){return wg(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ou(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(Ct(this.auth.app))return Promise.reject(On(this.auth));let e=yield this.getIdToken();return yield pa(this,tL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ue=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:de,emailVerified:Ie,isAnonymous:St,providerData:Me,stsTokenManager:mn}=n;R(de&&mn,e,"internal-error");let Xo=ha.fromJSON(this.name,mn);R(typeof de=="string",e,"internal-error"),fr(d,e.name),fr(f,e.name),R(typeof Ie=="boolean",e,"internal-error"),R(typeof St=="boolean",e,"internal-error"),fr(h,e.name),fr(p,e.name),fr(C,e.name),fr(N,e.name),fr(O,e.name),fr(ue,e.name);let es=new t({uid:de,auth:e,email:f,emailVerified:Ie,displayName:d,isAnonymous:St,photoURL:p,phoneNumber:h,tenantId:C,stsTokenManager:Xo,createdAt:O,lastLoginAt:ue});return Me&&Array.isArray(Me)&&(es.providerData=Me.map(PS=>Object.assign({},PS))),N&&(es._redirectEventId=N),es}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new ha;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ou(o),o})}static _fromGetAccountInfoResponse(e,n,r){return m(this,null,function*(){let i=n.users[0];R(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ha;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ma(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var kD=new Map;function Pn(t){Fn(t instanceof Function,"Expected a class definition");let e=kD.get(t);return e?(Fn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kD.set(t,e),e)}var sL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ig=sL;function Mu(t,e,n){return`firebase:${t}:${e}:${n}`}var Fu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Mu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Co._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(Pn(ig),e,r);let i=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Pn(ig),s=Mu(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Co._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function PD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ib(e))return"Blackberry";if(ob(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(rb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XD(t=Ve()){return/firefox\//i.test(t)}function eb(t=Ve()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(t=Ve()){return/crios\//i.test(t)}function nb(t=Ve()){return/iemobile/i.test(t)}function rb(t=Ve()){return/android/i.test(t)}function ib(t=Ve()){return/blackberry/i.test(t)}function ob(t=Ve()){return/webos/i.test(t)}function Cg(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aL(t=Ve()){var e;return Cg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cL(){return sD()&&document.documentMode===10}function sb(t=Ve()){return Cg(t)||rb(t)||ob(t)||ib(t)||/windows phone/i.test(t)||nb(t)}function ab(t,e=[]){let n;switch(t){case"Browser":n=PD(Ve());break;case"Worker":n=`${PD(Ve())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dr}/${r}`}var og=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function lL(n){return m(this,arguments,function*(t,e={}){return pr(t,"GET","/v2/passwordPolicy",hr(t,e))})}var uL=6,sg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:uL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ag=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lu(this),this.idTokenSubscription=new Lu(this),this.beforeStateQueue=new og(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Fu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return m(this,null,function*(){try{let n=yield QD(this,{idToken:e}),r=yield Co._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;if(Ct(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield Ou(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZF()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){if(Ct(this.app))return Promise.reject(On(this));let n=e?ke(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return Ct(this.app)?Promise.reject(On(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ct(this.app)?Promise.reject(On(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Pn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield lL(this),n=new sg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield oL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Pn(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=yield Fu.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&GF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mr(t){return ke(t)}var Lu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fD(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Gu={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dL(t){Gu=t}function cb(t){return Gu.loadJS(t)}function fL(){return Gu.recaptchaEnterpriseScript}function hL(){return Gu.gapiScript}function lb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var pL="recaptcha-enterprise",mL="NO_RECAPTCHA",cg=class{constructor(e){this.type=pL,this.auth=mr(e)}verify(e="verify",n=!1){return m(this,null,function*(){function r(o){return m(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>m(this,null,function*(){eL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ng(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;RD(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(mL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&RD(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fL();c.length!==0&&(c+=a),cb(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function OD(t,e,n,r=!1){return m(this,null,function*(){let i=new cg(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function lg(t,e,n,r){return m(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield OD(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>m(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield OD(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Dg(t,e){let n=ua(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(mo(o,e??{}))return i;Dt(i,"already-initialized")}return n.initialize({options:e})}function gL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bg(t,e,n){let r=mr(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=ub(e),{host:s,port:a}=vL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||yL()}function ub(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vL(t){let e=ub(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FD(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FD(s)}}}function FD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function yL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Do=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,n){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}};function _L(t,e){return m(this,null,function*(){return pr(t,"POST","/v1/accounts:signUp",e)})}function EL(t,e){return m(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithPassword",hr(t,e))})}function IL(t,e){return m(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))})}function wL(t,e){return m(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))})}var ga=class t extends Do{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return m(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,n,"signInWithPassword",EL);case"emailLink":return IL(e,{email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}})}_linkToIdToken(e,n){return m(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,r,"signUpPassword",_L);case"emailLink":return wL(e,{idToken:n,email:this._email,oobCode:this._password});default:Dt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function wo(t,e){return m(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithIdp",hr(t,e))})}var CL="http://localhost",Vu=class t extends Do{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=_c(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){let e={requestUri:CL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ar(n)}return e}};function DL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bL(t){let e=go(vo(t)).link,n=e?go(vo(e)).deep_link_id:null,r=go(vo(t)).deep_link_id;return(r?go(vo(r)).link:null)||r||n||e||t}var ju=class t{constructor(e){var n,r,i,o,s,a;let c=go(vo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=DL((i=c.mode)!==null&&i!==void 0?i:null);R(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=bL(e);try{return new t(n)}catch{return null}}};var db=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ga._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ju.parseLink(r);return R(i,"argument-error"),ga._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),va=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Uu=class extends va{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Tg=(()=>{class t extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Vu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function TL(t,e){return m(this,null,function*(){return _a(t,"POST","/v1/accounts:signUp",hr(t,e))})}var bo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(this,null,function*(){let o=yield Co._fromIdTokenResponse(e,r,i),s=LD(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return m(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function LD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ug=class t extends Ut{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ug._fromErrorAndOperation(t,o,e,r):o})}function SL(t,e,n=!1){return m(this,null,function*(){let r=yield pa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return bo._forOperation(t,"link",r)})}function AL(t,e,n=!1){return m(this,null,function*(){let{auth:r}=t;if(Ct(r.app))return Promise.reject(On(r));let i="reauthenticate";try{let o=yield pa(t,fb(r,i,e,t),n);R(o.idToken,r,"internal-error");let s=Ig(o.idToken);R(s,r,"internal-error");let{sub:a}=s;return R(t.uid===a,r,"user-mismatch"),bo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dt(r,"user-mismatch"),o}})}function hb(t,e,n=!1){return m(this,null,function*(){if(Ct(t.app))return Promise.reject(On(t));let r="signIn",i=yield fb(t,r,e),o=yield bo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Sg(t,e){return m(this,null,function*(){return hb(mr(t),e)})}function pb(t){return m(this,null,function*(){let e=mr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ag(t,e,n){return m(this,null,function*(){if(Ct(t.app))return Promise.reject(On(t));let r=mr(t),s=yield lg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&pb(t),c}),a=yield bo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Ng(t,e,n){return Ct(t.app)?Promise.reject(On(t)):Sg(ke(t),db.credential(e,n)).catch(r=>m(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&pb(t),r}))}function Ea(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function Mg(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function Rg(t){return ke(t).signOut()}var Bu="__sak";var $u=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var NL=1e3,ML=10,RL=(()=>{class t extends $u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);cL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,ML):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},NL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return m(this,null,function*(){yield br(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return m(this,null,function*(){let r=yield br(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return m(this,null,function*(){yield br(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mb=RL;var xL=(()=>{class t extends $u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),xg=xL;function kL(t){return Promise.all(t.map(e=>m(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var PL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return m(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>m(this,null,function*(){return u(r.origin,s)})),l=yield kL(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var dg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return m(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=kg("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ln(){return window}function OL(t){ln().location.href=t}function gb(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}function FL(){return m(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function LL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VL(){return gb()?self:null}var vb="firebaseLocalStorageDb",jL=1,Hu="firebaseLocalStorage",yb="fbase_key",oi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function qu(t,e){return t.transaction([Hu],e?"readwrite":"readonly").objectStore(Hu)}function UL(){let t=indexedDB.deleteDatabase(vb);return new oi(t).toPromise()}function fg(){let t=indexedDB.open(vb,jL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Hu,{keyPath:yb})}catch(i){n(i)}}),t.addEventListener("success",()=>m(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Hu)?e(r):(r.close(),yield UL(),e(yield fg()))}))})}function VD(t,e,n){return m(this,null,function*(){let r=qu(t,!0).put({[yb]:e,value:n});return new oi(r).toPromise()})}function BL(t,e){return m(this,null,function*(){let n=qu(t,!1).get(e),r=yield new oi(n).toPromise();return r===void 0?null:r.value})}function jD(t,e){let n=qu(t,!0).delete(e);return new oi(n).toPromise()}var $L=800,HL=3,WL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return m(this,null,function*(){return this.db?this.db:(this.db=yield fg(),this.db)})}_withRetries(n){return m(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>HL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return m(this,null,function*(){return gb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return m(this,null,function*(){this.receiver=PL._getInstance(VL()),this.receiver._subscribe("keyChanged",(n,r)=>m(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>m(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return m(this,null,function*(){var n,r;if(this.activeServiceWorker=yield FL(),!this.activeServiceWorker)return;this.sender=new dg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return m(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||LL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return m(this,null,function*(){try{if(!indexedDB)return!1;let n=yield fg();return yield VD(n,Bu,"1"),yield jD(n,Bu),!0}catch{}return!1})}_withPendingWrite(n){return m(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(i=>VD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return m(this,null,function*(){let r=yield this._withRetries(i=>BL(i,n));return this.localCache[n]=r,r})}_remove(n){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(r=>jD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return m(this,null,function*(){let n=yield this._withRetries(o=>{let s=qu(o,!1).getAll();return new oi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>m(this,null,function*(){return this._poll()}),$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_b=WL;var i5=lb("rcb"),o5=new ii(3e4,6e4);function Eb(t,e){return e?Pn(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ya=class extends Do{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function zL(t){return hb(t.auth,new ya(t),t.bypassAuthState)}function GL(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),AL(n,new ya(t),t.bypassAuthState)}function qL(t){return m(this,null,function*(){let{auth:e,user:n}=t;return R(n,e,"internal-error"),SL(n,new ya(t),t.bypassAuthState)})}var Wu=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>m(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return m(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zL;case"linkViaPopup":case"linkViaRedirect":return qL;case"reauthViaPopup":case"reauthViaRedirect":return GL;default:Dt(this.auth,"internal-error")}}resolve(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var YL=new ii(2e3,1e4);function Pg(t,e,n){return m(this,null,function*(){if(Ct(t.app))return Promise.reject(Bt(t,"operation-not-supported-in-this-environment"));let r=mr(t);qF(t,e,va);let i=Eb(r,n);return new KL(r,"signInViaPopup",e,i).executeNotNull()})}var KL=(()=>{class t extends Wu{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return m(this,null,function*(){let n=yield this.execute();return R(n,this.auth,"internal-error"),n})}onExecution(){return m(this,null,function*(){Fn(this.filter.length===1,"Popup operations only handle one event");let n=kg();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Bt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,YL.get())};n()}}t.currentPopupAction=null;return t})(),ZL="pendingRedirect",Ru=new Map,hg=class t extends Wu{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return m(this,null,function*(){let e=Ru.get(this.auth._key());if(!e){try{let r=(yield QL(this.resolver,this.auth))?yield br(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return m(this,null,function*(){if(e.type==="signInViaRedirect")return br(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,br(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return m(this,null,function*(){})}cleanUp(){}};function QL(t,e){return m(this,null,function*(){let n=eV(e),r=XL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function JL(t,e){Ru.set(t._key(),e)}function XL(t){return Pn(t._redirectPersistence)}function eV(t){return Mu(ZL,t.config.apiKey,t.name)}function tV(t,e,n=!1){return m(this,null,function*(){if(Ct(t.app))return Promise.reject(On(t));let r=mr(t),i=Eb(r,e),s=yield new hg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var nV=10*60*1e3,pg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ib(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nV&&this.cachedEventUids.clear(),this.cachedEventUids.has(UD(e))}saveEventToCache(e){this.cachedEventUids.add(UD(e)),this.lastProcessedEventTime=Date.now()}};function UD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ib({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(t);default:return!1}}function iV(n){return m(this,arguments,function*(t,e={}){return pr(t,"GET","/v1/projects",e)})}var oV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sV=/^https?/;function aV(t){return m(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield iV(t);for(let n of e)try{if(cV(n))return}catch{}Dt(t,"unauthorized-domain")})}function cV(t){let e=eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sV.test(n))return!1;if(oV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var lV=new ii(3e4,6e4);function BD(){let t=ln().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uV(t){return new Promise((e,n)=>{var r,i,o;function s(){BD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BD(),n(Bt(t,"network-request-failed"))},timeout:lV.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ln().gapi)===null||o===void 0)&&o.load)s();else{let a=lb("iframefcb");return ln()[a]=()=>{gapi.load?s():n(Bt(t,"network-request-failed"))},cb(`${hL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw xu=null,e})}var xu=null;function dV(t){return xu=xu||uV(t),xu}var fV=new ii(5e3,15e3),hV="__/auth/iframe",pV="emulator/auth/iframe",mV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vV(t){let e=t.config;R(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?_g(e,pV):`https://${t.config.authDomain}/${hV}`,r={apiKey:e.apiKey,appName:t.name,v:dr},i=gV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ar(r).slice(1)}`}function yV(t){return m(this,null,function*(){let e=yield dV(t),n=ln().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:vV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mV,dontclear:!0},r=>new Promise((i,o)=>m(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Bt(t,"network-request-failed"),a=ln().setTimeout(()=>{o(s)},fV.get());function c(){ln().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var _V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EV=500,IV=600,wV="_blank",CV="http://localhost",zu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DV(t,e,n,r=EV,i=IV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},_V),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ve().toLowerCase();n&&(a=tb(l)?wV:n),XD(l)&&(e=e||CV,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(aL(l)&&a!=="_self")return bV(e||"",a),new zu(null);let d=window.open(e||"",a,u);R(d,t,"popup-blocked");try{d.focus()}catch{}return new zu(d)}function bV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var TV="__/auth/handler",SV="emulator/auth/handler",AV=encodeURIComponent("fac");function $D(t,e,n,r,i,o){return m(this,null,function*(){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dr,eventId:i};if(e instanceof va){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ia(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Uu){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${AV}=${encodeURIComponent(c)}`:"";return`${NV(t)}?${ar(a).slice(1)}${l}`})}function NV({config:t}){return t.emulator?_g(t,SV):`https://${t.authDomain}/${TV}`}var Xm="webStorageSupport",mg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xg,this._completeRedirectFn=tV,this._overrideRedirectResult=JL}_openPopup(e,n,r,i){return m(this,null,function*(){var o;Fn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $D(e,n,r,eg(),i);return DV(e,s,kg())})}_openRedirect(e,n,r,i){return m(this,null,function*(){yield this._originValidation(e);let o=yield $D(e,n,r,eg(),i);return OL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return m(this,null,function*(){let n=yield yV(e),r=new pg(e);return n.register("authEvent",i=>(R(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Xm];s!==void 0&&n(!!s),Dt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sb()||eb()||Cg()}},wb=mg;var HD="@firebase/auth",WD="1.7.9";var gg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function MV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RV(t){ur(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(t)},l=new ag(r,i,o,c);return gL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ur(new wt("auth-internal",e=>{let n=mr(e.getProvider("auth").getImmediate());return(r=>new gg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(HD,WD,MV(t)),Ce(HD,WD,"esm2017")}var xV=5*60,kV=Om("authIdTokenMaxAge")||xV,zD=null,PV=t=>e=>m(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kV)return;let i=n?.token;zD!==i&&(zD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Og(t=yo()){let e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Dg(t,{popupRedirectResolver:wb,persistence:[_b,mb,xg]}),r=Om("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=PV(o.toString());Mg(n,s,()=>s(n.currentUser)),Ea(n,a=>s(a))}}let i=km("auth");return i&&bg(n,`http://${i}`),n}function OV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Bt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",OV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RV("Browser");function bb(t){return new V(function(e){var n=Ea(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Tb="auth",Ln=class{constructor(e){return e}},Ia=class{constructor(){return da(Tb)}};var Fg=new T("angularfire2.auth-instances");function wj(t,e){let n=Tu(Tb,t,e);return n&&new Ln(n)}function Cj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ln(r)}}var Dj={provide:Ia,deps:[[new Ge,Fg]]},bj={provide:Ln,useFactory:wj,deps:[[new Ge,Fg],xn]};function Sb(t,...e){return Ce("angularfire",ni.full,"auth"),st([bj,Dj,{provide:Fg,useFactory:Cj(t),multi:!0,deps:[te,Le,Io,ri,[new Ge,Eo],...e]}])}var Ab=Pe(bb,!0);var Nb=Pe(Ag,!0);var Mb=Pe(Og,!0);var Rb=Pe(Ng,!0);var xb=Pe(Pg,!0);var kb=Pe(Rg,!0);var Ob="@firebase/database",Fb="1.0.8";var Lv="";function Tj(t){Lv=t}var Wg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),we(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:po(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var zg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var p0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Wg(e)}}catch{}return new zg},ai=p0("localStorage"),Gg=p0("sessionStorage");var Ao=new cr("@firebase/database"),Sj=function(){let t=1;return function(){return t++}}(),m0=function(t){let e=hD(t),n=new yu;n.update(e);let r=n.digest();return _u.encodeByteArray(r)},Ba=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ba.apply(null,r):typeof r=="object"?e+=we(r):e+=r,e+=" "}return e},li=null,Lb=!0,Aj=function(t,e){y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ao.logLevel=re.VERBOSE,li=Ao.log.bind(Ao),e&&Gg.set("logging_enabled",!0)):typeof t=="function"?li=t:(li=null,Gg.remove("logging_enabled"))},je=function(...t){if(Lb===!0&&(Lb=!1,li===null&&Gg.get("logging_enabled")===!0&&Aj(!0)),li){let e=Ba.apply(null,t);li(e)}},$a=function(t){return function(...e){je(t,...e)}},qg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ba(...t);Ao.error(e)},Vn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ba(...t)}`;throw Ao.error(e),new Error(e)},et=function(...t){let e="FIREBASE WARNING: "+Ba(...t);Ao.warn(e)},Nj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},g0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Mj=function(t){if(sn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mo="[MIN_NAME]",ui="[MAX_NAME]",Lo=function(t,e){if(t===e)return 0;if(t===Mo||e===ui)return-1;if(e===Mo||t===ui)return 1;{let n=Vb(t),r=Vb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Rj=function(t,e){return t===e?0:t<e?-1:1},wa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+we(e))},Vv=function(t){if(typeof t!="object"||t===null)return we(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=we(e[r]),n+=":",n+=Vv(t[e[r]]);return n+="}",n},v0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function tt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var y0=function(t){y(!g0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},xj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Pj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Oj=new RegExp("^-?(0*)\\d{1,10}$"),Fj=-2147483648,Lj=2147483647,Vb=function(t){if(Oj.test(t)){let e=Number(t);if(e>=Fj&&e<=Lj)return e}return null},Vo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw et("Exception was thrown by user callback.",n),e},Math.floor(0))}},Vj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Yg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Kg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(e)}},Aa=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ku="5",_0="v",E0="s",I0="r",w0="f",C0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,D0="ls",b0="p",Zg="ac",T0="websocket",S0="long_polling";var Zu=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ai.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ai.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function jj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function A0(t,e,n){y(typeof e=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(e===T0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===S0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);jj(t)&&(n.ns=t.namespace);let i=[];return tt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Qg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eD(this.counters_)}};var Lg={},Vg={};function jv(t){let e=t.toString();return Lg[e]||(Lg[e]=new Qg),Lg[e]}function Uj(t,e){let n=t.toString();return Vg[n]||(Vg[n]=e()),Vg[n]}var Jg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var jb="start",Bj="close",$j="pLPCommand",Hj="pRTLPCB",N0="id",M0="pw",R0="ser",Wj="cb",zj="seg",Gj="ts",qj="d",Yj="dframe",x0=1870,k0=30,Kj=x0-k0,Zj=25e3,Qj=3e4,Xg=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(e),this.stats_=jv(n),this.urlFn=c=>(this.appCheckToken&&(c[Zg]=this.appCheckToken),A0(n,S0,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Jg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Qj)),Mj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ev((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===jb)this.id=a,this.password=c;else if(s===Bj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[jb]="t",r[R0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Wj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_0]=Ku,this.transportSessionId&&(r[E0]=this.transportSessionId),this.lastSessionId&&(r[D0]=this.lastSessionId),this.applicationId&&(r[b0]=this.applicationId),this.appCheckToken&&(r[Zg]=this.appCheckToken),typeof location<"u"&&location.hostname&&C0.test(location.hostname)&&(r[I0]=w0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return sn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xj()&&!kj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=we(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Rm(n),i=v0(r,Kj);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(sn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Yj]="t",r[N0]=e,r[M0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=we(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},ev=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,sn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Sj(),window[$j+this.uniqueCallbackIdentifier]=e,window[Hj+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){je("frame writing exception"),a.stack&&je(a.stack),je(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||je("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[N0]=this.myID,e[M0]=this.myPW,e[R0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+k0+r.length<=x0;){let s=this.pendingSegs.shift();r=r+"&"+zj+i+"="+s.seg+"&"+Gj+i+"="+s.ts+"&"+qj+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Zj)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){sn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Jj=16384,Xj=45e3,Qu=null;typeof MozWebSocket<"u"?Qu=MozWebSocket:typeof WebSocket<"u"&&(Qu=WebSocket);var Ca=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=jv(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[_0]=Ku,!sn()&&typeof location<"u"&&location.hostname&&C0.test(location.hostname)&&(a[I0]=w0),r&&(a[E0]=r),i&&(a[D0]=i),o&&(a[Zg]=o),s&&(a[b0]=s),A0(n,T0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ai.set("previous_websocket_failure",!0);try{let i;if(sn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ku}/${Lv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Qu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Qu!==null&&!t.forceDisallow_}static previouslyFailed(){return ai.isInMemoryStorage||ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){ai.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=po(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=we(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=v0(r,Jj);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Xj))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),eU=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Xg,Ca]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ca&&Ca.isAvailable(),i=r&&!Ca.previouslyFailed();if(n.webSocketOnly&&(r||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ca];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),tU=6e4,nU=5e3,rU=10*1024,iU=100*1024,jg="t",Ub="d",oU="s",Bb="r",sU="e",$b="o",Hb="a",Wb="n",zb="p",aU="h",tv=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new eU(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jg in e){let n=e[jg];n===Hb?this.upgradeIfSecondaryHealthy_():n===Bb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$b&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=wa("t",e),r=wa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=wa("t",e),r=wa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=wa(jg,e);if(Ub in e){let r=e[Ub];if(n===aU){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Wb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===oU?this.onConnectionShutdown_(r):n===Bb?this.onReset_(r):n===sU?qg("Server Error: "+r):n===$b?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ku!==r&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zb,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ju=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Xu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var ed=class t extends Xu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ra()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Gb=32,qb=768,ie=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Q(){return new ie("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function yr(t){return t.pieces_.length-t.pieceNum_}function ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function P0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function O0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function F0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function Se(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function Ye(t,e){let n=G(t),r=G(e);if(n===null)return e;if(n===r)return Ye(ce(t),ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Uv(t,e){if(yr(t)!==yr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(yr(t)>yr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var nv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=O0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=sa(this.parts_[r]);L0(this)}};function lU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=sa(e),L0(t)}function uU(t){let e=t.parts_.pop();t.byteLength_-=sa(e),t.parts_.length>0&&(t.byteLength_-=1)}function L0(t){if(t.byteLength_>qb)throw new Error(t.errorPrefix_+"has a key path longer than "+qb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Gb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gb+") or object contains a cycle "+si(t))}function si(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var rv=class t extends Xu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return y(e==="visible","Unknown event type: "+e),[this.visible_]}};var Da=1e3,dU=60*5*1e3,Yb=30*1e3,fU=1.3,hU=3e4,pU="server_kill",Kb=3,Bv=(()=>{class t extends Ju{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Da,this.maxReconnectDelay_=dU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!sn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ed.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(we(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new sr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&an(n,"w")){let i=Xr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||dD(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Yb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=uD(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+we(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):qg("Unrecognized action received from server: "+we(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hU&&(this.reconnectDelay_=Da),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fU)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new tv(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{et(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(pU)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&et(f),l())}}})}interrupt(n){je("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){je("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ia(this.interruptReasons_)&&(this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Vv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){je("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kb&&(this.reconnectDelay_=Yb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){je("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";sn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Lv.replace(/\./g,"-")]=1,ra()?n["framework.cordova"]=1:Eu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ed.getInstance().currentlyOnline();return ia(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ro=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new q(Mo,e),i=new q(Mo,n);return this.compare(r,i)!==0}minPost(){return q.MIN}};var Yu,td=class extends Ro{static get __EMPTY_NODE(){return Yu}static set __EMPTY_NODE(e){Yu=e}compare(e,n){return Lo(e.name,n.name)}isDefinedOn(e){throw Jr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return q.MIN}maxPost(){return new q(ui,Yu)}makePost(e,n){return y(typeof e=="string","KeyIndex indexValue must always be a string."),new q(e,Yu)}toString(){return".key"}},No=new td;var So=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},$t=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??bt.EMPTY_NODE,this.right=s??bt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return bt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return bt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),iv=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new $t(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},bt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$t.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$t.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new So(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new So(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new So(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new So(this.root_,null,this.comparator_,!0,e)}};bt.EMPTY_NODE=new iv;function mU(t,e){return Lo(t.name,e.name)}function $v(t,e){return Lo(t,e)}var ov;function gU(t){ov=t}var V0=function(t){return typeof t=="number"?"number:"+y0(t):"string:"+t},j0=function(t){if(t.isLeafNode()){let e=t.val();y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&an(e,".sv"),"Priority must be a string or number.")}else y(t===ov||t.isEmpty(),"priority of unexpected type.");y(t===ov||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Zb,xo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),j0(this.priorityNode_)}static set __childrenNodeConstructor(n){Zb=n}static get __childrenNodeConstructor(){return Zb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:G(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=G(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||yr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ce(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+V0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=y0(this.value_):n+=this.value_,this.lazyHash_=m0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),U0,B0;function vU(t){U0=t}function yU(t){B0=t}var sv=class extends Ro{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Lo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(ui,new xo("[PRIORITY-POST]",B0))}makePost(e,n){let r=U0(e);return new q(n,new xo("[PRIORITY-POST]",r))}toString(){return".priority"}},ve=new sv;var _U=Math.log(2),av=class{constructor(e){let n=o=>parseInt(Math.log(o)/_U,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},nd=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new $t(f,d.node,$t.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),C=i(h+1,l);return d=t[h],f=n?n(d):d,new $t(f,d.node,$t.BLACK,p,C)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,C){let N=d-p,O=d;d-=p;let ue=i(N+1,O),de=t[N],Ie=n?n(de):de;h(new $t(Ie,de.node,C,null,ue))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let C=c.nextBitIsOne(),N=Math.pow(2,c.count-(p+1));C?f(N,$t.BLACK):(f(N,$t.BLACK),f(N,$t.RED))}return u},s=new av(t.length),a=o(s);return new bt(r||e,a)};var Ug,To={},ko=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return y(To&&ve,"ChildrenNode.ts has not been loaded"),Ug=Ug||new t({".priority":To},{".priority":ve}),Ug}get(e){let n=Xr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof bt?n:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,n){y(e!==No,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(q.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=nd(r,e.getCompare()):a=To;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=oa(this.indexes_,(i,o)=>{let s=Xr(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===To)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(q.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),nd(a,s.getCompare())}else return To;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new q(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=oa(this.indexes_,i=>{if(i===To)return i;{let o=n.get(e.name);return o?i.remove(new q(e.name,o)):i}});return new t(r,this.indexSet_)}};var ba,L=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&j0(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ba||(ba=new t(new bt($v),null,ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ba}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ba:r}}getChild(n){let r=G(n);return r===null?this:this.getImmediateChild(r).getChild(ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ba:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=G(n);if(i===null)return r;{y(G(n)!==".priority"||yr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ce(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ve,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+V0(this.getPriority().val())+":"),this.forEachChild(ve,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":m0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ha?-1:0}withIndex(n){if(n===No||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===No||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ve),o=r.getIterator(ve),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===No?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),cv=class extends L{constructor(){super(new bt($v),L.EMPTY_NODE,ko.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}},Ha=new cv;Object.defineProperties(q,{MIN:{value:new q(Mo,L.EMPTY_NODE)},MAX:{value:new q(ui,Ha)}});td.__EMPTY_NODE=L.EMPTY_NODE;xo.__childrenNodeConstructor=L;gU(Ha);yU(Ha);var EU=!0;function Ne(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new xo(n,Ne(e))}if(!(t instanceof Array)&&EU){let n=[],r=!1;if(tt(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ne(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new q(s,c)))}}),n.length===0)return L.EMPTY_NODE;let o=nd(n,mU,s=>s.name,$v);if(r){let s=nd(n,ve.getCompare());return new L(o,Ne(e),new ko({".priority":s},{".priority":ve}))}else return new L(o,Ne(e),ko.Default)}else{let n=L.EMPTY_NODE;return tt(t,(r,i)=>{if(an(t,r)&&r.substring(0,1)!=="."){let o=Ne(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ne(e))}}vU(Ne);var lv=class extends Ro{constructor(e){super(),this.indexPath_=e,y(!K(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Lo(e.name,n.name):o}makePost(e,n){let r=Ne(e),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){let e=L.EMPTY_NODE.updateChild(this.indexPath_,Ha);return new q(ui,e)}toString(){return O0(this.indexPath_,0).join("/")}};var uv=class extends Ro{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Lo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(e,n){let r=Ne(e);return new q(n,r)}toString(){return".value"}},IU=new uv;function $0(t){return{type:"value",snapshotNode:t}}function Po(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ka(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Pa=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(xa(n,a)):y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Po(n,r)):s.trackChildChange(ka(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ve,(i,o)=>{n.hasChild(i)||r.trackChildChange(xa(i,o))}),n.isLeafNode()||n.forEachChild(ve,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(ka(i,o,s))}else r.trackChildChange(Po(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var rd=class t{constructor(e){this.indexedFilter_=new Pa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new q(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);let o=this;return n.forEachChild(ve,(s,a)=>{o.matches(new q(s,a))||(i=i.updateImmediateChild(s,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var dv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new rd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new q(n,r))||(r=L.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;y(a.numChildren()===this.limit_,"");let c=new q(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(ka(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(xa(n,d));let C=a.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Po(f.name,f.node)),C.updateImmediateChild(f.name,f.node)):C}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(xa(l.name,l.node)),o.trackChildChange(Po(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,L.EMPTY_NODE)):e}};var fv=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mo}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ui}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function CU(t){return t.loadsAllData()?new Pa(t.getIndex()):t.hasLimit()?new dv(t):new rd(t)}function Qb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ve?n="$priority":t.index_===IU?n="$value":t.index_===No?n="$key":(y(t.index_ instanceof lv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=we(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=we(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+we(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=we(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+we(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Jb(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ve&&(e.i=t.index_.toString()),e}var hv=class t extends Ju{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$a("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=Qb(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Xr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Qb(e._queryParams),r=e._path.toString(),i=new sr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ar(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=po(a.responseText)}catch{et("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&et("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var pv=class{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function id(){return{value:null,children:new Map}}function H0(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=G(e);t.children.has(r)||t.children.set(r,id());let i=t.children.get(r);e=ce(e),H0(i,e,n)}}function mv(t,e,n){t.value!==null?n(e,t.value):DU(t,(r,i)=>{let o=new ie(e.toString()+"/"+r);mv(i,o,n)})}function DU(t,e){t.children.forEach((n,r)=>{e(r,n)})}var gv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&tt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Xb=10*1e3,bU=30*1e3,TU=5*60*1e3,vv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gv(e);let r=Xb+(bU-Xb)*Math.random();Sa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;tt(e,(i,o)=>{o>0&&an(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Sa(this.reportStats_.bind(this),Math.floor(Math.random()*2*TU))}};var un=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(un||{});function W0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var yv=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=un.ACK_USER_WRITE,this.source=W0()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(e));return new t(Q(),n,this.revert)}}else return y(G(this.path)===e,"operationForChild called for unrelated child."),new t(ce(this.path),this.affectedTree,this.revert)}};var od=class t{constructor(e,n){this.source=e,this.path=n,this.type=un.LISTEN_COMPLETE}operationForChild(e){return K(this.path)?new t(this.source,Q()):new t(this.source,ce(this.path))}};var Oo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=un.OVERWRITE}operationForChild(e){return K(this.path)?new t(this.source,Q(),this.snap.getImmediateChild(e)):new t(this.source,ce(this.path),this.snap)}};var sd=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=un.MERGE}operationForChild(e){if(K(this.path)){let n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new Oo(this.source,Q(),n.value):new t(this.source,Q(),n)}else return y(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var dn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;let n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var _v=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function SU(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(wU(s.childName,s.snapshotNode))}),Ta(t,i,"child_removed",e,r,n),Ta(t,i,"child_added",e,r,n),Ta(t,i,"child_moved",o,r,n),Ta(t,i,"child_changed",e,r,n),Ta(t,i,"value",e,r,n),i}function Ta(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>NU(t,a,c)),s.forEach(a=>{let c=AU(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function AU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function NU(t,e,n){if(e.childName==null||n.childName==null)throw Jr("Should only compare child_ events.");let r=new q(e.childName,e.snapshotNode),i=new q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function _d(t,e){return{eventCache:t,serverCache:e}}function Na(t,e,n,r){return _d(new dn(e,n,r),t.serverCache)}function z0(t,e,n,r){return _d(t.eventCache,new dn(e,n,r))}function ad(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function di(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Bg,MU=()=>(Bg||(Bg=new bt(Rj)),Bg),nt=class t{constructor(e,n=MU()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return tt(e,(r,i)=>{n=n.set(new ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Q(),value:this.value};if(K(e))return null;{let r=G(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ce(e),n);return o!=null?{path:Se(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{let n=G(e),r=this.children.get(n);return r!==null?r.subtree(ce(e)):new t(null)}}set(e,n){if(K(e))return new t(n,this.children);{let r=G(e),o=(this.children.get(r)||new t(null)).set(ce(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=G(e),r=this.children.get(n);if(r){let i=r.remove(ce(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(K(e))return this.value;{let n=G(e),r=this.children.get(n);return r?r.get(ce(e)):null}}setTree(e,n){if(K(e))return n;{let r=G(e),o=(this.children.get(r)||new t(null)).setTree(ce(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(Q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Se(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{let o=G(e),s=this.children.get(o);return s?s.findOnPath_(ce(e),Se(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Q(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);let i=G(e),o=this.children.get(i);return o?o.foreachOnPath_(ce(e),Se(n,i),r):new t(null)}}foreach(e){this.foreach_(Q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Se(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Wt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new nt(null))}};function Ma(t,e,n){if(K(e))return new Wt(new nt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Ye(i,e);return o=o.updateChild(s,n),new Wt(t.writeTree_.set(i,o))}else{let i=new nt(n),o=t.writeTree_.setTree(e,i);return new Wt(o)}}}function e0(t,e,n){let r=t;return tt(n,(i,o)=>{r=Ma(r,Se(e,i),o)}),r}function t0(t,e){if(K(e))return Wt.empty();{let n=t.writeTree_.setTree(e,new nt(null));return new Wt(n)}}function Ev(t,e){return hi(t,e)!=null}function hi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ye(n.path,e)):null}function n0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{e.push(new q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new q(r,i.value))}),e}function gr(t,e){if(K(e))return t;{let n=hi(t,e);return n!=null?new Wt(new nt(n)):new Wt(t.writeTree_.subtree(e))}}function Iv(t){return t.writeTree_.isEmpty()}function Fo(t,e){return G0(Q(),t.writeTree_,e)}function G0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=G0(Se(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Se(t,".priority"),r)),n}}function Ed(t,e){return Z0(e,t)}function RU(t,e,n,r,i){y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ma(t.visibleWrites,e,n)),t.lastWriteId=r}function xU(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function kU(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);y(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&PU(a,r.path)?i=!1:Ht(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return OU(t),!0;if(r.snap)t.visibleWrites=t0(t.visibleWrites,r.path);else{let a=r.children;tt(a,c=>{t.visibleWrites=t0(t.visibleWrites,Se(r.path,c))})}return!0}else return!1}function PU(t,e){if(t.snap)return Ht(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Ht(Se(t.path,n),e))return!0;return!1}function OU(t){t.visibleWrites=q0(t.allWrites,FU,Q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function FU(t){return t.visible}function q0(t,e,n){let r=Wt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Ht(n,s)?(a=Ye(n,s),r=Ma(r,a,o.snap)):Ht(s,n)&&(a=Ye(s,n),r=Ma(r,Q(),o.snap.getChild(a)));else if(o.children){if(Ht(n,s))a=Ye(n,s),r=e0(r,a,o.children);else if(Ht(s,n))if(a=Ye(s,n),K(a))r=e0(r,Q(),o.children);else{let c=Xr(o.children,G(a));if(c){let l=c.getChild(ce(a));r=Ma(r,Q(),l)}}}else throw Jr("WriteRecord should have .snap or .children")}}return r}function Y0(t,e,n,r,i){if(!r&&!i){let o=hi(t.visibleWrites,e);if(o!=null)return o;{let s=gr(t.visibleWrites,e);if(Iv(s))return n;if(n==null&&!Ev(s,Q()))return null;{let a=n||L.EMPTY_NODE;return Fo(s,a)}}}else{let o=gr(t.visibleWrites,e);if(!i&&Iv(o))return n;if(!i&&n==null&&!Ev(o,Q()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Ht(l.path,e)||Ht(e,l.path))},a=q0(t.allWrites,s,e),c=n||L.EMPTY_NODE;return Fo(a,c)}}}function LU(t,e,n){let r=L.EMPTY_NODE,i=hi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ve,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=gr(t.visibleWrites,e);return n.forEachChild(ve,(s,a)=>{let c=Fo(gr(o,new ie(s)),a);r=r.updateImmediateChild(s,c)}),n0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=gr(t.visibleWrites,e);return n0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function VU(t,e,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Se(e,n);if(Ev(t.visibleWrites,o))return null;{let s=gr(t.visibleWrites,o);return Iv(s)?i.getChild(n):Fo(s,i.getChild(n))}}function jU(t,e,n,r){let i=Se(e,n),o=hi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=gr(t.visibleWrites,i);return Fo(s,r.getNode().getImmediateChild(n))}else return null}function UU(t,e){return hi(t.visibleWrites,e)}function BU(t,e,n,r,i,o,s){let a,c=gr(t.visibleWrites,e),l=hi(c,Q());if(l!=null)a=l;else if(n!=null)a=Fo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function $U(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function cd(t,e,n,r){return Y0(t.writeTree,t.treePath,e,n,r)}function zv(t,e){return LU(t.writeTree,t.treePath,e)}function r0(t,e,n,r){return VU(t.writeTree,t.treePath,e,n,r)}function ld(t,e){return UU(t.writeTree,Se(t.treePath,e))}function HU(t,e,n,r,i,o){return BU(t.writeTree,t.treePath,e,n,r,i,o)}function Gv(t,e,n){return jU(t.writeTree,t.treePath,e,n)}function K0(t,e){return Z0(Se(t.treePath,e),t.writeTree)}function Z0(t,e){return{treePath:t,writeTree:e}}var wv=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ka(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,xa(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Po(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ka(r,e.snapshotNode,i.oldSnap));else throw Jr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Cv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},Q0=new Cv,Oa=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:di(this.viewCache_),o=HU(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function WU(t){return{filter:t}}function zU(t,e){y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function GU(t,e,n,r,i){let o=new wv,s,a;if(n.type===un.OVERWRITE){let l=n;l.source.fromUser?s=Dv(t,e,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!K(l.path),s=ud(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===un.MERGE){let l=n;l.source.fromUser?s=YU(t,e,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=bv(t,e,l.path,l.children,r,i,a,o))}else if(n.type===un.ACK_USER_WRITE){let l=n;l.revert?s=QU(t,e,l.path,r,i,o):s=KU(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===un.LISTEN_COMPLETE)s=ZU(t,e,n.path,r,o);else throw Jr("Unknown operation type: "+n.type);let c=o.getChanges();return qU(e,s,c),{viewCache:s,changes:c}}function qU(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ad(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push($0(ad(e)))}}function J0(t,e,n,r,i,o){let s=e.eventCache;if(ld(r,n)!=null)return e;{let a,c;if(K(n))if(y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=di(e),u=l instanceof L?l:L.EMPTY_NODE,d=zv(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=cd(r,di(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=G(n);if(l===".priority"){y(yr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=r0(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ce(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=r0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Gv(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Na(e,a,s.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function ud(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(K(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=G(n);if(!c.isCompleteForPath(n)&&yr(n)>1)return e;let p=ce(n),N=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),N):l=u.updateChild(c.getNode(),h,N,p,Q0,null)}let d=z0(e,l,c.isFullyInitialized()||K(n),u.filtersNodes()),f=new Oa(i,d,o);return J0(t,d,n,i,f,a)}function Dv(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new Oa(i,e,o);if(K(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Na(e,l,!0,t.filter.filtersNodes());else{let d=G(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Na(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ce(n),h=a.getNode().getImmediateChild(d),p;if(K(f))p=r;else{let C=u.getCompleteChild(d);C!=null?P0(f)===".priority"&&C.getChild(F0(f)).isEmpty()?p=C:p=C.updateChild(f,r):p=L.EMPTY_NODE}if(h.equals(p))c=e;else{let C=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=Na(e,C,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function i0(t,e){return t.eventCache.isCompleteForChild(e)}function YU(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Se(n,c);i0(e,G(u))&&(a=Dv(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Se(n,c);i0(e,G(u))||(a=Dv(t,a,u,l,i,o,s))}),a}function o0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function bv(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;K(n)?l=r:l=new nt(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=o0(t,h,f);c=ud(t,c,new ie(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),C=o0(t,p,f);c=ud(t,c,new ie(d),C,i,o,s,a)}}),c}function KU(t,e,n,r,i,o,s){if(ld(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(K(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ud(t,e,n,c.getNode().getChild(n),i,o,a,s);if(K(n)){let l=new nt(null);return c.getNode().forEachChild(No,(u,d)=>{l=l.set(new ie(u),d)}),bv(t,e,n,l,i,o,a,s)}else return e}else{let l=new nt(null);return r.foreach((u,d)=>{let f=Se(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),bv(t,e,n,l,i,o,a,s)}}function ZU(t,e,n,r,i){let o=e.serverCache,s=z0(e,o.getNode(),o.isFullyInitialized()||K(n),o.isFiltered());return J0(t,s,n,r,Q0,i)}function QU(t,e,n,r,i,o){let s;if(ld(r,n)!=null)return e;{let a=new Oa(r,e,i),c=e.eventCache.getNode(),l;if(K(n)||G(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=cd(r,di(e));else{let d=e.serverCache.getNode();y(d instanceof L,"serverChildren would be complete if leaf node"),u=zv(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=G(n),d=Gv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ce(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,L.EMPTY_NODE,ce(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=cd(r,di(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||ld(r,Q())!=null,Na(e,l,s,t.filter.filtersNodes())}}var Tv=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Pa(r.getIndex()),o=CU(r);this.processor_=WU(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(L.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(L.EMPTY_NODE,a.getNode(),null),u=new dn(c,s.isFullyInitialized(),i.filtersNodes()),d=new dn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=_d(d,u),this.eventGenerator_=new _v(this.query_)}get query(){return this.query_}};function JU(t){return t.viewCache_.serverCache.getNode()}function XU(t){return ad(t.viewCache_)}function e2(t,e){let n=di(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function s0(t){return t.eventRegistrations_.length===0}function t2(t,e){t.eventRegistrations_.push(e)}function a0(t,e,n){let r=[];if(n){y(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function c0(t,e,n,r){e.type===un.MERGE&&e.source.queryId!==null&&(y(di(t.viewCache_),"We should always have a full cache before handling merges"),y(ad(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=GU(t.processor_,i,e,n,r);return zU(t.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,X0(t,o.changes,o.viewCache.eventCache.getNode(),null)}function n2(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(o,s)=>{r.push(Po(o,s))}),n.isFullyInitialized()&&r.push($0(n.getNode())),X0(t,r,n.getNode(),e)}function X0(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return SU(t.eventGenerator_,e,n,i)}var dd,fd=class{constructor(){this.views=new Map}};function r2(t){y(!dd,"__referenceConstructor has already been defined"),dd=t}function i2(){return y(dd,"Reference.ts has not been loaded"),dd}function o2(t){return t.views.size===0}function qv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),c0(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(c0(s,e,n,r));return o}}function eT(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=cd(n,i?r:null),c=!1;a?c=!0:r instanceof L?(a=zv(n,r),c=!1):(a=L.EMPTY_NODE,c=!1);let l=_d(new dn(a,c,!1),new dn(r,i,!1));return new Tv(e,l)}return s}function s2(t,e,n,r,i,o){let s=eT(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),t2(s,n),n2(s,n)}function a2(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=_r(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(a0(l,n,r)),s0(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(a0(c,n,r)),s0(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!_r(t)&&o.push(new(i2())(e._repo,e._path)),{removed:o,events:s}}function tT(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function vr(t,e){let n=null;for(let r of t.views.values())n=n||e2(r,e);return n}function nT(t,e){if(e._queryParams.loadsAllData())return Id(t);{let r=e._queryIdentifier;return t.views.get(r)}}function rT(t,e){return nT(t,e)!=null}function _r(t){return Id(t)!=null}function Id(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var hd;function c2(t){y(!hd,"__referenceConstructor has already been defined"),hd=t}function l2(){return y(hd,"Reference.ts has not been loaded"),hd}var u2=1,pd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nt(null),this.pendingWriteTree_=$U(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function iT(t,e,n,r,i){return RU(t.pendingWriteTree_,e,n,r,i),i?za(t,new Oo(W0(),e,n)):[]}function ci(t,e,n=!1){let r=xU(t.pendingWriteTree_,e);if(kU(t.pendingWriteTree_,e)){let o=new nt(null);return r.snap!=null?o=o.set(Q(),!0):tt(r.children,s=>{o=o.set(new ie(s),!0)}),za(t,new yv(r.path,o,n))}else return[]}function Wa(t,e,n){return za(t,new Oo(Hv(),e,n))}function d2(t,e,n){let r=nt.fromObject(n);return za(t,new sd(Hv(),e,r))}function f2(t,e){return za(t,new od(Hv(),e))}function h2(t,e,n){let r=Kv(t,n);if(r){let i=Zv(r),o=i.path,s=i.queryId,a=Ye(o,e),c=new od(Wv(s),a);return Qv(t,o,c)}else return[]}function md(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||rT(s,e))){let c=a2(s,e,n,r);o2(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>_r(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=g2(f);for(let p=0;p<h.length;++p){let C=h[p],N=C.query,O=cT(t,C);t.listenProvider_.startListening(Ra(N),Fa(t,N),O.hashFn,O.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Ra(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(wd(f));t.listenProvider_.stopListening(Ra(f),h)}))}v2(t,l)}return a}function oT(t,e,n,r){let i=Kv(t,r);if(i!=null){let o=Zv(i),s=o.path,a=o.queryId,c=Ye(s,e),l=new Oo(Wv(a),c,n);return Qv(t,s,l)}else return[]}function p2(t,e,n,r){let i=Kv(t,r);if(i){let o=Zv(i),s=o.path,a=o.queryId,c=Ye(s,e),l=nt.fromObject(n),u=new sd(Wv(a),c,l);return Qv(t,s,u)}else return[]}function Sv(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Ye(f,i);o=o||vr(h,p),s=s||_r(h)});let a=t.syncPointTree_.get(i);a?(s=s||_r(a),o=o||vr(a,Q())):(a=new fd,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=L.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let C=vr(p,Q());C&&(o=o.updateImmediateChild(h,C))}));let l=rT(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=wd(e);y(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=y2();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Ed(t.pendingWriteTree_,i),d=s2(a,e,n,u,o,c);if(!l&&!s&&!r){let f=nT(a,e);d=d.concat(_2(t,e,f))}return d}function Yv(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Ye(s,e),l=vr(a,c);if(l)return l});return Y0(i,e,o,n,!0)}function m2(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Ye(l,n);r=r||vr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||vr(i,Q()):(i=new fd,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new dn(r,!0,!1):null,a=Ed(t.pendingWriteTree_,e._path),c=eT(i,e,a,o?s.getNode():L.EMPTY_NODE,o);return XU(c)}function za(t,e){return sT(e,t.syncPointTree_,null,Ed(t.pendingWriteTree_,Q()))}function sT(t,e,n,r){if(K(t.path))return aT(t,e,n,r);{let i=e.get(Q());n==null&&i!=null&&(n=vr(i,Q()));let o=[],s=G(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=K0(r,s);o=o.concat(sT(a,c,l,u))}return i&&(o=o.concat(qv(i,t,r,n))),o}}function aT(t,e,n,r){let i=e.get(Q());n==null&&i!=null&&(n=vr(i,Q()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=K0(r,s),u=t.operationForChild(s);u&&(o=o.concat(aT(u,a,c,l)))}),i&&(o=o.concat(qv(i,t,r,n))),o}function cT(t,e){let n=e.query,r=Fa(t,n);return{hashFn:()=>(JU(e)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?h2(t,n._path,r):f2(t,n._path);{let o=Pj(i,n);return md(t,n,null,o)}}}}function Fa(t,e){let n=wd(e);return t.queryToTagMap.get(n)}function wd(t){return t._path.toString()+"$"+t._queryIdentifier}function Kv(t,e){return t.tagToQueryMap.get(e)}function Zv(t){let e=t.indexOf("$");return y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function Qv(t,e,n){let r=t.syncPointTree_.get(e);y(r,"Missing sync point for query tag that we're tracking");let i=Ed(t.pendingWriteTree_,e);return qv(r,n,i,null)}function g2(t){return t.fold((e,n,r)=>{if(n&&_r(n))return[Id(n)];{let i=[];return n&&(i=tT(n)),tt(r,(o,s)=>{i=i.concat(s)}),i}})}function Ra(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(l2())(t._repo,t._path):t}function v2(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=wd(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function y2(){return u2++}function _2(t,e,n){let r=e._path,i=Fa(t,e),o=cT(t,n),s=t.listenProvider_.startListening(Ra(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)y(!_r(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!K(l)&&u&&_r(u))return[Id(u).query];{let f=[];return u&&(f=f.concat(tT(u).map(h=>h.query))),tt(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Ra(u),Fa(t,u))}}return s}var Av=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Nv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Se(this.path_,e);return new t(this.syncTree_,n)}node(){return Yv(this.syncTree_,this.path_)}},E2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},l0=function(t,e,n){if(!t||typeof t!="object")return t;if(y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return I2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return w2(t[".sv"],e);y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},I2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+t)}},w2=function(t,e,n){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=e.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},C2=function(t,e,n,r){return Jv(e,new Nv(n,t),r)},lT=function(t,e,n){return Jv(t,new Av(e),n)};function Jv(t,e,n){let r=t.getPriority().val(),i=l0(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=l0(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new xo(a,Ne(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new xo(i))),s.forEachChild(ve,(a,c)=>{let l=Jv(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var La=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Xv(t,e){let n=e instanceof ie?e:new ie(e),r=t,i=G(n);for(;i!==null;){let o=Xr(r.node.children,i)||{children:{},childCount:0};r=new La(i,r,o),n=ce(n),i=G(n)}return r}function jo(t){return t.node.value}function uT(t,e){t.node.value=e,Mv(t)}function dT(t){return t.node.childCount>0}function D2(t){return jo(t)===void 0&&!dT(t)}function Cd(t,e){tt(t.node.children,(n,r)=>{e(new La(n,t,r))})}function fT(t,e,n,r){n&&!r&&e(t),Cd(t,i=>{fT(i,e,!0,r)}),n&&r&&e(t)}function b2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ga(t){return new ie(t.parent===null?t.name:Ga(t.parent)+"/"+t.name)}function Mv(t){t.parent!==null&&T2(t.parent,t.name,t)}function T2(t,e,n){let r=D2(n),i=an(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Mv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Mv(t))}var S2=/[\[\].#$\/\u0000-\u001F\u007F]/,A2=/[\[\].#$\u0000-\u001F\u007F]/,$g=10*1024*1024,hT=function(t){return typeof t=="string"&&t.length!==0&&!S2.test(t)},pT=function(t){return typeof t=="string"&&t.length!==0&&!A2.test(t)},N2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pT(t)};var mT=function(t,e,n,r){r&&e===void 0||ey(Iu(t,"value"),e,n)},ey=function(t,e,n){let r=n instanceof ie?new nv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+si(r));if(typeof e=="function")throw new Error(t+"contains a function "+si(r)+" with contents = "+e.toString());if(g0(e))throw new Error(t+"contains "+e.toString()+" "+si(r));if(typeof e=="string"&&e.length>$g/3&&sa(e)>$g)throw new Error(t+"contains a string greater than "+$g+" utf8 bytes "+si(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(tt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!hT(s)))throw new Error(t+" contains an invalid key ("+s+") "+si(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lU(r,s),ey(t,a,r),uU(r)}),i&&o)throw new Error(t+' contains ".value" child '+si(r)+" in addition to actual children.")}};var gT=function(t,e,n,r){if(!(r&&n===void 0)&&!pT(n))throw new Error(Iu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},M2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gT(t,e,n,r)},ty=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},R2=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!N2(n))throw new Error(Iu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Rv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function ny(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Uv(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function vT(t,e,n){ny(t,n),yT(t,r=>Uv(r,e))}function fn(t,e,n){ny(t,n),yT(t,r=>Ht(r,e)||Ht(e,r))}function yT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(x2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function x2(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();li&&je("event: "+n.toString()),Vo(r)}}}var k2="repo_interrupt",P2=25,xv=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=id(),this.transactionQueueTree_=new La,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function O2(t,e,n){if(t.stats_=jv(t.repoInfo_),t.forceRestClient_||Vj())t.server_=new hv(t.repoInfo_,(r,i,o,s)=>{u0(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>d0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{we(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Bv(t.repoInfo_,e,(r,i,o,s)=>{u0(t,r,i,o,s)},r=>{d0(t,r)},r=>{F2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Uj(t.repoInfo_,()=>new vv(t.stats_,t.server_)),t.infoData_=new pv,t.infoSyncTree_=new pd({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Wa(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),iy(t,"connected",!1),t.serverSyncTree_=new pd({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);fn(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function _T(t){let n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ry(t){return E2({timestamp:_T(t)})}function u0(t,e,n,r,i){t.dataUpdateCount++;let o=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=oa(n,l=>Ne(l));s=p2(t.serverSyncTree_,o,c,i)}else{let c=Ne(n);s=oT(t.serverSyncTree_,o,c,i)}else if(r){let c=oa(n,l=>Ne(l));s=d2(t.serverSyncTree_,o,c)}else{let c=Ne(n);s=Wa(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=bd(t,o)),fn(t.eventQueue_,a,s)}function d0(t,e){iy(t,"connected",e),e===!1&&j2(t)}function F2(t,e){tt(e,(n,r)=>{iy(t,n,r)})}function iy(t,e,n){let r=new ie("/.info/"+e),i=Ne(n);t.infoData_.updateSnapshot(r,i);let o=Wa(t.infoSyncTree_,r,i);fn(t.eventQueue_,r,o)}function ET(t){return t.nextWriteId_++}function L2(t,e,n){let r=m2(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Ne(i).withIndex(e._queryParams.getIndex());Sv(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Wa(t.serverSyncTree_,e._path,o);else{let a=Fa(t.serverSyncTree_,e);s=oT(t.serverSyncTree_,e._path,o,a)}return fn(t.eventQueue_,e._path,s),md(t.serverSyncTree_,e,n,null,!0),o},i=>(Dd(t,"get for query "+we(e)+" failed: "+i),Promise.reject(new Error(i))))}function V2(t,e,n,r,i){Dd(t,"set",{path:e.toString(),value:n,priority:r});let o=ry(t),s=Ne(n,r),a=Yv(t.serverSyncTree_,e),c=lT(s,a,o),l=ET(t),u=iT(t.serverSyncTree_,e,c,l,!0);ny(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||et("set at "+e+" failed: "+f);let C=ci(t.serverSyncTree_,l,!p);fn(t.eventQueue_,e,C),$2(t,i,f,h)});let d=bT(t,e);bd(t,d),fn(t.eventQueue_,d,[])}function j2(t){Dd(t,"onDisconnectEvents");let e=ry(t),n=id();mv(t.onDisconnect_,Q(),(i,o)=>{let s=C2(i,o,t.serverSyncTree_,e);H0(n,i,s)});let r=[];mv(n,Q(),(i,o)=>{r=r.concat(Wa(t.serverSyncTree_,i,o));let s=bT(t,i);bd(t,s)}),t.onDisconnect_=id(),fn(t.eventQueue_,Q(),r)}function U2(t,e,n){let r;G(e._path)===".info"?r=Sv(t.infoSyncTree_,e,n):r=Sv(t.serverSyncTree_,e,n),vT(t.eventQueue_,e._path,r)}function kv(t,e,n){let r;G(e._path)===".info"?r=md(t.infoSyncTree_,e,n):r=md(t.serverSyncTree_,e,n),vT(t.eventQueue_,e._path,r)}function B2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(k2)}function Dd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),je(n,...e)}function $2(t,e,n,r){e&&Vo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function IT(t,e,n){return Yv(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function oy(t,e=t.transactionQueueTree_){if(e||Td(t,e),jo(e)){let n=CT(t,e);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&H2(t,Ga(e),n)}else dT(e)&&Cd(e,n=>{oy(t,n)})}function H2(t,e,n){let r=n.map(l=>l.currentWriteId),i=IT(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ye(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Dd(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ci(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Td(t,Xv(t.transactionQueueTree_,e)),oy(t,t.transactionQueueTree_),fn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Vo(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{et("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}bd(t,e)}},s)}function bd(t,e){let n=wT(t,e),r=Ga(n),i=CT(t,n);return W2(t,i,r),r}function W2(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ye(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ci(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=P2)u=!0,d="maxretry",i=i.concat(ci(t.serverSyncTree_,c.currentWriteId,!0));else{let f=IT(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){ey("transaction failed: Data returned ",h,c.path);let p=Ne(h);typeof h=="object"&&h!=null&&an(h,".priority")||(p=p.updatePriority(f.getPriority()));let N=c.currentWriteId,O=ry(t),ue=lT(p,f,O);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=ue,c.currentWriteId=ET(t),s.splice(s.indexOf(N),1),i=i.concat(iT(t.serverSyncTree_,c.path,ue,c.currentWriteId,c.applyLocally)),i=i.concat(ci(t.serverSyncTree_,N,!0))}else u=!0,d="nodata",i=i.concat(ci(t.serverSyncTree_,c.currentWriteId,!0))}fn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Td(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Vo(r[a]);oy(t,t.transactionQueueTree_)}function wT(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&jo(r)===void 0;)r=Xv(r,n),e=ce(e),n=G(e);return r}function CT(t,e){let n=[];return DT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function DT(t,e,n){let r=jo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cd(e,i=>{DT(t,i,n)})}function Td(t,e){let n=jo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,uT(e,n.length>0?n:void 0)}Cd(e,r=>{Td(t,r)})}function bT(t,e){let n=Ga(wT(t,e)),r=Xv(t.transactionQueueTree_,e);return b2(r,i=>{Hg(t,i)}),Hg(t,r),fT(r,i=>{Hg(t,i)}),n}function Hg(t,e){let n=jo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ci(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?uT(e,void 0):n.length=o+1,fn(t.eventQueue_,Ga(e),i);for(let s=0;s<r.length;s++)Vo(r[s])}}function z2(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function G2(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):et(`Invalid query segment '${n}' in query '${t}'`)}return e}var f0=function(t,e){let n=q2(t),r=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Nj();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Zu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ie(n.pathString)}},q2=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=z2(t.substring(u,d)));let f=G2(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var h0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Y2=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=h0.charAt(n%64),n=Math.floor(n/64);y(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=h0.charAt(e[i]);return y(s.length===20,"nextPushId: Length should be 20."),s}}();var gd=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+we(this.snapshot.exportVal())}},vd=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Va=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Pv=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:P0(this._path)}get ref(){return new hn(this._repo,this._path)}get _queryIdentifier(){let e=Jb(this._queryParams),n=Vv(e);return n==="{}"?"default":n}get _queryObject(){return Jb(this._queryParams)}isEqual(e){if(e=ke(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Uv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+cU(this._path)}};var hn=class t extends Pv{constructor(e,n){super(e,n,new fv,!1)}get parent(){let e=F0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},ja=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ie(e),r=fi(this.ref,e);return new t(this._node.getChild(n),r,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,fi(this.ref,r),ve)))}hasChild(e){let n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function TT(t,e){return t=ke(t),t._checkNotDeleted("ref"),e!==void 0?fi(t._root,e):t._root}function fi(t,e){return t=ke(t),G(t._path)===null?M2("child","path",e,!1):gT("child","path",e,!1),new hn(t._repo,Se(t._path,e))}function ST(t,e){t=ke(t),ty("push",t._path),mT("push",e,t._path,!0);let n=_T(t._repo),r=Y2(n),i=fi(t,r),o=fi(t,r),s;return e!=null?s=Sd(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function AT(t){return ty("remove",t._path),Sd(t,null)}function Sd(t,e){t=ke(t),ty("set",t._path),mT("set",e,t._path,!1);let n=new sr;return V2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ad(t){t=ke(t);let e=new Va(()=>{}),n=new Ua(e);return L2(t._repo,t,n).then(r=>new ja(r,new hn(t._repo,t._path),t._queryParams.getIndex()))}var Ua=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new gd("value",this,new ja(e.snapshotNode,new hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vd(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},yd=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vd(this,e,n):null}createEvent(e,n){y(e.childName!=null,"Child events should have a childName.");let r=fi(new hn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new gd(e.type,this,new ja(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function qa(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{kv(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Va(n,o||void 0),a=e==="value"?new Ua(s):new yd(e,s);return U2(t._repo,t,a),()=>kv(t._repo,t,a)}function sy(t,e,n,r){return qa(t,"value",e,n,r)}function ay(t,e,n,r){return qa(t,"child_added",e,n,r)}function cy(t,e,n,r){return qa(t,"child_changed",e,n,r)}function ly(t,e,n,r){return qa(t,"child_moved",e,n,r)}function uy(t,e,n,r){return qa(t,"child_removed",e,n,r)}function dy(t,e,n){let r=null,i=n?new Va(n):null;e==="value"?r=new Ua(i):e&&(r=new yd(e,i)),kv(t._repo,t,r)}r2(hn);c2(hn);var K2="FIREBASE_DATABASE_EMULATOR_HOST",Ov={},Z2=!1;function Q2(t,e,n,r){t.repoInfo_=new Zu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function J2(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=f0(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[K2]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=f0(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Aa(Aa.OWNER):new Kg(t.name,t.options,e);R2("Invalid Firebase Database URL",s),K(s.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=eB(a,t,u,new Yg(t.name,n));return new Fv(d,t)}function X2(t,e){let n=Ov[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),B2(t),delete n[t.key]}function eB(t,e,n,r){let i=Ov[e.name];i||(i={},Ov[e.name]=i);let o=i[t.toURLString()];return o&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new xv(t,Z2,n,r),i[t.toURLString()]=o,o}var Fv=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(O2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hn(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(X2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}};function NT(t=yo(),e){let n=ua(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=nD("database");r&&MT(n,...r)}return n}function MT(t,e,n,r={}){t=ke(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Vn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Aa(Aa.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:rD(r.mockUserToken,t.app.options.projectId);o=new Aa(s)}Q2(i,e,n,o)}function tB(t){Tj(dr),ur(new wt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return J2(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ce(Ob,Fb,t),Ce(Ob,Fb,"esm2017")}Bv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Bv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tB();var pi,Oe=function(t){return t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value",t}(Oe||{}),nB=Object.freeze((pi={},pi[Oe.added]=ay,pi[Oe.removed]=uy,pi[Oe.changed]=cy,pi[Oe.moved]=ly,pi[Oe.value]=sy,pi));function RT(t,e){return new V(function(n){var r=nB[e](t,function(i,o){n.next({snapshot:i,prevKey:o,event:e})},n.error.bind(n));return{unsubscribe:function(){dy(t,e,r)}}}).pipe(Af(0))}var Nd=function(){return Nd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Nd.apply(this,arguments)};function fy(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function rB(t){return(t==null||t.length===0)&&(t=[Oe.added,Oe.removed,Oe.changed,Oe.moved]),t}function xT(t,e){var n;e===void 0&&(e={});var r=t.snapshot.val();return!t.snapshot.exists()||typeof r!="object"?r:Nd(Nd({},r),e.keyField?(n={},n[e.keyField]=t.snapshot.key,n):null)}function iB(t){return se(Ad(t)).pipe(x(function(e){var n=Oe.value;return{snapshot:e,prevKey:null,event:n}}))}function kT(t,e){e===void 0&&(e={});var n=rB(e.events);return iB(t).pipe($e(function(r){var i=[M(r)];return n.forEach(function(o){i.push(RT(t,o))}),Tf.apply(void 0,i).pipe(as(sB,[]))}),Nf())}function PT(t,e){return e===void 0&&(e={}),kT(t).pipe(x(function(n){return n.map(function(r){return xT(r,e)})}))}function OT(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].snapshot.key===e)return r;return-1}function oB(t,e){if(e==null)return 0;var n=OT(t,e);return n===-1?t.length:n+1}function sB(t,e){var n=e.snapshot,r=e.prevKey,i=e.event,o=n.key,s=OT(t,o),a=oB(t,r||void 0);switch(i){case Oe.value:if(e.snapshot&&e.snapshot.exists()){var c=null;e.snapshot.forEach(function(d){var f={snapshot:d,event:Oe.value,prevKey:c};return c=d.key,t=fy(fy([],t,!0),[f],!1),!1})}return t;case Oe.added:if(s>-1){var l=t[s-1];(l&&l.snapshot.key||null)!==r&&(t=t.filter(function(d){return d.snapshot.key!==n.key}),t.splice(a,0,e))}else{if(r==null)return fy([e],t,!0);t=t.slice(),t.splice(a,0,e)}return t;case Oe.removed:return t.filter(function(d){return d.snapshot.key!==n.key});case Oe.changed:return t.map(function(d){return d.snapshot.key===o?e:d});case Oe.moved:if(s>-1){var u=t.splice(s,1)[0];return t=t.slice(),t.splice(a,0,u),t}return t;default:return t}}var mi=class{constructor(e){return e}},FT="database",hy=class{constructor(){return da(FT)}};var py=new T("angularfire2.database-instances");function aB(t,e){let n=Tu(FT,t,e);return n&&new mi(n)}function cB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mi(r)}}var lB={provide:hy,deps:[[new Ge,py]]},uB={provide:mi,useFactory:aB,deps:[[new Ge,py],xn]};function LT(t,...e){return Ce("angularfire",ni.full,"rtdb"),st([uB,lB,{provide:py,useFactory:cB(t),multi:!0,deps:[te,Le,Io,ri,[new Ge,Ia],[new Ge,Eo],...e]}])}var VT=Pe(PT,!0);var jT=Pe(Ad,!0),UT=Pe(NT,!0);var BT=Pe(ST,!0);var Uo=Pe(TT,!0);var $T=Pe(AT,!0);var HT=Pe(Sd,!0);var Bo=class t{constructor(e){this.database=e}getAllPersons(){let e=Uo(this.database,"/persons");return VT(e)}deletePerson(e){let n=Uo(this.database,`/persons/${e}`);return $T(n)}getPersonByUid(e){let n=Uo(this.database,`/persons/${e}`);return jT(n)}savePerson(e){let n=Uo(this.database,`/persons/${e.uid}`);if(e.uid==""){let r=Uo(this.database,"/persons");n=BT(r),n.key!=null&&(e.uid=n.key)}return HT(n,e)}static \u0275fac=function(n){return new(n||t)(P(mi))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var pn=class t{constructor(e){this.auth=e;e.onAuthStateChanged(n=>{this.isAuthenticated=!!n})}isAuthenticated=!1;register({email:e,password:n}){return Nb(this.auth,e,n)}login({email:e,password:n}){return Rb(this.auth,e,n)}loginWithGoogle(){return xb(this.auth,new Tg)}logout(){return kb(this.auth)}getCurrentUser(){return this.auth.currentUser}static \u0275fac=function(n){return new(n||t)(P(Ln))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var $o=class t{constructor(e,n){this.personService=e;this.authService=n}user=null;ngOnInit(){let e=this.authService.getCurrentUser();e&&this.personService.getPersonByUid(e.uid).then(n=>{n.exists()&&(this.user=n.val())}).catch(n=>{console.error("Error al cargar los datos del usuario:",n)})}static \u0275fac=function(n){return new(n||t)(b(Bo),b(pn))};static \u0275cmp=J({type:t,selectors:[["app-profile"]],standalone:!0,features:[X],decls:20,vars:5,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"card",2,"width","18rem","margin","0 auto"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"card-footer","text-muted"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"h3",1),E(2,"Datos del Usuario:"),v(),g(3,"div",2)(4,"div",3)(5,"h5",4),E(6),v(),g(7,"h6",5),E(8),v()(),g(9,"ul",6)(10,"li",7)(11,"strong"),E(12,"Rol:"),v(),E(13),v(),g(14,"li",7)(15,"strong"),E(16,"Fecha de creaci\xF3n:"),v(),E(17),v()(),g(18,"div",8),E(19," Informaci\xF3n del perfil "),v()()()),n&2&&(w(6),As("",r.user==null?null:r.user.name," ",r.user==null?null:r.user.surname,""),w(2),bp(r.user==null?null:r.user.email),w(5),tn(" ",r.user==null?null:r.user.role,""),w(4),tn(" ",r.user==null?null:r.user.createAt,""))}})};var Rd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-stats"]],standalone:!0,features:[X],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),E(1,"stats works!"),v())}})};function fB(t,e){t&1&&(g(0,"li",12)(1,"a",13),E(2,"Inicio"),v()())}function hB(t,e){t&1&&(g(0,"li",12)(1,"a",14),E(2,"Tareas"),v()())}function pB(t,e){t&1&&(g(0,"ul",18)(1,"li")(2,"a",19),E(3,"Stats"),v()(),g(4,"li")(5,"a",20),E(6,"Profile"),v()()())}function mB(t,e){if(t&1&&(g(0,"li",15)(1,"a",16),E(2," Dashboard "),v(),he(3,pB,7,0,"ul",17),v()),t&2){let n=Je();w(3),D("ngIf",n.isAuthenticated)}}function gB(t,e){t&1&&(g(0,"li",12)(1,"a",21),E(2,"Login"),v()())}function vB(t,e){t&1&&(g(0,"li",12)(1,"a",22),E(2,"Register"),v()())}function yB(t,e){if(t&1){let n=nr();g(0,"li",12)(1,"button",23),ne("click",function(){yt(n);let i=Je();return _t(i.onClick())}),E(2,"Singout"),v()()}}var Tt=class t{constructor(e,n){this.router=e;this.authService=n}isAuthenticated=!1;ngOnInit(){this.isAuthenticated=this.authService.isAuthenticated}onClick(){this.authService.logout().then(e=>{console.log(e),this.router.navigate(["/login"])}).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(b(jt),b(pn))};static \u0275cmp=J({type:t,selectors:[["app-navbar"]],standalone:!0,features:[X],decls:17,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["routerLink","/tasks",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item"],[1,"nav-link"],["routerLink","/tasks",1,"nav-link"],[1,"nav-item","dropdown"],["routerLink","/dashboard","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],["routerLink","/dashboard/stats",1,"dropdown-item"],["routerLink","/dashboard/profile",1,"dropdown-item"],["routerLink","/login",1,"nav-link"],["routerLink","/singin",1,"nav-link"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"div",4)(5,"a",5),E(6,"TaskManager"),v(),g(7,"button",6),Y(8,"span",7),v(),g(9,"div",8)(10,"ul",9),he(11,fB,3,0,"li",10)(12,hB,3,0,"li",10)(13,mB,4,1,"li",11)(14,gB,3,0,"li",10)(15,vB,3,0,"li",10)(16,yB,3,0,"li",10),v()()()()()()()),n&2&&(w(11),D("ngIf",r.isAuthenticated),w(),D("ngIf",r.isAuthenticated),w(),D("ngIf",r.isAuthenticated),w(),D("ngIf",!r.isAuthenticated),w(),D("ngIf",!r.isAuthenticated),w(),D("ngIf",r.isAuthenticated))},dependencies:[Te,rn,ho]})};var Er=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-footer"]],standalone:!0,features:[X],decls:14,vars:0,consts:[[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3","my-4","border-top"],[1,"col-md-4","d-flex","align-items-center"],[1,"mb-3","mb-md-0","text-body-secondary"],[1,"nav","col-md-4","justify-content-end","list-unstyled","d-flex"],[1,"ms-3"],["href","#",1,"text-body-secondary"],[1,"bi","bi-twitter-x"],[1,"bi","bi-instagram"],[1,"bi","bi-facebook"]],template:function(n,r){n&1&&(g(0,"footer",0)(1,"div",1)(2,"span",2),E(3,"\xA9 2024 Company, Inc"),v()(),g(4,"ul",3)(5,"li",4)(6,"a",5),Y(7,"i",6),v()(),g(8,"li",4)(9,"a",5),Y(10,"i",7),v()(),g(11,"li",4)(12,"a",5),Y(13,"i",8),v()()()())}})};var xd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[X],decls:8,vars:0,consts:[["routerLink","stats"],["routerLink","profile"]],template:function(n,r){n&1&&(Y(0,"app-navbar"),g(1,"nav")(2,"a",0),E(3,"Estad\xEDsticas | "),v(),g(4,"a",1),E(5,"Perfil"),v()(),Y(6,"app-footer")(7,"router-outlet"))},dependencies:[Tt,Te,Js,ho,Er]})};var kd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-home"]],standalone:!0,features:[X],decls:3,vars:0,template:function(n,r){n&1&&Y(0,"app-navbar")(1,"app-profile")(2,"app-footer")},dependencies:[Te,Tt,Er,$o]})};var Pd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-notfound"]],standalone:!0,features:[X],decls:9,vars:0,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center",2,"height","100vh","text-align","center"],[1,"display-1","text-danger"],[1,"text-dark"],[1,"text-muted"],["routerLink","/home",1,"btn","btn-primary","mt-3"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"h1",1),E(2,"404"),v(),g(3,"h2",2),E(4,"P\xE1gina No Encontrada"),v(),g(5,"p",3),E(6,"Lo sentimos, no hemos podido encontrar la p\xE1gina que buscas."),v(),g(7,"a",4),E(8,"Volver al Inicio"),v()())},dependencies:[ho]})};var eS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(b(en),b(Ft))}}static{this.\u0275dir=Ee({type:t})}}return t})(),Wd=(()=>{class t extends eS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,features:[Lt]})}}return t})(),Xa=new T(""),_B={provide:Xa,useExisting:In(()=>Ey),multi:!0},Ey=(()=>{class t extends Wd{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Wr([_B]),Lt]})}}return t})(),EB={provide:Xa,useExisting:In(()=>Cr),multi:!0};function IB(){let t=Tn()?Tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var wB=new T(""),Cr=(()=>{class t extends eS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!IB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(b(en),b(Ft),b(wB,8))}}static{this.\u0275dir=Ee({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Wr([EB]),Lt]})}}return t})();function Ir(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function tS(t){return t!=null&&typeof t.length=="number"}var nS=new T(""),rS=new T(""),CB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,De=class{static min(e){return DB(e)}static max(e){return bB(e)}static required(e){return TB(e)}static requiredTrue(e){return SB(e)}static email(e){return AB(e)}static minLength(e){return NB(e)}static maxLength(e){return MB(e)}static pattern(e){return RB(e)}static nullValidator(e){return iS(e)}static compose(e){return uS(e)}static composeAsync(e){return fS(e)}};function DB(t){return e=>{if(Ir(e.value)||Ir(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function bB(t){return e=>{if(Ir(e.value)||Ir(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function TB(t){return Ir(t.value)?{required:!0}:null}function SB(t){return t.value===!0?null:{required:!0}}function AB(t){return Ir(t.value)||CB.test(t.value)?null:{email:!0}}function NB(t){return e=>Ir(e.value)||!tS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function MB(t){return e=>tS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function RB(t){if(!t)return iS;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ir(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function iS(t){return null}function oS(t){return t!=null}function sS(t){return zr(t)?se(t):t}function aS(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function cS(t,e){return e.map(n=>n(t))}function xB(t){return!t.validate}function lS(t){return t.map(e=>xB(e)?e:n=>e.validate(n))}function uS(t){if(!t)return null;let e=t.filter(oS);return e.length==0?null:function(n){return aS(cS(n,e))}}function dS(t){return t!=null?uS(lS(t)):null}function fS(t){if(!t)return null;let e=t.filter(oS);return e.length==0?null:function(n){let r=cS(n,e).map(sS);return bf(r).pipe(x(aS))}}function hS(t){return t!=null?fS(lS(t)):null}function zT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pS(t){return t._rawValidators}function mS(t){return t._rawAsyncValidators}function my(t){return t?Array.isArray(t)?t:[t]:[]}function Ld(t,e){return Array.isArray(t)?t.includes(e):t===e}function GT(t,e){let n=my(e);return my(t).forEach(i=>{Ld(n,i)||n.push(i)}),n}function qT(t,e){return my(e).filter(n=>!Ld(t,n))}var Vd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},zo=class extends Vd{get formDirective(){return null}get path(){return null}},Ja=class extends Vd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},RY=B(I({},kB),{"[class.ng-submitted]":"isSubmitted"}),qo=(()=>{class t extends jd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(b(Ja,2))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Lt]})}}return t})(),Yo=(()=>{class t extends jd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(b(zo,10))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Lt]})}}return t})();var Ya="VALID",Od="INVALID",Ho="PENDING",Ka="DISABLED",wr=class{},Ud=class extends wr{constructor(e,n){super(),this.value=e,this.source=n}},Za=class extends wr{constructor(e,n){super(),this.pristine=e,this.source=n}},Qa=class extends wr{constructor(e,n){super(),this.touched=e,this.source=n}},Wo=class extends wr{constructor(e,n){super(),this.status=e,this.source=n}},gy=class extends wr{constructor(e){super(),this.source=e}},vy=class extends wr{constructor(e){super(),this.source=e}};function Iy(t){return(zd(t)?t.validators:t)||null}function PB(t){return Array.isArray(t)?dS(t):t||null}function wy(t,e){return(zd(e)?e.asyncValidators:t)||null}function OB(t){return Array.isArray(t)?hS(t):t||null}function zd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function gS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function vS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var Go=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ns(()=>this.statusReactive()),this.statusReactive=Ts(void 0),this._pristine=Ns(()=>this.pristineReactive()),this.pristineReactive=Ts(!0),this._touched=Ns(()=>this.touchedReactive()),this.touchedReactive=Ts(!1),this._events=new Ae,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bn(this.statusReactive)}set status(e){bn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ya}get invalid(){return this.status===Od}get pending(){return this.status==Ho}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}get pristine(){return bn(this.pristineReactive)}set pristine(e){bn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return bn(this.touchedReactive)}set touched(e){bn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qT(e,this._rawAsyncValidators))}hasValidator(e){return Ld(this._rawValidators,e)}hasAsyncValidator(e){return Ld(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAsPending(e={}){this.status=Ho;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(i=>{i.disable(B(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ud(this.value,r)),this._events.next(new Wo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ya,this._forEachChild(r=>{r.enable(B(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ya||this.status===Ho)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ud(this.value,n)),this._events.next(new Wo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:Ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ho,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=sS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?Od:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ho)?Ho:this._anyControlsHaveStatus(Od)?Od:Ya}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Za(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Qa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=PB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=OB(this._rawAsyncValidators)}},Bd=class extends Go{constructor(e,n,r){super(Iy(n),wy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){vS(this,!0,e),Object.keys(e).forEach(r=>{gS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yy=class extends Bd{};var Cy=new T("CallSetDisabledState",{providedIn:"root",factory:()=>Gd}),Gd="always";function FB(t,e){return[...e.path,t]}function YT(t,e,n=Gd){Dy(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),VB(t,e),UB(t,e),jB(t,e),LB(t,e)}function KT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Hd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $d(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function LB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Dy(t,e){let n=pS(t);e.validator!==null?t.setValidators(zT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=mS(t);e.asyncValidator!==null?t.setAsyncValidators(zT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();$d(e._rawValidators,i),$d(e._rawAsyncValidators,i)}function Hd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=pS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=mS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return $d(e._rawValidators,r),$d(e._rawAsyncValidators,r),n}function VB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&yS(t,e)})}function jB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&yS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function yS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function UB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function BB(t,e){t==null,Dy(t,e)}function $B(t,e){return Hd(t,e)}function HB(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function WB(t){return Object.getPrototypeOf(t.constructor)===Wd}function zB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Cr?n=o:WB(o)?r=o:i=o}),i||r||n||null}function qB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fd=class extends Go{constructor(e=null,n,r){super(Iy(n),wy(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(QT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var YB=t=>t instanceof Fd;var Ko=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ee({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var _S=new T("");var KB={provide:zo,useExisting:In(()=>gi)},gi=(()=>{class t extends zo{get submitted(){return bn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ns(()=>this._submittedReactive()),this._submittedReactive=Ts(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new le,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return YT(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){KT(n.control||null,n,!1),qB(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),zB(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new gy(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new vy(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(KT(r||null,n),YB(i)&&(YT(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);BB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&$B(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dy(this.form,this),this._oldForm&&Hd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(b(nS,10),b(rS,10),b(Cy,8))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wr([KB]),Lt,Xt]})}}return t})();var ZB={provide:Ja,useExisting:In(()=>vi)},vi=(()=>{class t extends Ja{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new le,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GB(this,o)}ngOnChanges(n){this._added||this._setUpControl(),HB(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return FB(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(b(zo,13),b(nS,10),b(rS,10),b(Xa,10),b(_S,8))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wr([ZB]),Lt,Xt]})}}return t})(),QB={provide:Xa,useExisting:In(()=>qd),multi:!0};function ES(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function JB(t){return t.split(":")[0]}var qd=(()=>{class t extends Wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=ES(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=JB(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wr([QB]),Lt]})}}return t})(),IS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(ES(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(b(Ft),b(en),b(qd,9))}}static{this.\u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),XB={provide:Xa,useExisting:In(()=>wS),multi:!0};function JT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function e$(t){return t.split(":")[0]}var wS=(()=>{class t extends Wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=e$(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wr([XB]),Lt]})}}return t})(),CS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(JT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(JT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(b(Ft),b(en),b(wS,9))}}static{this.\u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var DS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Cn({type:t})}static{this.\u0275inj=wn({})}}return t})(),_y=class extends Go{constructor(e,n,r){super(Iy(n),wy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){vS(this,!1,e),e.forEach((r,i)=>{gS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function XT(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Zo=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return XT(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Bd(i,o)}record(n,r=null){let i=this._reduceControls(n);return new yy(i,r)}control(n,r,i){let o={};return this.useNonNullable?(XT(r)?o=r:(o.validators=r,o.asyncValidators=i),new Fd(n,B(I({},o),{nonNullable:!0}))):new Fd(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new _y(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Fd)return n;if(n instanceof Go)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Yd=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Cy,useValue:n.callSetDisabledState??Gd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Cn({type:t})}static{this.\u0275inj=wn({imports:[DS]})}}return t})(),Qo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:_S,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Cy,useValue:n.callSetDisabledState??Gd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Cn({type:t})}static{this.\u0275inj=wn({imports:[DS]})}}return t})();var Ke=class{id;name;description;priority;status;creationDate;expirationDate;isDelete;constructor(e,n,r,i,o,s,a,c){this.id=e,this.name=n,this.description=r,this.priority=i,this.status=o,this.creationDate=s,this.expirationDate=a,this.isDelete=c}getStatusText(){let e="";switch(this.status){case"IP":e="En proceso";break;case"C":e="Realizada";break;case"P":e="Pendiente";break}return e}getPriorityText(){switch(this.priority){case"H":return"Alta";case"M":return"Media";case"L":return"Baja";default:return""}}raisePriority(){switch(this.priority){case"L":this.priority="M";break;case"M":this.priority="H";break}}lowerPriority(){switch(this.priority){case"M":this.priority="L";break;case"H":this.priority="M";break}}changeStatus(){switch(this.status){case"C":this.status="IP";break;case"IP":this.status="C";break;case"P":this.status="IP";break}}getPriorityColor(){switch(this.priority){case"H":return"yellow";case"M":return"red";case"L":return"black";default:return""}}};function bS(){return t=>{let e=t.value;return new Date(e)>=new Date?null:{invaliDate:!0}}}var Kd=(t,e)=>({"is-valid":t,"is-invalid":e});function t$(t,e){t&1&&(g(0,"small"),E(1,"El nombre es requerido."),v())}function n$(t,e){t&1&&(g(0,"small"),E(1,"M\xE1ximo 50 caracteres."),v())}function r$(t,e){t&1&&(g(0,"small"),E(1,"M\xE1ximo 250 caracteres."),v())}function i$(t,e){t&1&&(g(0,"small"),E(1,"La prioridad es requerida."),v())}function o$(t,e){t&1&&(g(0,"small"),E(1,"Valor inv\xE1lido."),v())}function s$(t,e){t&1&&(g(0,"small"),E(1,"La fecha es requerida."),v())}function a$(t,e){t&1&&(g(0,"small"),E(1,"La fecha debe ser posterior a hoy."),v())}var Jo=class t{constructor(e,n){this.route=e;this.formBuilder=n;this.formTaskEdit=this.formBuilder.group({name:["",[De.required,De.maxLength(50)]],description:["",[De.maxLength(250)]],priority:["",[De.required,De.pattern(/^(L|M|H)$/)]],expirationDate:["",[De.required,bS()]]})}taskToEdit=null;saveTask=new le;newTask=new le;formTaskEdit;ngOnInit(){this.route.paramMap.subscribe(e=>{let n=e.get("id");console.log(n)})}ngOnChanges(){this.taskToEdit&&this.formTaskEdit.patchValue({name:this.taskToEdit.name,description:this.taskToEdit.description,priority:this.taskToEdit.priority,expirationDate:this.taskToEdit.expirationDate.toISOString().slice(0,16)})}onSubmit(){if(this.formTaskEdit.valid)if(this.taskToEdit){let e=B(I(I({},this.taskToEdit),this.formTaskEdit.value),{expirationDate:new Date(this.formTaskEdit.value.expirationDate)});this.saveTask.emit(e)}else{let e=new Ke(Math.floor(Math.random()*1e6),this.formTaskEdit.value.name,this.formTaskEdit.value.description,this.formTaskEdit.value.priority,"P",new Date(this.formTaskEdit.value.expirationDate),new Date,!1);this.saveTask.emit(e),this.formTaskEdit.reset()}}static \u0275fac=function(n){return new(n||t)(b(Nn),b(Zo))};static \u0275cmp=J({type:t,selectors:[["app-taskform"]],inputs:{taskToEdit:"taskToEdit"},outputs:{saveTask:"saveTask",newTask:"newTask"},standalone:!0,features:[Xt,X],decls:41,vars:25,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","description"],["id","description","rows","3","formControlName","description",1,"form-control",3,"ngClass"],["for","priority"],["id","priority","formControlName","priority",1,"form-control",3,"ngClass"],["value","","disabled",""],["value","H"],["value","M"],["value","L"],["for","expirationDate"],["type","datetime-local","id","expirationDate","formControlName","expirationDate",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){if(n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),ne("ngSubmit",function(){return r.onSubmit()}),g(4,"div",4)(5,"label",5),E(6,"Nombre:"),v(),Y(7,"input",6),g(8,"div",7),he(9,t$,2,0,"small",8)(10,n$,2,0,"small",8),v()(),g(11,"div",4)(12,"label",9),E(13,"Descripci\xF3n:"),v(),Y(14,"textarea",10),g(15,"div",7),he(16,r$,2,0,"small",8),v()(),g(17,"div",4)(18,"label",11),E(19,"Prioridad:"),v(),g(20,"select",12)(21,"option",13),E(22,"Seleccione una prioridad"),v(),g(23,"option",14),E(24,"Alta"),v(),g(25,"option",15),E(26,"Media"),v(),g(27,"option",16),E(28,"Baja"),v()(),g(29,"div",7),he(30,i$,2,0,"small",8)(31,o$,2,0,"small",8),v()(),g(32,"div",4)(33,"label",17),E(34,"Fecha de Expiraci\xF3n:"),v(),Y(35,"input",18),g(36,"div",7),he(37,s$,2,0,"small",8)(38,a$,2,0,"small",8),v()(),g(39,"button",19),E(40,"Guardar Cambios"),v()()()()()),n&2){let i,o,s,a,c,l,u,d,f,h,p;w(3),D("formGroup",r.formTaskEdit),w(4),D("ngClass",Xe(13,Kd,((i=r.formTaskEdit.get("name"))==null?null:i.valid)&&((i=r.formTaskEdit.get("name"))==null?null:i.touched),((i=r.formTaskEdit.get("name"))==null?null:i.invalid)&&((i=r.formTaskEdit.get("name"))==null?null:i.touched))),w(2),D("ngIf",(o=r.formTaskEdit.get("name"))==null?null:o.hasError("required")),w(),D("ngIf",(s=r.formTaskEdit.get("name"))==null?null:s.hasError("maxlength")),w(4),D("ngClass",Xe(16,Kd,((a=r.formTaskEdit.get("description"))==null?null:a.valid)&&((a=r.formTaskEdit.get("description"))==null?null:a.touched),((a=r.formTaskEdit.get("description"))==null?null:a.invalid)&&((a=r.formTaskEdit.get("description"))==null?null:a.touched))),w(2),D("ngIf",(c=r.formTaskEdit.get("description"))==null?null:c.hasError("maxlength")),w(4),D("ngClass",Xe(19,Kd,((l=r.formTaskEdit.get("priority"))==null?null:l.valid)&&((l=r.formTaskEdit.get("priority"))==null?null:l.touched),((l=r.formTaskEdit.get("priority"))==null?null:l.invalid)&&((l=r.formTaskEdit.get("priority"))==null?null:l.touched))),w(10),D("ngIf",(u=r.formTaskEdit.get("priority"))==null?null:u.hasError("required")),w(),D("ngIf",(d=r.formTaskEdit.get("priority"))==null?null:d.hasError("pattern")),w(4),D("ngClass",Xe(22,Kd,((f=r.formTaskEdit.get("expirationDate"))==null?null:f.valid)&&((f=r.formTaskEdit.get("expirationDate"))==null?null:f.touched),((f=r.formTaskEdit.get("expirationDate"))==null?null:f.invalid)&&((f=r.formTaskEdit.get("expirationDate"))==null?null:f.touched))),w(2),D("ngIf",(h=r.formTaskEdit.get("expirationDate"))==null?null:h.hasError("required")),w(),D("ngIf",(p=r.formTaskEdit.get("expirationDate"))==null?null:p.hasError("invaliDate")),w(),D("disabled",r.formTaskEdit.invalid)}},dependencies:[Te,rr,rn,Qo,Ko,IS,CS,Cr,qd,qo,Yo,gi,vi]})};var Dr=class{action;taskId;constructor(e,n){this.action=e,this.taskId=n}};var l$=(t,e,n)=>({" text-bg-danger":t,"text-bg-success":e,"text-bg-warning":n}),u$=t=>({"bi bi-play-fill":t}),d$=t=>({"bi bi-check-lg":t}),f$=t=>({"bi bi-arrow-return-right":t});function h$(t,e){t&1&&(g(0,"span"),E(1,"\xA0"),v())}function p$(t,e){if(t&1){let n=nr();g(0,"i",18),ne("click",function(){yt(n);let i=Je(2);return _t(i.raiseTaskPriority(i.taskInput.id))}),v()}}function m$(t,e){t&1&&(g(0,"span"),E(1,"\xA0"),v())}function g$(t,e){if(t&1){let n=nr();g(0,"i",19),ne("click",function(){yt(n);let i=Je(2);return _t(i.lowerTaskPriority(i.taskInput.id))}),v()}}function v$(t,e){if(t&1){let n=nr();g(0,"div",1)(1,"div",2)(2,"h5",3),E(3),v(),g(4,"div",4)(5,"div",5)(6,"h2",6)(7,"button",7),E(8),v()(),g(9,"div",8)(10,"ul",9)(11,"li",10),E(12),he(13,h$,2,0,"span",11)(14,p$,1,0,"i",12)(15,m$,2,0,"span",11)(16,g$,1,0,"i",13),v(),g(17,"li",10),E(18),g(19,"i",14),ne("click",function(){yt(n);let i=Je();return _t(i.changeTaskStatus(i.taskInput.id))}),v(),g(20,"i",14),ne("click",function(){yt(n);let i=Je();return _t(i.changeTaskStatus(i.taskInput.id))}),v(),g(21,"i",14),ne("click",function(){yt(n);let i=Je();return _t(i.changeTaskStatus(i.taskInput.id))}),v()(),g(22,"li",10),E(23),v(),g(24,"li",10)(25,"button",15),ne("click",function(){yt(n);let i=Je();return _t(i.editTask(i.taskInput.id))}),Y(26,"i",16),E(27," Editar "),v(),g(28,"button",15),ne("click",function(){yt(n);let i=Je();return _t(i.deleteTask(i.taskInput.id))}),Y(29,"i",17),E(30," Borrar "),v()()()()()()()()}if(t&2){let n=Je();D("ngClass",Aw(21,l$,n.taskInput.priority=="H",n.taskInput.priority=="L",n.taskInput.priority=="M")),w(3),As("",n.taskInput.name," ",n.taskInput.status,""),w(),D("id","accordionFlushExample"+n.taskInput.id),w(2),D("id","flush-headingOne"+n.taskInput.id),w(),Hr("data-bs-target","#flush-collapseOne"+n.taskInput.id)("aria-controls","flush-collapseOne"+n.taskInput.id),w(),tn(" ",n.taskInput.description," "),w(),D("id","flush-collapseOne"+n.taskInput.id),Hr("aria-labelledby","flush-headingOne"+n.taskInput.id)("data-bs-parent","#accordionFlushExample"+n.taskInput.id),w(3),tn(" Prioridad: ",n.taskInput.getPriorityText()," "),w(),D("ngIf",(n.taskInput.priority=="L"||n.taskInput.priority=="M")&&n.taskInput.status!="C"),w(),D("ngIf",(n.taskInput.priority=="L"||n.taskInput.priority=="M")&&n.taskInput.status!="C"),w(),D("ngIf",(n.taskInput.priority=="H"||n.taskInput.priority=="M")&&n.taskInput.status!="C"),w(),D("ngIf",(n.taskInput.priority=="H"||n.taskInput.priority=="M")&&n.taskInput.status!="C"),w(2),tn(" Estado: ",n.taskInput.getStatusText()," "),w(),D("ngClass",Gl(25,u$,n.taskInput.status=="P")),w(),D("ngClass",Gl(27,d$,n.taskInput.status=="IP")),w(),D("ngClass",Gl(29,f$,n.taskInput.status=="C")),w(2),tn("Expira: ",n.taskInput.expirationDate,"")}}var Zd=class t{taskInput=new Ke(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1);eventTaskModify=new le;raiseTaskPriority(e){this.eventTaskModify.emit(new Dr("raiseTaskPriority",e))}lowerTaskPriority(e){this.eventTaskModify.emit(new Dr("lowerTaskPriority",e))}changeTaskStatus(e){this.eventTaskModify.emit(new Dr("changeTaskStatus",e))}editTask(e){console.log("Task ID emitted from Taskresume:",e),this.eventTaskModify.emit(new Dr("editTask",e))}deleteTask(e){this.eventTaskModify.emit(new Dr("deleteTask",e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-taskresume"]],inputs:{taskInput:"taskInput"},outputs:{eventTaskModify:"eventTaskModify"},standalone:!0,features:[X],decls:1,vars:1,consts:[["class","card",3,"ngClass",4,"ngIf"],[1,"card",3,"ngClass"],[1,"card-body"],[1,"card-title"],[1,"accordion","accordion-flush",3,"id"],[1,"accordion-item"],[1,"accordion-header",3,"id"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"accordion-collapse","collapse",3,"id"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[4,"ngIf"],["class","bi bi-arrow-up-circle-fill",3,"click",4,"ngIf"],["class","bi bi-arrow-down-circle-fill",3,"click",4,"ngIf"],[3,"click","ngClass"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash"],[1,"bi","bi-arrow-up-circle-fill",3,"click"],[1,"bi","bi-arrow-down-circle-fill",3,"click"]],template:function(n,r){n&1&&he(0,v$,31,31,"div",0),n&2&&D("ngIf",r.taskInput.isDelete==!1)},dependencies:[Te,rr,rn],styles:[".card[_ngcontent-%COMP%]{margin-top:2%;margin-bottom:2%}"]})};var Qd=class t{constructor(){}taskList=[new Ke(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1),new Ke(2,"Tarea 2","Descripci\xF3n Tarea 2","H","IP",new Date("11/5/2024"),new Date("11/16/2024"),!1),new Ke(3,"Tarea 3","Descripci\xF3n Tarea 3","L","IP",new Date("11/21/2024"),new Date("11/30/2024"),!1),new Ke(4,"Tarea 4","Descripci\xF3n Tarea 4","H","C",new Date("11/8/2024"),new Date("11/21/2024"),!1),new Ke(5,"Tarea 5","Descripci\xF3n Tarea 5","M","P",new Date("11/10/2024"),new Date("11/30/2024"),!1)];taskToEdit=null;getAllTasks(){return this.taskList}editTask(e){let n=this.getTask(e)[0];n&&(this.taskToEdit=new Ke(n.id,n.name,n.description,n.priority,n.status,n.creationDate,n.expirationDate,n.isDelete))}modifyTask(e){switch(e.action){case"raiseTaskPriority":this.raiseTaskPriority(e.taskId);break;case"lowerTaskPriority":this.lowerTaskPriority(e.taskId);break;case"changeTaskStatus":this.changeTaskStatus(e.taskId);break;case"editTask":this.editTask(e.taskId);break;case"deleteTask":this.deleteTask(e.taskId);break}}getTask(e){return this.taskList.filter(n=>n.id===e)}deleteTask(e){this.taskList=this.taskList.filter(n=>n.id!==e)}onSaveTask(e){let n=this.taskList.findIndex(r=>r.id===e.id);n>-1?this.taskList[n]=Object.assign(new Ke(0,"","","L","P",new Date,new Date,!1),e):this.taskList.push(Object.assign(new Ke(0,"","","L","P",new Date,new Date,!1),e)),this.taskToEdit=null}raiseTaskPriority(e){let n=this.getTask(e)[0];n&&n.raisePriority()}lowerTaskPriority(e){let n=this.getTask(e)[0];n&&n.lowerPriority()}changeTaskStatus(e){let n=this.getTask(e)[0];n&&n.changeStatus()}addNewTask(e){this.taskList.push(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};function _$(t,e){if(t&1){let n=nr();Cp(0),g(1,"app-taskresume",5),ne("eventTaskModify",function(i){yt(n);let o=Je();return _t(o.modifyTask(i))}),v(),Dp()}if(t&2){let n=e.$implicit;w(),D("taskInput",n)}}var Jd=class t{constructor(e){this.taskService=e}taskList=[];taskToEdit=null;ngOnInit(){this.taskList=this.taskService.getAllTasks()}modifyTask(e){console.log("Event received in modifyTask:",e),e.action==="editTask"&&this.editTask(e.taskId),this.taskService.modifyTask(e),this.taskList=this.taskService.getAllTasks()}editTask(e){console.log("Task ID received in Tasklist:",e),this.taskService.editTask(e),this.taskToEdit=this.taskService.taskToEdit,console.log("Task to edit in Tasklist:",this.taskToEdit)}onSaveTask(e){console.log("Saving task:",e),this.taskService.onSaveTask(e),this.taskList=this.taskService.getAllTasks(),console.log("Updated task list:",this.taskList),this.taskToEdit=null}addNewTask(e){this.taskService.addNewTask(e)}static \u0275fac=function(n){return new(n||t)(b(Qd))};static \u0275cmp=J({type:t,selectors:[["app-tasklist"]],standalone:!0,features:[X],decls:10,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[3,"saveTask","newTask","taskToEdit"],[4,"ngFor","ngForOf"],[3,"eventTaskModify","taskInput"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-taskform",3),ne("saveTask",function(o){return r.onSaveTask(o)})("newTask",function(o){return r.addNewTask(o)}),v()()(),g(4,"div",1)(5,"div",2)(6,"h3"),E(7,"Listado de Tareas"),v()(),g(8,"div",2),he(9,_$,2,1,"ng-container",4),v()()()),n&2&&(w(3),D("taskToEdit",r.taskToEdit),w(6),D("ngForOf",r.taskList))},dependencies:[Te,Kw,Zd,Jo,Yd],styles:[".card[_ngcontent-%COMP%]{margin-top:2%;margin-bottom:2%}"]})};var Xd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-tasks"]],standalone:!0,features:[X],decls:3,vars:0,template:function(n,r){n&1&&Y(0,"app-navbar")(1,"app-tasklist")(2,"app-footer")},dependencies:[Tt,Jd,Er,Te]})};function SS(){return t=>{let e=t.value;return!e||e==""||e.length>=9&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/[0-9]/.test(e)&&/[!@#$%^&*(),.?":{}|<>]/.test(e)?null:{invalidPassword:!0}}}var AS=(t,e)=>({"is-invalid":t,"is-valid":e});function E$(t,e){t&1&&(g(0,"small"),E(1," Debe de introducir una direcci\xF3n de email. "),v())}function I$(t,e){t&1&&(g(0,"small"),E(1," El formato del correo introducido no es v\xE1lido. "),v())}function w$(t,e){t&1&&(g(0,"small"),E(1," Lo sentimos, pero no ha introducido una contrase\xF1a. "),v())}function C$(t,e){t&1&&(g(0,"small"),E(1," La contrase\xF1a no cumple con los requisitos m\xEDnimos. "),v())}var ef=class t{constructor(e,n,r){this.authService=n;this.router=r;this.formLogin=e.group({email:["",[De.required,De.email]],password:["",[De.required,SS()]]})}formLogin;onSubmit(){this.formLogin.valid?(console.log("Formulario v\xE1lido:",this.formLogin.value),this.authService.login(this.formLogin.value).then(e=>{console.log(e)}).catch(e=>console.log(e))):console.log("Formulario inv\xE1lido:",this.formLogin.errors)}onClick(){this.authService.loginWithGoogle().then(e=>{console.log(e),this.router.navigate(["/login"])}).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(b(Zo),b(pn),b(jt))};static \u0275cmp=J({type:t,selectors:[["app-login"]],standalone:!0,features:[X],decls:26,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-md-12","d-flex","justify-content-center"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Introduce email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Introduce password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(n,r){if(n&1&&(Y(0,"app-navbar"),g(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1"),E(5,"Login"),v()(),g(6,"div",3)(7,"form",4),ne("ngSubmit",function(){return r.onSubmit()}),g(8,"div",5)(9,"label",6),E(10,"Email"),v(),Y(11,"input",7),g(12,"div",8),he(13,E$,2,0,"small",9)(14,I$,2,0,"small",9),v()(),g(15,"div",5)(16,"label",10),E(17,"Password"),v(),Y(18,"input",11),g(19,"div",8),he(20,w$,2,0,"small",9)(21,C$,2,0,"small",9),v()(),g(22,"button",12),E(23," Login "),v()(),g(24,"button",13),ne("click",function(){return r.onClick()}),E(25,"Login With Google"),v()()()()),n&2){let i,o,s,a,c,l;w(7),D("formGroup",r.formLogin),w(4),D("ngClass",Xe(8,AS,((i=r.formLogin.get("email"))==null?null:i.invalid)&&((i=r.formLogin.get("email"))==null?null:i.touched),((i=r.formLogin.get("email"))==null?null:i.valid)&&((i=r.formLogin.get("email"))==null?null:i.touched))),w(2),D("ngIf",(o=r.formLogin.get("email"))==null||o.errors==null?null:o.errors.required),w(),D("ngIf",(s=r.formLogin.get("email"))==null||s.errors==null?null:s.errors.email),w(4),D("ngClass",Xe(11,AS,((a=r.formLogin.get("password"))==null?null:a.invalid)&&((a=r.formLogin.get("password"))==null?null:a.touched),((a=r.formLogin.get("password"))==null?null:a.valid)&&((a=r.formLogin.get("password"))==null?null:a.touched))),w(2),D("ngIf",(c=r.formLogin.get("password"))==null||c.errors==null?null:c.errors.required),w(),D("ngIf",(l=r.formLogin.get("password"))==null||l.errors==null?null:l.errors.invalidPassword),w(),D("disabled",r.formLogin.invalid)}},dependencies:[Te,rr,rn,Tt,Qo,Ko,Cr,qo,Yo,gi,vi]})};function NS(){return t=>{let e=t.value;return!e||e==""||e.length>=9&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/[0-9]/.test(e)&&/[!@#$%^&*(),.?":{}|<>]/.test(e)?null:{invalidPassword:!0}}}function MS(){return t=>{let e=t.get("password")?.value,n=t.get("repeatPassword")?.value;return e===n?null:{passwordsMismatch:!0}}}var tf=(t,e)=>({"is-invalid":t,"is-valid":e}),D$=(t,e)=>({"is-valid":t,"is-invalid":e});function b$(t,e){t&1&&(g(0,"small"),E(1,"Lo sentimos pero tiene que introducir su nombre"),v())}function T$(t,e){t&1&&(g(0,"small"),E(1,"Lo sentimos pero tiene que introducir su apellido"),v())}function S$(t,e){t&1&&(g(0,"small"),E(1," Debe de introducir una direcci\xF3n de email. "),v())}function A$(t,e){t&1&&(g(0,"small"),E(1," El formato del correo introducido no es v\xE1lido. "),v())}function N$(t,e){t&1&&(g(0,"small"),E(1," Lo sentimos, pero no ha introducido una contrase\xF1a. "),v())}function M$(t,e){t&1&&(g(0,"small"),E(1," La contrase\xF1a no cumple con los requisitos m\xEDnimos. "),v())}function R$(t,e){t&1&&(g(0,"small"),E(1," Las contrase\xF1as no coinciden. "),v())}var nf=class t{constructor(e,n,r,i){this.fb=e;this.authService=n;this.router=r;this.personService=i;this.formSingin=this.fb.group({email:["",[De.required,De.email]],password:["",[De.required,NS()]],repeatPassword:["",[De.required]],name:["",[De.required]],surname:["",[De.required]],isAdmin:[!1]},{validators:MS()})}formSingin;onSubmit(){if(this.formSingin.valid){let e=this.formSingin.get("name")?.value,n=this.formSingin.get("surname")?.value,r=this.formSingin.get("email")?.value,i=this.formSingin.get("password")?.value,s=this.formSingin.get("isAdmin")?.value?"A":"U";this.authService.register({email:r,password:i}).then(a=>{let l={uid:a.user.uid,name:e,surname:n,email:r,role:s,createAt:new Date().toString()};this.personService.savePerson(l).then(()=>{alert("Usuario Registrado Correctamente"),this.router.navigate(["/login"])}).catch(u=>console.error("Error al guardar los datos del usuario:",u))}).catch(a=>{console.error("Error en el registro:",a)})}}static \u0275fac=function(n){return new(n||t)(b(Zo),b(pn),b(jt),b(Bo))};static \u0275cmp=J({type:t,selectors:[["app-signin"]],standalone:!0,features:[X],decls:46,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-md-12","d-flex","justify-content-center"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","name","formControlName","name","id","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","surname"],["type","surname","formControlName","surname","id","surname",1,"form-control",3,"ngClass"],[1,"form-check","form-switch"],["type","checkbox","id","isAdmin","formControlName","isAdmin",1,"form-check-input"],["for","isAdmin",1,"form-check-label"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Introduce email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Introduce contrase\xF1a",1,"form-control",3,"ngClass"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","placeholder","Repite contrase\xF1a",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,r){if(n&1&&(Y(0,"app-navbar"),g(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1"),E(5,"Sign in"),v()(),g(6,"div",2)(7,"form",3),ne("ngSubmit",function(){return r.onSubmit()}),g(8,"div",4)(9,"label",5),E(10,"Nombre:"),v(),Y(11,"input",6),g(12,"div",7),he(13,b$,2,0,"small",8),v()(),g(14,"div",4)(15,"label",9),E(16,"Apellidos:"),v(),Y(17,"input",10),g(18,"div",7),he(19,T$,2,0,"small",8),v()(),g(20,"div",11),Y(21,"input",12),g(22,"label",13),E(23,"isAdmin"),v()(),g(24,"div",4)(25,"label",14),E(26,"Email"),v(),Y(27,"input",15),g(28,"div",7),he(29,S$,2,0,"small",8)(30,A$,2,0,"small",8),v()(),g(31,"div",4)(32,"label",16),E(33,"Password"),v(),Y(34,"input",17),g(35,"div",7),he(36,N$,2,0,"small",8)(37,M$,2,0,"small",8),v()(),g(38,"div",4)(39,"label",18),E(40,"Repeat Password"),v(),Y(41,"input",19),g(42,"div",7),he(43,R$,2,0,"small",8),v()(),g(44,"button",20),E(45,"Sign In"),v()()()()()),n&2){let i,o,s,a,c,l,u,d,f,h,p;w(7),D("formGroup",r.formSingin),w(4),D("ngClass",Xe(14,tf,(i=r.formSingin.get("name"))==null?null:i.invalid,(i=r.formSingin.get("name"))==null?null:i.valid)),w(2),D("ngIf",(o=r.formSingin.get("name"))==null||o.errors==null?null:o.errors.required),w(4),D("ngClass",Xe(17,tf,(s=r.formSingin.get("surname"))==null?null:s.invalid,(s=r.formSingin.get("surname"))==null?null:s.valid)),w(2),D("ngIf",(a=r.formSingin.get("surname"))==null||a.errors==null?null:a.errors.required),w(8),D("ngClass",Xe(20,tf,((c=r.formSingin.get("email"))==null?null:c.invalid)&&((c=r.formSingin.get("email"))==null?null:c.touched),((c=r.formSingin.get("email"))==null?null:c.valid)&&((c=r.formSingin.get("email"))==null?null:c.touched))),w(2),D("ngIf",(l=r.formSingin.get("email"))==null||l.errors==null?null:l.errors.required),w(),D("ngIf",(u=r.formSingin.get("email"))==null||u.errors==null?null:u.errors.email),w(4),D("ngClass",Xe(23,tf,((d=r.formSingin.get("password"))==null?null:d.invalid)&&((d=r.formSingin.get("password"))==null?null:d.touched),((d=r.formSingin.get("password"))==null?null:d.valid)&&((d=r.formSingin.get("password"))==null?null:d.touched))),w(2),D("ngIf",(f=r.formSingin.get("password"))==null||f.errors==null?null:f.errors.required),w(),D("ngIf",(h=r.formSingin.get("password"))==null||h.errors==null?null:h.errors.invalidPassword),w(4),D("ngClass",Xe(26,D$,((p=r.formSingin.get("repeatPassword"))==null?null:p.valid)&&!r.formSingin.hasError("passwordsMismatch")&&((p=r.formSingin.get("repeatPassword"))==null?null:p.touched),r.formSingin.hasError("passwordsMismatch")&&((p=r.formSingin.get("repeatPassword"))==null?null:p.touched))),w(2),D("ngIf",r.formSingin.hasError("passwordsMismatch")),w(),D("disabled",r.formSingin.invalid)}},dependencies:[Te,rr,rn,Tt,Qo,Ko,Cr,Ey,qo,Yo,gi,vi]})};var RS=x(t=>!!t),x$=(()=>{class t{router;auth;constructor(n,r){this.router=n,this.auth=r}canActivate=(n,r)=>{let i=n.data.authGuardPipe||(()=>RS);return Ab(this.auth).pipe(Qe(1),i(n,r),x(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||t)(P(jt),P(Ln))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),ec=t=>({canActivate:[x$],data:{authGuardPipe:t}});var tc=t=>rs(RS,x(e=>e||t));var xS=[{path:"login",component:ef},{path:"singin",component:nf},I({path:"home",component:kd},ec(()=>tc(["/login"]))),I({path:"tasks",component:Xd},ec(()=>tc(["/login"]))),I({path:"dashboard",component:xd,children:[{path:"stats",component:Rd},{path:"profile",component:$o}]},ec(()=>tc(["/login"]))),I({path:"taskedit/:id",component:Jo},ec(()=>tc(["/login"]))),{path:"notfound",component:Pd},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/notfound",pathMatch:"full"}];var k$={projectId:"gdi-firebase-auth-a8ca9",appId:"1:572220594585:web:f0b9ab9822e9dee1369b08",storageBucket:"gdi-firebase-auth-a8ca9.firebasestorage.app",apiKey:"AIzaSyAKxvBSIg34VQLxMzpi6s0XjagrHtYreU0",authDomain:"gdi-firebase-auth-a8ca9.firebaseapp.com",messagingSenderId:"572220594585",databaseURL:"https://gdi-firebase-auth-a8ca9-default-rtdb.europe-west1.firebasedatabase.app"},kS={providers:[Ow({eventCoalescing:!0}),QC(xS),mC(),AD(()=>ND(k$)),Sb(()=>Mb()),LT(()=>UT())]};var rf=class t{nombre=" ";imagenAleatoria="";numero=0;muestraImagen(){let e;e=Math.round(Math.random()*1e3+100),this.imagenAleatoria="https://picsum.photos/200/300?random="+e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-root"]],standalone:!0,features:[X],decls:1,vars:0,template:function(n,r){n&1&&Y(0,"router-outlet")},dependencies:[Js,Yd]})};hC(rf,kS).catch(t=>console.error(t));
